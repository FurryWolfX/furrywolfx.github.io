<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Egret 游戏引擎学习笔记 | Wolfx's Notebook</title>
    <meta name="description" content="Wolfx's Notebook">
    <link rel="preload stylesheet" href="/assets/style.a86bf591.css" as="style">
    
    <script type="module" src="/assets/app.8867d07b.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.a5795de3.js">
    <link rel="modulepreload" href="/assets/chunks/theme.7c848712.js">
    <link rel="modulepreload" href="/assets/docs_frontend_canvas_egret-note.md.d2b3f4cf.lean.js">
    <meta name="version" content="4.0-framework-1.0.0-rc.10">
    <link rel="icon" href="/logo.png">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-4064354f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-4064354f data-v-5bdc5df3><div class="VPNavBar has-sidebar" data-v-5bdc5df3 data-v-f1abbc6e><div class="container" data-v-f1abbc6e><div class="title" data-v-f1abbc6e><div class="VPNavBarTitle has-sidebar" data-v-f1abbc6e data-v-2973dbb4><a class="title" href="/" data-v-2973dbb4><!--[--><!--]--><!----><!--[-->Wolfx&#39;s Notebook<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f1abbc6e><div class="curtain" data-v-f1abbc6e></div><div class="content-body" data-v-f1abbc6e><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-f1abbc6e><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f1abbc6e data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Notes</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pages/about.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>About</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f1abbc6e data-v-5e9f0637><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-5e9f0637 data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-f1abbc6e data-v-c8c2ae4b data-v-aa8de344><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-aa8de344><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-aa8de344><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-aa8de344><div class="VPMenu" data-v-aa8de344 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-c8c2ae4b><div class="item appearance" data-v-c8c2ae4b><p class="label" data-v-c8c2ae4b>夜间模式</p><div class="appearance-action" data-v-c8c2ae4b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-c8c2ae4b data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f1abbc6e data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-4064354f data-v-9e669cc1><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-9e669cc1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-9e669cc1><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-9e669cc1>目录</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-9e669cc1 data-v-24251f6f><button data-v-24251f6f>返回顶部</button><!----></div></div><aside class="VPSidebar" data-v-4064354f data-v-ee2efba5><div class="curtain" data-v-ee2efba5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-ee2efba5><span class="visually-hidden" id="sidebar-aria-label" data-v-ee2efba5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 has-active" data-v-ee2efba5 data-v-bd01e0d5><!----><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/win-remove-old-driver.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>笔记：如何从 Windows 中删除旧设备驱动程序</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/replace-electron.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>代替 Electron 的几种方案</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/py-yolox.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用 YOLOX 进行目标检测训练</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/py-pyautogui.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用 Python 构建UI自动化脚本</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/mvvm/vue2-to-vue3-tips.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Vue2 升级 Vue3 注意点</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/fabric.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Fabric.js 补充笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/fix-uwp.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>修复UWP应用在启动页闪退的问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/canvas-note2.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Canvas 事件系统的思考</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/laya-compile.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>魔改 Laya 编译脚本实现兼容常规 NPM 包</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/iptables-proxy.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>记录两种内网linux上网的方式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/rust-env-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Rust 环境搭建笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/ios-cert.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>iOS App 证书申请流程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/3d/blender-03-modeling.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Blender 笔记03: 建模篇</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/3d/blender-02-modify.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Blender 笔记02: 修改器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/3d/blender-01-basic.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Blender 笔记01: 基本操作和编辑模式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/gitlab-500.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>解决GitLab删除或迁移项目报500</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/linux-del-file-by-date.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 按时间批量删除文件（删除30天前文件）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/remove-console.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>生产环境全局移除console</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/mvvm/nuxt-build-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>nuxt 构建相关笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/database/mysql-export.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>mysqldump 导出提示 Couldn't execute SELECT COLUMN_NAME...</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/database/es-note-01.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Elasticsearch 笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/flutter-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Flutter 学习笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/bin-in-nodejs.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>NodeJS 处理二进制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/frp-guide.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 frp 暴露内网服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/centos-8-faq.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CentOS 8 FAQ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/egret-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Egret 游戏引擎学习笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/spark-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Spark 学习日记（初探）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/hadoop-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>hadoop 学习日记（初探）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/node-static-file-server.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>NodeJS 一行命令搭建静态文件服务器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/docker-note-4.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Docker 笔记(常用模板)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/docker-note-3.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Docker开启Remote API 访问 2375端口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/docker-note-2.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Docker 笔记(构建)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/react-native-tips.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>React Native 开发笔记（长期更新）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-route-algorithm.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>记一个路径遍历算法（JS）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/table-colspan-convert.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>记一个 Table 跨行转换算法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/centos-disk-extend.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CentOS 磁盘扩容</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/jenkins-guide.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Jenkins 问题汇总</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/vscode-config-template.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>公司内 vscode 统一配置规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/linux-vpn.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux VPN Server 异地组网</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/d3-map.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 d3.js 做一个地图迁徙图</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/gps-coordinate-transofrm.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>坐标系转换算法与投影算法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/docker-nuxt.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Docker 打包 NuxtJS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/gitlab-mail.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>GitLab 配置邮件通知</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/webpack-umd-pkg.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JavaScript UMD 插件编写规范(修订)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/deepin-linux-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>deepin linux 使用与运维日记（长期更新）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/personal-npm-packages.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>个人 NPM 包索引帖</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/html5-live-video.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>HTML5 播放 RTSP/RTMP 方案</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/other/webstorm-conf-log4js.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>WebStorm 针对 log4js 日志格式的高亮配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/other/cloc.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>优雅地统计代码行数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/phaser-ce-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Phaser-CE 游戏引擎学习笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/fe-js-image-compress.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JavaScript 前端图片压缩方案，支持方向识别和修正</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/macos-faq.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>macOS 常用笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/webpack-multi-cores-optmise.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>针对 WebPack 多核利用率低的现状的优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-08.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 08：与原生 Android 交互</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/android-q-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Android 问题笔记【持续更新】</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/ios-keyboard-scroll-bug.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>踩坑：iOS 微信浏览器关闭键盘时页面不回弹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/node-pkg-manager-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>2 种 NodeJS 包管理工具的仓库和缓存配置笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/the-width-in-browser.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>浏览器中那些容易混淆的宽高属性（MDN）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-word-counter.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 javascript 统计字数，计数问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/nodejs-aop.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>NodeJS AOP 实践</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/linux-traceroute.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux traceroute 命令排查网络状况</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/checkinstall-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux CheckInstall 命令使用指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/other/aria2-cmds.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>aria2 常用命令</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/qt-cpp-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>QT（C++）自学日记（长期更新）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/css-nth-child.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CSS nth-child 详解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-copy-to-clipboard.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 用巧妙的方式实现复制内容到剪贴板</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/mvvm/global-component-of-react-and-vue.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>react 和 vue 全局组件的实现方式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/mvvm/vue2-editor-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用 vue2-editor 遇到的问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/database/mongodb-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>mongodb 使用笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/mobile-css-compatible.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>移动端 CSS 适配笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-spider-for-gb2312.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 nodejs 爬虫获取一个 gb2312 编码的网站的 2 个坑</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/regexps-for-you.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>常用正则校验整理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/other/git-guide.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Git Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/css-bfc.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CSS 的结界 BFC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/centos-7-faq.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CentOS 7 FAQ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/centos-6-to-7.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>记一个 CentOS 6 升 7</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-http-proxy.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>27 行 nodejs 实现请求转发</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-blockchain.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>区块链学习：nodejs 实现一个基本区块链</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-read-file-list.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>nodejs 递归读取目录下所有文件的路径</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/node-cli-framework.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 NodeJS 写 CLI</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/custom-scrollbar.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>自定义浏览器滚动条的样式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/set-ff-dns-cache.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>修改火狐默认的 DNS 缓存时间</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/database/mysql-sql-adv-guide.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>MySQL 的一些常用 SQL 集合</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/mvvm/some-optimize-after-create-react-app.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用 react 脚手架 create-react-app 创建项目后的几个优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-event-popstate.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 监听微信、支付宝等移动 app 及浏览器的返回、后退、上一页按钮的事件方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/puppeteer-start-guide.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Google Puppeteer 入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/load-js-async.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>简单实现异步加载 JavaScript</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-nvm.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>NodeJS NVM 使用笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/the-diff-of-similar-objects-in-js.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>利用 JS 实现的根据经纬度计算地球上两点之间的距离</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/es6-arraybuffer.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JavaScript 二进制数组（应用）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-geo-distance.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>利用 JS 实现的根据经纬度计算地球上两点之间的距离</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/redis-remote-access.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Redis 开启远程访问</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-chgcase.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 全角半角转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-chinese-num-upper-case.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 金额大写转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/css-text-overflow.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CSS3 text-overflow 字符串截取</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/docker-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Docker 笔记(部署)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/remove-repeat-when-array-item-is-object.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>对象元素的数组去重实现</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/webkit-font-smoothing.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>让页面的字体变得更清晰（css 实现）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-params.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>图解 JavaScript 的参数传递</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-dependency-injection.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>初识 JavaScript 依赖注入</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/d3-simple-custom-bar.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 d3.js 做一个简单的柱状</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/canvas-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Canvas 笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/gen-uuid-by-js.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 生成 UUID/GUID</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-rxjs-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>通俗的方式理解 RxJS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/manjaro-optimize.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Manjaro 安装后的一些优化（待添加）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/use-async-await-in-weapps.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何在微信小程序中使用 ES7 特性 async/await</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/pxe-guide.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>利用 PXE 远程启动 ISO</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/react-navigation-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>React-Navigation 使用笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/ssh-login-without-password.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>SSH 免密登录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/remote-desktop-error-on-win.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Windows 远程桌面报错：“由于没有远程桌面授权服务器可以提供许可证”</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/build-rn-dev-env.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>React-Native 搭建开发环境</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/h5plus-and-mui-faq.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>H5Plus/MUI FAQ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/how-to-hide-tomcat-window.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何隐藏 Tomcat 命令窗口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/linux-tar-backup.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 使用自带的 tar 实现增量备份</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/linux-cmds.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 常用（通用）命令整理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/node-pm2.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>node.js pm2 的使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/other/use-redirector-plugin.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用 Redirector 插件解决 googleapis 公共库加载的问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/nginx-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Nginx 笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/how-to-change-tomcat-log-default-encode.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>修改 Tomcat 应用日志默认编码格式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-exec-with-tail-exe.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>NodeJS 利用 tail 命令，动态读取日志</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/watch-port-by-nodejs.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>NodeJS 判断端口是否被占用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/accelerate-build-gradle-net-speed-in-china.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>加速 build.gradle 的下载速度</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/arch-linux-faq-wiki.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>ArchLinux 实用 wiki 汇总</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/ubuntu-faq.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Ubuntu（基于 elementary）问题汇总</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/other/useful-git-cmds.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>很有用的 Git 命令</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/mvvm/react-custom-img.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>React 图片获取失败时能显示指定的默认图片</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/html5-m3u8.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何让 video 标签支持 hls/m3u8 视频流直播</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/gulp-frequently-plugins.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Gulp 常用插件及其使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/how-to-watch-the-file-running-state-on-linux.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 查看进程“打开”的文件或文件对应的进程及网络状态</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/how-to-watch-port-on-win.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Windows 上如何查看端口占用情况</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/change-pip3-default-source.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>pip3 怎样修改默认源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/close-notice-in-php.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>PHP 如何关闭 notice 级别的错误提示</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/createjs-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CreateJS 笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-merge-region.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JavaScript 合并区间的算法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/html-viewport.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>一些关于 Viewport 与 device-width 的东西</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-compare-ver.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何优雅地比较版本号</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/you-have-n-methods-to-kill-process-on-linux.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 中 Kill 进程的 N 种方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/jquery/jquery-qrcode-chinese-problem.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>解决 jquery.qrcode 中文识别问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/install-pip-on-linux.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 中 pip 安装步骤与使用详解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/reload-replace-and-href.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>location.reload 与 location.replace 与 location.href</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/disable-iframe-reference-your-website.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>禁止别人以 iframe 加载你的页面</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-get-img-base64.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 获取图片的 BASE64</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-random-funcs.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 随机算法合集</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-closure.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>javascript 深入理解 js 闭包</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/document-activeelement.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>利用 document.activeElement 获取焦点元素</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/web-worker.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>HTML5 Web Worker 的使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/htmlencode-and-htmldecode.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 另类方法高效实现 htmlencode() 与 htmldecode() 函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/html5-file-api.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>HTML5 File API 实现带有进度提示的文件上传</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/html-link-rel.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>link 标签中 rel=* 的作用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/download-full-website-by-using-wget.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 linux 下常用命令 wget 进行整站下载（递归下载至本地）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/support-ajax-on-fs-in-chrome.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>让您的 Chrome 浏览器允许本地环境支持 Ajax</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/disable-chrome-autocomplete.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何禁止 (表单) 用户名、密码自动填充</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/disable-video-full-screen-on-ios.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何禁止 iPhone Safari video 标签视频自动全屏？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/html5-tel.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>WAP/HTML5 手机拨号链接 & 发送短信</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/zip-unreadable-code-on-linux.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux zip 解压文件名乱码解决方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/install-services-on-linux.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 常用服务端环境配置攻略</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-md5-support-chinese.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Node.js md5 中文支持</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/node-schedule.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>node.js 定时任务：node-schedule 的使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-07.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 07：cordova-plugin-baidu-geolocation 定位偏差问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-06.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 06：处理网络缓慢被墙的问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-05.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 05：白名单的配置和说明 Whitelist</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-04.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 04：常用插件与使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-03.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 03：如何生成安卓 apk-release 版</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-02.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 02：navigation.app 和 event</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-01.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 01：环境部署</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/disable-copy-using-css.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>通过 CSS 让 html 网页中的内容不可选</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/database/how-to-access-mysql-remotely.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>远程访问 Linux 上 MySQL 出错解决方案</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-conv.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 进制转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-check-is-img-exists.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 判断图片是否存在 兼容多浏览器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/html-head.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>HTML head 头标签笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/win7-0x000006d9-error.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>win7 打印机共享出现 0x000006d9 错误的解决方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/7-useful-funs-in-seajs.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>seajs 最常用 7 个方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/powershell-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>PowerShell 笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/operations-of-frames.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>对 frameset、iframe、frame 的操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/ch-bugs-in-pd-reverse-project.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>脚本解决 PowerDesigner 逆向工程生成 PDM 时中文注释问题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-4064354f data-v-3cf691b6><div class="VPDoc has-sidebar has-aside" data-v-3cf691b6 data-v-a3c25e27><!--[--><!--]--><div class="container" data-v-a3c25e27><div class="aside" data-v-a3c25e27><div class="aside-curtain" data-v-a3c25e27></div><div class="aside-container" data-v-a3c25e27><div class="aside-content" data-v-a3c25e27><div class="VPDocAside" data-v-a3c25e27 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-626d8d18><div class="content" data-v-626d8d18><div class="outline-marker" data-v-626d8d18></div><div class="outline-title" role="heading" data-v-626d8d18>大纲(Outline)</div><nav aria-labelledby="doc-outline-aria-label" data-v-626d8d18><span class="visually-hidden" id="doc-outline-aria-label" data-v-626d8d18> Table of Contents for current page </span><ul class="root" data-v-626d8d18 data-v-463da30f><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-a3c25e27><div class="content-container" data-v-a3c25e27><!--[--><!--]--><!----><main class="main" data-v-a3c25e27><div style="position:relative;" class="vp-doc _docs_frontend_canvas_egret-note" data-v-a3c25e27><div><h1 id="egret-游戏引擎学习笔记" tabindex="-1">Egret 游戏引擎学习笔记 <a class="header-anchor" href="#egret-游戏引擎学习笔记" aria-label="Permalink to &quot;Egret 游戏引擎学习笔记&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Egret 游戏引擎学习，以下是对用到的知识点和常用代码片段进行归纳。</p></div><h2 id="main-最简结构" tabindex="-1">Main 最简结构 <a class="header-anchor" href="#main-最简结构" aria-label="Permalink to &quot;Main 最简结构&quot;">​</a></h2><p>最简结构：包含资源加载和展示过渡动画</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Main</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">DisplayObjectContainer</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">logo</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Bitmap</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">constructor</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(egret.Event.</span><span style="color:#79B8FF;">ADDED_TO_STAGE</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.onAddedToStage, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onAddedToStage</span><span style="color:#E1E4E8;">()</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">loadResource</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">loadResource</span><span style="color:#E1E4E8;">()</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Promise</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.ResourceEvent.</span><span style="color:#79B8FF;">GROUP_COMPLETE</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.onLoadResourceComplete, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.ResourceEvent.</span><span style="color:#79B8FF;">GROUP_PROGRESS</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.onLoadResource, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">loadConfig</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;resource/default.res.json&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;resource/&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">loadGroup</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;preload&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onLoadResourceComplete</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">ev</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">ResourceEvent</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;"> {}</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onLoadResource</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">ev</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">ResourceEvent</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;"> {}</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Main</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">DisplayObjectContainer</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#E36209;">logo</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Bitmap</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(egret.Event.</span><span style="color:#005CC5;">ADDED_TO_STAGE</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.onAddedToStage, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onAddedToStage</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">loadResource</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">loadResource</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Promise</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">void</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.ResourceEvent.</span><span style="color:#005CC5;">GROUP_COMPLETE</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.onLoadResourceComplete, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.ResourceEvent.</span><span style="color:#005CC5;">GROUP_PROGRESS</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.onLoadResource, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">loadConfig</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;resource/default.res.json&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;resource/&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">loadGroup</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;preload&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onLoadResourceComplete</span><span style="color:#24292E;">(</span><span style="color:#E36209;">ev</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ResourceEvent</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;"> {}</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onLoadResource</span><span style="color:#24292E;">(</span><span style="color:#E36209;">ev</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ResourceEvent</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;"> {}</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="动画" tabindex="-1">动画 <a class="header-anchor" href="#动画" aria-label="Permalink to &quot;动画&quot;">​</a></h2><p>做常用的动画为 <code>Tween</code> 和 <code>movieclip</code>，骨骼动画过于复杂不在这里介绍。可以查看官方“龙骨”动画的教程。</p><h3 id="tween-的使用示例" tabindex="-1">Tween 的使用示例 <a class="header-anchor" href="#tween-的使用示例" aria-label="Permalink to &quot;Tween 的使用示例&quot;">​</a></h3><p>实现一个平移</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.logo </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> egret.</span><span style="color:#B392F0;">Bitmap</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.logo.texture </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">getRes</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;egret_icon_png&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addChild</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.logo);</span></span>
<span class="line"><span style="color:#6A737D;">// 过渡动画 tween</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">tw</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.Tween.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.logo);</span></span>
<span class="line"><span style="color:#E1E4E8;">tw.</span><span style="color:#B392F0;">to</span><span style="color:#E1E4E8;">({ x: </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">, y: </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;"> }, </span><span style="color:#79B8FF;">500</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">to</span><span style="color:#E1E4E8;">({ x: </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">, y: </span><span style="color:#79B8FF;">400</span><span style="color:#E1E4E8;"> }, </span><span style="color:#79B8FF;">500</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">this</span><span style="color:#24292E;">.logo </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> egret.</span><span style="color:#6F42C1;">Bitmap</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#005CC5;">this</span><span style="color:#24292E;">.logo.texture </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">getRes</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;egret_icon_png&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addChild</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.logo);</span></span>
<span class="line"><span style="color:#6A737D;">// 过渡动画 tween</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">tw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.Tween.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.logo);</span></span>
<span class="line"><span style="color:#24292E;">tw.</span><span style="color:#6F42C1;">to</span><span style="color:#24292E;">({ x: </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">, y: </span><span style="color:#005CC5;">100</span><span style="color:#24292E;"> }, </span><span style="color:#005CC5;">500</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">to</span><span style="color:#24292E;">({ x: </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">, y: </span><span style="color:#005CC5;">400</span><span style="color:#24292E;"> }, </span><span style="color:#005CC5;">500</span><span style="color:#24292E;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="movieclip-的使用示例" tabindex="-1">movieclip 的使用示例 <a class="header-anchor" href="#movieclip-的使用示例" aria-label="Permalink to &quot;movieclip 的使用示例&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">faceBitmap</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">getRes</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;face_png&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">faceBitmapJSON</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">getRes</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;face_json&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">faceFactory</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">MovieClipDataFactory</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> egret.</span><span style="color:#B392F0;">MovieClipDataFactory</span><span style="color:#E1E4E8;">(faceBitmapJSON, faceBitmap);</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">movie</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">MovieClip</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> egret.</span><span style="color:#B392F0;">MovieClip</span><span style="color:#E1E4E8;">(faceFactory.</span><span style="color:#B392F0;">generateMovieClipData</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;眼睛&quot;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">movie.</span><span style="color:#B392F0;">gotoAndPlay</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;转动&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">faceBitmap</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">getRes</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;face_png&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">faceBitmapJSON</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">getRes</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;face_json&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">faceFactory</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">MovieClipDataFactory</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> egret.</span><span style="color:#6F42C1;">MovieClipDataFactory</span><span style="color:#24292E;">(faceBitmapJSON, faceBitmap);</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">movie</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">MovieClip</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> egret.</span><span style="color:#6F42C1;">MovieClip</span><span style="color:#24292E;">(faceFactory.</span><span style="color:#6F42C1;">generateMovieClipData</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;眼睛&quot;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">movie.</span><span style="color:#6F42C1;">gotoAndPlay</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;转动&quot;</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="egret-中的事件分发于订阅" tabindex="-1">egret 中的事件分发于订阅 <a class="header-anchor" href="#egret-中的事件分发于订阅" aria-label="Permalink to &quot;egret 中的事件分发于订阅&quot;">​</a></h2><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 分发</span></span>
<span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">dispatchEvent</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> egret.</span><span style="color:#B392F0;">Event</span><span style="color:#E1E4E8;">(CustomEventConst.</span><span style="color:#79B8FF;">CHANGE_STATE</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;stateName&quot;</span><span style="color:#E1E4E8;">));</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 分发</span></span>
<span class="line"><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">dispatchEvent</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> egret.</span><span style="color:#6F42C1;">Event</span><span style="color:#24292E;">(CustomEventConst.</span><span style="color:#005CC5;">CHANGE_STATE</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;stateName&quot;</span><span style="color:#24292E;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 订阅</span></span>
<span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(CustomEventConst.</span><span style="color:#79B8FF;">CHANGE_STATE</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.changeState, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Main</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">DisplayObjectContainer</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">changeState</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">ev</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Event</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">stateName</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> ev.data;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 订阅</span></span>
<span class="line"><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(CustomEventConst.</span><span style="color:#005CC5;">CHANGE_STATE</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.changeState, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Main</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">DisplayObjectContainer</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">changeState</span><span style="color:#24292E;">(</span><span style="color:#E36209;">ev</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Event</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">stateName</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ev.data;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>当然也可以继承和实现自己的 Event 对象，来进行传值，这种方式比较麻烦，但是比较严谨，可以查看官方文档。</p><h2 id="获取舞台的大小" tabindex="-1">获取舞台的大小 <a class="header-anchor" href="#获取舞台的大小" aria-label="Permalink to &quot;获取舞台的大小&quot;">​</a></h2><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">stageWidth</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.MainContext.instance.stage.stageWidth;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">stageHeight</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.MainContext.instance.stage.stageHeight;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">stageWidth</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.MainContext.instance.stage.stageWidth;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">stageHeight</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.MainContext.instance.stage.stageHeight;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="测试点是否在对象内" tabindex="-1">测试点是否在对象内 <a class="header-anchor" href="#测试点是否在对象内" aria-label="Permalink to &quot;测试点是否在对象内&quot;">​</a></h2><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">displayObject.</span><span style="color:#B392F0;">hitTestPoint</span><span style="color:#E1E4E8;">(x, y);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">displayObject.</span><span style="color:#6F42C1;">hitTestPoint</span><span style="color:#24292E;">(x, y);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="交互事件" tabindex="-1">交互事件 <a class="header-anchor" href="#交互事件" aria-label="Permalink to &quot;交互事件&quot;">​</a></h2><p>egret 是为移动端设计的，所以基本是 TouchEvent。</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">displayObject.touchEnabled </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">displayObject.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(egret.TouchEvent.</span><span style="color:#79B8FF;">TOUCH_BEGIN</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">ev</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">TouchEvent</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {}, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">displayObject.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(egret.TouchEvent.</span><span style="color:#79B8FF;">TOUCH_MOVE</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">ev</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">TouchEvent</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {}, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">displayObject.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(egret.TouchEvent.</span><span style="color:#79B8FF;">TOUCH_END</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">ev</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">TouchEvent</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {}, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">displayObject.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(egret.TouchEvent.</span><span style="color:#79B8FF;">TOUCH_RELEASE_OUTSIDE</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">ev</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">TouchEvent</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {}, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">displayObject.touchEnabled </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">displayObject.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(egret.TouchEvent.</span><span style="color:#005CC5;">TOUCH_BEGIN</span><span style="color:#24292E;">, (</span><span style="color:#E36209;">ev</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">TouchEvent</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {}, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">displayObject.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(egret.TouchEvent.</span><span style="color:#005CC5;">TOUCH_MOVE</span><span style="color:#24292E;">, (</span><span style="color:#E36209;">ev</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">TouchEvent</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {}, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">displayObject.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(egret.TouchEvent.</span><span style="color:#005CC5;">TOUCH_END</span><span style="color:#24292E;">, (</span><span style="color:#E36209;">ev</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">TouchEvent</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {}, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">displayObject.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(egret.TouchEvent.</span><span style="color:#005CC5;">TOUCH_RELEASE_OUTSIDE</span><span style="color:#24292E;">, (</span><span style="color:#E36209;">ev</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">TouchEvent</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {}, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果物体用了 P2 演算，需要在拖动时禁用 <code>boxBody.sleep();</code>，释放时唤醒 <code>boxBody.wakeUp();</code>。</p><h2 id="物理向量演算和实体世界的映射" tabindex="-1">物理向量演算和实体世界的映射 <a class="header-anchor" href="#物理向量演算和实体世界的映射" aria-label="Permalink to &quot;物理向量演算和实体世界的映射&quot;">​</a></h2><p>P2 在 egret 中是作为一个独立的第三方模块存在的。</p><h3 id="创建向量世界" tabindex="-1">创建向量世界 <a class="header-anchor" href="#创建向量世界" aria-label="Permalink to &quot;创建向量世界&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// factor 是单位转换常量</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">positionX</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#B392F0;">floor</span><span style="color:#E1E4E8;">(x </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> P2util.factor);</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">positionY</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#B392F0;">floor</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.stageHeight </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> P2util.factor);</span></span>
<span class="line"><span style="color:#6A737D;">// 添加方形刚体</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">boxShape</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">p2</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Box</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> p2.</span><span style="color:#B392F0;">Box</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  width: trash.width </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> P2util.factor,</span></span>
<span class="line"><span style="color:#E1E4E8;">  height: trash.height </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> P2util.factor,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">boxBody</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">p2</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Body</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> p2.</span><span style="color:#B392F0;">Body</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  mass: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  position: [positionX, positionY],</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// angularVelocity: 1,</span></span>
<span class="line"><span style="color:#E1E4E8;">  fixedRotation: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// const debugBox = P2util.createDebugBox(trash);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">boxBody.</span><span style="color:#B392F0;">addShape</span><span style="color:#E1E4E8;">(boxShape);</span></span>
<span class="line"><span style="color:#E1E4E8;">boxBody.displays </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [trash]; </span><span style="color:#6A737D;">// 绑定视图对象</span></span>
<span class="line"><span style="color:#E1E4E8;">boxBody.allowSleep </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// 禁止休眠，防止拖动时候导致的异常</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.world.</span><span style="color:#B392F0;">addBody</span><span style="color:#E1E4E8;">(boxBody); </span><span style="color:#6A737D;">// 向量世界</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// factor 是单位转换常量</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">positionX</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">floor</span><span style="color:#24292E;">(x </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> P2util.factor);</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">positionY</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">floor</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.stageHeight </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> P2util.factor);</span></span>
<span class="line"><span style="color:#6A737D;">// 添加方形刚体</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">boxShape</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">p2</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Box</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> p2.</span><span style="color:#6F42C1;">Box</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  width: trash.width </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> P2util.factor,</span></span>
<span class="line"><span style="color:#24292E;">  height: trash.height </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> P2util.factor,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">boxBody</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">p2</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Body</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> p2.</span><span style="color:#6F42C1;">Body</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  mass: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  position: [positionX, positionY],</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// angularVelocity: 1,</span></span>
<span class="line"><span style="color:#24292E;">  fixedRotation: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// const debugBox = P2util.createDebugBox(trash);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">boxBody.</span><span style="color:#6F42C1;">addShape</span><span style="color:#24292E;">(boxShape);</span></span>
<span class="line"><span style="color:#24292E;">boxBody.displays </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [trash]; </span><span style="color:#6A737D;">// 绑定视图对象</span></span>
<span class="line"><span style="color:#24292E;">boxBody.allowSleep </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// 禁止休眠，防止拖动时候导致的异常</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">this</span><span style="color:#24292E;">.world.</span><span style="color:#6F42C1;">addBody</span><span style="color:#24292E;">(boxBody); </span><span style="color:#6A737D;">// 向量世界</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="同步向量和实体" tabindex="-1">同步向量和实体 <a class="header-anchor" href="#同步向量和实体" aria-label="Permalink to &quot;同步向量和实体&quot;">​</a></h3><p>这个方法会经常用到，所以我在项目里抽离到 <code>P2util</code> 中。</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">stageHeight</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.MainContext.instance.stage.stageHeight;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">bodyCount</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> world.bodies.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> bodyCount; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">body</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">p2</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Body</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> world.bodies[i];</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (body.displays </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> body.displays.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    body.displays.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">displayObject</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">DisplayObject</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 位置同步</span></span>
<span class="line"><span style="color:#E1E4E8;">      displayObject.x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> body.position[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> P2util.factor;</span></span>
<span class="line"><span style="color:#E1E4E8;">      displayObject.y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> stageHeight </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> body.position[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> P2util.factor;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 角度同步</span></span>
<span class="line"><span style="color:#E1E4E8;">      displayObject.rotation </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">360</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> ((body.angle </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> body.shapes[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].angle) </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">180</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#79B8FF;">PI</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// if (body.sleepState == p2.Body.SLEEPING) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">//   displayObject.alpha = 0.5;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// } else {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">//   displayObject.alpha = 1;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// }</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">stageHeight</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.MainContext.instance.stage.stageHeight;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">bodyCount</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> world.bodies.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> i</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> bodyCount; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">body</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">p2</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Body</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> world.bodies[i];</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (body.displays </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> body.displays.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    body.displays.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((</span><span style="color:#E36209;">displayObject</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">DisplayObject</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 位置同步</span></span>
<span class="line"><span style="color:#24292E;">      displayObject.x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> body.position[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> P2util.factor;</span></span>
<span class="line"><span style="color:#24292E;">      displayObject.y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> stageHeight </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> body.position[</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> P2util.factor;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 角度同步</span></span>
<span class="line"><span style="color:#24292E;">      displayObject.rotation </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">360</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> ((body.angle </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> body.shapes[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].angle) </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">180</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> Math.</span><span style="color:#005CC5;">PI</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// if (body.sleepState == p2.Body.SLEEPING) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">//   displayObject.alpha = 0.5;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// } else {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">//   displayObject.alpha = 1;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// }</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="设置静止的刚体-如地面" tabindex="-1">设置静止的刚体（如地面） <a class="header-anchor" href="#设置静止的刚体-如地面" aria-label="Permalink to &quot;设置静止的刚体（如地面）&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PlayState</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">DisplayObjectContainer</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">createGround</span><span style="color:#E1E4E8;">()</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//创建地面</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">groundHeight</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">122</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 创建可视图形</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ground</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Bitmap</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> egret.</span><span style="color:#B392F0;">Bitmap</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    ground.texture </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">getRes</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;ground_png&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    ground.anchorOffsetX </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> ground.width </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    ground.anchorOffsetY </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> ground.height </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">groundBody</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">p2</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Body</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> p2.</span><span style="color:#B392F0;">Body</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      mass: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      fixedRotation: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      position: [</span><span style="color:#79B8FF;">750</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> P2util.factor, groundHeight </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> P2util.factor], </span><span style="color:#6A737D;">// p2使用中心点定位</span></span>
<span class="line"><span style="color:#E1E4E8;">      type: p2.Body.</span><span style="color:#79B8FF;">STATIC</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 不动的刚体</span></span>
<span class="line"><span style="color:#E1E4E8;">      velocity: [</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">    groundBody.displays </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [ground];</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 具体物理形状</span></span>
<span class="line"><span style="color:#E1E4E8;">    groundBody.</span><span style="color:#B392F0;">addShape</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> p2.</span><span style="color:#B392F0;">Box</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">        width: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.stageWidth </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> P2util.factor,</span></span>
<span class="line"><span style="color:#E1E4E8;">        height: groundHeight </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> P2util.factor,</span></span>
<span class="line"><span style="color:#E1E4E8;">      })</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.world.</span><span style="color:#B392F0;">addBody</span><span style="color:#E1E4E8;">(groundBody);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addChild</span><span style="color:#E1E4E8;">(ground);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PlayState</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">DisplayObjectContainer</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createGround</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//创建地面</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">groundHeight</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">122</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 创建可视图形</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ground</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Bitmap</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> egret.</span><span style="color:#6F42C1;">Bitmap</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    ground.texture </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">getRes</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;ground_png&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    ground.anchorOffsetX </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ground.width </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    ground.anchorOffsetY </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ground.height </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">groundBody</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">p2</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Body</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> p2.</span><span style="color:#6F42C1;">Body</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">      mass: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      fixedRotation: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      position: [</span><span style="color:#005CC5;">750</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> P2util.factor, groundHeight </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> P2util.factor], </span><span style="color:#6A737D;">// p2使用中心点定位</span></span>
<span class="line"><span style="color:#24292E;">      type: p2.Body.</span><span style="color:#005CC5;">STATIC</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 不动的刚体</span></span>
<span class="line"><span style="color:#24292E;">      velocity: [</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">    groundBody.displays </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [ground];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 具体物理形状</span></span>
<span class="line"><span style="color:#24292E;">    groundBody.</span><span style="color:#6F42C1;">addShape</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> p2.</span><span style="color:#6F42C1;">Box</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        width: </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.stageWidth </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> P2util.factor,</span></span>
<span class="line"><span style="color:#24292E;">        height: groundHeight </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> P2util.factor,</span></span>
<span class="line"><span style="color:#24292E;">      })</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.world.</span><span style="color:#6F42C1;">addBody</span><span style="color:#24292E;">(groundBody);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addChild</span><span style="color:#24292E;">(ground);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="egret-定时器-timer-示例" tabindex="-1">egret 定时器 Timer 示例 <a class="header-anchor" href="#egret-定时器-timer-示例" aria-label="Permalink to &quot;egret 定时器 Timer 示例&quot;">​</a></h2><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.trashGenTimer </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> egret.</span><span style="color:#B392F0;">Timer</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2000</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.trashGenTimer.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  egret.TimerEvent.</span><span style="color:#79B8FF;">TIMER</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.trashLayer.$children.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.limit) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addOneTrash</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">this</span></span>
<span class="line"><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.trashGenTimer.</span><span style="color:#B392F0;">start</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">this</span><span style="color:#24292E;">.trashGenTimer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> egret.</span><span style="color:#6F42C1;">Timer</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2000</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#005CC5;">this</span><span style="color:#24292E;">.trashGenTimer.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  egret.TimerEvent.</span><span style="color:#005CC5;">TIMER</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.trashLayer.$children.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.limit) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addOneTrash</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">this</span></span>
<span class="line"><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#005CC5;">this</span><span style="color:#24292E;">.trashGenTimer.</span><span style="color:#6F42C1;">start</span><span style="color:#24292E;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="资源远程加载的-cors-问题" tabindex="-1">资源远程加载的 CORS 问题 <a class="header-anchor" href="#资源远程加载的-cors-问题" aria-label="Permalink to &quot;资源远程加载的 CORS 问题&quot;">​</a></h2><p>远程加载的方式有 2 种，</p><p>方式一：</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">getResByUrl</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;http://xxx/cdn/xxx.m4a&quot;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">getResByUrl</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;http://xxx/cdn/xxx.m4a&quot;</span><span style="color:#24292E;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>方式二：将资源清单放在远程</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// resourceDir 是远程地址</span></span>
<span class="line"><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">loadConfig</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.resourceDir </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;/default.res.json&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.resourceDir);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// resourceDir 是远程地址</span></span>
<span class="line"><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">loadConfig</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.resourceDir </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;/default.res.json&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.resourceDir);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>注意，需要同时在 server 端和 egret 端设置 CORS，光设置一方是无效的，被这个问题坑了很久。</p><p>server 端 nginx 设置 CORS 这里不再阐述。</p><p>egret 设置 CORS 的方式如下：</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Main</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">DisplayObjectContainer</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">constructor</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//...</span></span>
<span class="line"><span style="color:#E1E4E8;">    egret.ImageLoader.crossOrigin </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;anonymous&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Main</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">DisplayObjectContainer</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//...</span></span>
<span class="line"><span style="color:#24292E;">    egret.ImageLoader.crossOrigin </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;anonymous&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="三个重要的生命周期事件" tabindex="-1">三个重要的生命周期事件 <a class="header-anchor" href="#三个重要的生命周期事件" aria-label="Permalink to &quot;三个重要的生命周期事件&quot;">​</a></h2><p><code>egret.Event.ADDED_TO_STAGE</code> 视图对象进入舞台时</p><p><code>egret.Event.ENTER_FRAME</code> 当每帧进入时（相当于帧定时器）</p><p><code>egret.Event.REMOVED_FROM_STAGE</code> 视图对象移出舞台时</p><h2 id="文字对象使用示例" tabindex="-1">文字对象使用示例 <a class="header-anchor" href="#文字对象使用示例" aria-label="Permalink to &quot;文字对象使用示例&quot;">​</a></h2><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">EndState</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">DisplayObjectContainer</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">textTitle</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">TextField</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">textScore</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">TextField</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">textTime</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">TextField</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">addText</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTitle </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> egret.</span><span style="color:#B392F0;">TextField</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTitle.text </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;最终得分&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTitle.textAlign </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.HorizontalAlign.</span><span style="color:#79B8FF;">CENTER</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTitle.width </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.MainContext.instance.stage.stageWidth;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTitle.textColor </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0x089240</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTitle.y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textScore </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> egret.</span><span style="color:#B392F0;">TextField</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textScore.textFlow </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">ITextElement</span><span style="color:#E1E4E8;">[]&gt;[</span></span>
<span class="line"><span style="color:#E1E4E8;">      { text: Store.score.</span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">(), style: { size: </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">, fontFamily: </span><span style="color:#9ECBFF;">&quot;楷体&quot;</span><span style="color:#E1E4E8;"> } },</span></span>
<span class="line"><span style="color:#E1E4E8;">      { text: </span><span style="color:#9ECBFF;">&quot;分&quot;</span><span style="color:#E1E4E8;">, style: { size: </span><span style="color:#79B8FF;">30</span><span style="color:#E1E4E8;">, fontFamily: </span><span style="color:#9ECBFF;">&quot;楷体&quot;</span><span style="color:#E1E4E8;"> } },</span></span>
<span class="line"><span style="color:#E1E4E8;">    ];</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textScore.textAlign </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.HorizontalAlign.</span><span style="color:#79B8FF;">CENTER</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textScore.width </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.MainContext.instance.stage.stageWidth;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textScore.textColor </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0x089240</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textScore.verticalAlign </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.VerticalAlign.</span><span style="color:#79B8FF;">MIDDLE</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textScore.y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTitle.y </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> egret.</span><span style="color:#B392F0;">TextField</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTime.text </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;用时：120秒&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTime.textAlign </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.HorizontalAlign.</span><span style="color:#79B8FF;">CENTER</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTime.width </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.MainContext.instance.stage.stageWidth;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTime.textColor </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0x089240</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTime.y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textScore.y </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">120</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addChild</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTitle);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addChild</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textScore);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addChild</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textTime);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">EndState</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">DisplayObjectContainer</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#E36209;">textTitle</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">TextField</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#E36209;">textScore</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">TextField</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#E36209;">textTime</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">TextField</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">addText</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTitle </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> egret.</span><span style="color:#6F42C1;">TextField</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTitle.text </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;最终得分&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTitle.textAlign </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.HorizontalAlign.</span><span style="color:#005CC5;">CENTER</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTitle.width </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.MainContext.instance.stage.stageWidth;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTitle.textColor </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0x089240</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTitle.y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textScore </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> egret.</span><span style="color:#6F42C1;">TextField</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textScore.textFlow </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> &lt;</span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ITextElement</span><span style="color:#24292E;">[]&gt;[</span></span>
<span class="line"><span style="color:#24292E;">      { text: Store.score.</span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">(), style: { size: </span><span style="color:#005CC5;">80</span><span style="color:#24292E;">, fontFamily: </span><span style="color:#032F62;">&quot;楷体&quot;</span><span style="color:#24292E;"> } },</span></span>
<span class="line"><span style="color:#24292E;">      { text: </span><span style="color:#032F62;">&quot;分&quot;</span><span style="color:#24292E;">, style: { size: </span><span style="color:#005CC5;">30</span><span style="color:#24292E;">, fontFamily: </span><span style="color:#032F62;">&quot;楷体&quot;</span><span style="color:#24292E;"> } },</span></span>
<span class="line"><span style="color:#24292E;">    ];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textScore.textAlign </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.HorizontalAlign.</span><span style="color:#005CC5;">CENTER</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textScore.width </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.MainContext.instance.stage.stageWidth;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textScore.textColor </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0x089240</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textScore.verticalAlign </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.VerticalAlign.</span><span style="color:#005CC5;">MIDDLE</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textScore.y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTitle.y </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">80</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> egret.</span><span style="color:#6F42C1;">TextField</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTime.text </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;用时：120秒&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTime.textAlign </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.HorizontalAlign.</span><span style="color:#005CC5;">CENTER</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTime.width </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.MainContext.instance.stage.stageWidth;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTime.textColor </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0x089240</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTime.y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textScore.y </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">120</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addChild</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTitle);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addChild</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textScore);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addChild</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textTime);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h2 id="优化的-loadingui" tabindex="-1">优化的 LoadingUI <a class="header-anchor" href="#优化的-loadingui" aria-label="Permalink to &quot;优化的 LoadingUI&quot;">​</a></h2><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">LoadingUI</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Sprite</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">implements</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">PromiseTaskReporter</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">constructor</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">createView</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">textField</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">TextField</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">createView</span><span style="color:#E1E4E8;">()</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textField </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> egret.</span><span style="color:#B392F0;">TextField</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addChild</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textField);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textField.width </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">480</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textField.height </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textField.textAlign </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;center&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onProgress</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">current</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">total</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// console.log(`Loading...${current}/${total}`);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (current </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> total) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textField.text </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`正在载入音频资源...`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.textField.text </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`正在加载图像资源...${</span><span style="color:#E1E4E8;">Math</span><span style="color:#9ECBFF;">.</span><span style="color:#B392F0;">floor</span><span style="color:#9ECBFF;">((</span><span style="color:#E1E4E8;">current</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">/</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">total</span><span style="color:#9ECBFF;">) </span><span style="color:#F97583;">*</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">100</span><span style="color:#9ECBFF;">)</span><span style="color:#9ECBFF;">}%`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">LoadingUI</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Sprite</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">implements</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">PromiseTaskReporter</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">createView</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#E36209;">textField</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">TextField</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createView</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textField </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> egret.</span><span style="color:#6F42C1;">TextField</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addChild</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textField);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textField.width </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">480</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textField.height </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textField.textAlign </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;center&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onProgress</span><span style="color:#24292E;">(</span><span style="color:#E36209;">current</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">, </span><span style="color:#E36209;">total</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// console.log(`Loading...${current}/${total}`);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (current </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> total) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textField.text </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`正在载入音频资源...`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.textField.text </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`正在加载图像资源...${</span><span style="color:#24292E;">Math</span><span style="color:#032F62;">.</span><span style="color:#6F42C1;">floor</span><span style="color:#032F62;">((</span><span style="color:#24292E;">current</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">/</span><span style="color:#032F62;"> </span><span style="color:#24292E;">total</span><span style="color:#032F62;">) </span><span style="color:#D73A49;">*</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">100</span><span style="color:#032F62;">)</span><span style="color:#032F62;">}%`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="工具类" tabindex="-1">工具类 <a class="header-anchor" href="#工具类" aria-label="Permalink to &quot;工具类&quot;">​</a></h2><h3 id="随机数" tabindex="-1">随机数 <a class="header-anchor" href="#随机数" aria-label="Permalink to &quot;随机数&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Random</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">randomColor</span><span style="color:#E1E4E8;">()</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">parseInt</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;0x&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">&quot;000000&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> ((Math.</span><span style="color:#B392F0;">random</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">16777215</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0.5</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">&gt;&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">16</span><span style="color:#E1E4E8;">)).</span><span style="color:#B392F0;">slice</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">6</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">randomNumber</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">minNum</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">maxNum</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">switch</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">arguments</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#B392F0;">floor</span><span style="color:#E1E4E8;">(Math.</span><span style="color:#B392F0;">random</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> minNum </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#B392F0;">floor</span><span style="color:#E1E4E8;">(Math.</span><span style="color:#B392F0;">random</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> (maxNum </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> minNum </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> minNum);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Random</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">randomColor</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">parseInt</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;0x&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">&quot;000000&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> ((Math.</span><span style="color:#6F42C1;">random</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">16777215</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0.5</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">&gt;&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">16</span><span style="color:#24292E;">)).</span><span style="color:#6F42C1;">slice</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">6</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">randomNumber</span><span style="color:#24292E;">(</span><span style="color:#E36209;">minNum</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">, </span><span style="color:#E36209;">maxNum</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">switch</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">arguments</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">floor</span><span style="color:#24292E;">(Math.</span><span style="color:#6F42C1;">random</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> minNum </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">floor</span><span style="color:#24292E;">(Math.</span><span style="color:#6F42C1;">random</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> (maxNum </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> minNum </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> minNum);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">default</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="p2-相关" tabindex="-1">P2 相关 <a class="header-anchor" href="#p2-相关" aria-label="Permalink to &quot;P2 相关&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">P2util</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">   * 同步视图对象和物理对象</span></span>
<span class="line"><span style="color:#6A737D;">   * 视图对象锚点必须设置为中心点</span></span>
<span class="line"><span style="color:#6A737D;">   * </span><span style="color:#F97583;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E1E4E8;">displayObject</span></span>
<span class="line"><span style="color:#6A737D;">   * </span><span style="color:#F97583;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E1E4E8;">body</span></span>
<span class="line"><span style="color:#6A737D;">   * </span><span style="color:#F97583;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E1E4E8;">factor</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">factor</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">syncDisplayAndBody</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">world</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">stageHeight</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.MainContext.instance.stage.stageHeight;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">bodyCount</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> world.bodies.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> bodyCount; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">body</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">p2</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Body</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> world.bodies[i];</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (body.displays </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> body.displays.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        body.displays.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">displayObject</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">DisplayObject</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">// 位置同步</span></span>
<span class="line"><span style="color:#E1E4E8;">          displayObject.x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> body.position[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> P2util.factor;</span></span>
<span class="line"><span style="color:#E1E4E8;">          displayObject.y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> stageHeight </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> body.position[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> P2util.factor;</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">// 角度同步</span></span>
<span class="line"><span style="color:#E1E4E8;">          displayObject.rotation </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">360</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> ((body.angle </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> body.shapes[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].angle) </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">180</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#79B8FF;">PI</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">// if (body.sleepState == p2.Body.SLEEPING) {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">//   displayObject.alpha = 0.5;</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">// } else {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">//   displayObject.alpha = 1;</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">// }</span></span>
<span class="line"><span style="color:#E1E4E8;">        });</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">createDebugBox</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">display</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">DisplayObject</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">debugBox</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Shape</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> egret.</span><span style="color:#B392F0;">Shape</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    debugBox.graphics.</span><span style="color:#B392F0;">beginFill</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0xff0000</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">0.5</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    debugBox.graphics.</span><span style="color:#B392F0;">drawRect</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, display.width, display.height);</span></span>
<span class="line"><span style="color:#E1E4E8;">    debugBox.graphics.</span><span style="color:#B392F0;">endFill</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    debugBox.anchorOffsetX </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> debugBox.width </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    debugBox.anchorOffsetY </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> debugBox.height </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    debugBox.x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> display.x;</span></span>
<span class="line"><span style="color:#E1E4E8;">    debugBox.y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> display.y;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> debugBox;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">clearBoxAndDisplays</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">world</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">p2</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">World</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">boxBody</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">p2</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Body</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (boxBody.displays </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> boxBody.displays.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      boxBody.displays.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">display</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">DisplayObject</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        display.parent.</span><span style="color:#B392F0;">removeChild</span><span style="color:#E1E4E8;">(display);</span></span>
<span class="line"><span style="color:#E1E4E8;">      });</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    world.</span><span style="color:#B392F0;">removeBody</span><span style="color:#E1E4E8;">(boxBody);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">P2util</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">   * 同步视图对象和物理对象</span></span>
<span class="line"><span style="color:#6A737D;">   * 视图对象锚点必须设置为中心点</span></span>
<span class="line"><span style="color:#6A737D;">   * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">displayObject</span></span>
<span class="line"><span style="color:#6A737D;">   * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">body</span></span>
<span class="line"><span style="color:#6A737D;">   * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">factor</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#E36209;">factor</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">50</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">syncDisplayAndBody</span><span style="color:#24292E;">(</span><span style="color:#E36209;">world</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">stageHeight</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.MainContext.instance.stage.stageHeight;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">bodyCount</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> world.bodies.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> i</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> bodyCount; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">body</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">p2</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Body</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> world.bodies[i];</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (body.displays </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> body.displays.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        body.displays.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((</span><span style="color:#E36209;">displayObject</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">DisplayObject</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// 位置同步</span></span>
<span class="line"><span style="color:#24292E;">          displayObject.x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> body.position[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> P2util.factor;</span></span>
<span class="line"><span style="color:#24292E;">          displayObject.y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> stageHeight </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> body.position[</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> P2util.factor;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// 角度同步</span></span>
<span class="line"><span style="color:#24292E;">          displayObject.rotation </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">360</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> ((body.angle </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> body.shapes[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].angle) </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">180</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> Math.</span><span style="color:#005CC5;">PI</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// if (body.sleepState == p2.Body.SLEEPING) {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">//   displayObject.alpha = 0.5;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// } else {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">//   displayObject.alpha = 1;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// }</span></span>
<span class="line"><span style="color:#24292E;">        });</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createDebugBox</span><span style="color:#24292E;">(</span><span style="color:#E36209;">display</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">DisplayObject</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">debugBox</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Shape</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> egret.</span><span style="color:#6F42C1;">Shape</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    debugBox.graphics.</span><span style="color:#6F42C1;">beginFill</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0xff0000</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0.5</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    debugBox.graphics.</span><span style="color:#6F42C1;">drawRect</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, display.width, display.height);</span></span>
<span class="line"><span style="color:#24292E;">    debugBox.graphics.</span><span style="color:#6F42C1;">endFill</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    debugBox.anchorOffsetX </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> debugBox.width </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    debugBox.anchorOffsetY </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> debugBox.height </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    debugBox.x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> display.x;</span></span>
<span class="line"><span style="color:#24292E;">    debugBox.y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> display.y;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> debugBox;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">clearBoxAndDisplays</span><span style="color:#24292E;">(</span><span style="color:#E36209;">world</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">p2</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">World</span><span style="color:#24292E;">, </span><span style="color:#E36209;">boxBody</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">p2</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Body</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (boxBody.displays </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> boxBody.displays.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      boxBody.displays.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((</span><span style="color:#E36209;">display</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">DisplayObject</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        display.parent.</span><span style="color:#6F42C1;">removeChild</span><span style="color:#24292E;">(display);</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    world.</span><span style="color:#6F42C1;">removeBody</span><span style="color:#24292E;">(boxBody);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h2 id="移植到微信小游戏" tabindex="-1">移植到微信小游戏 <a class="header-anchor" href="#移植到微信小游戏" aria-label="Permalink to &quot;移植到微信小游戏&quot;">​</a></h2><h3 id="p2-物理引擎无法正常工作的问题" tabindex="-1">P2 物理引擎无法正常工作的问题 <a class="header-anchor" href="#p2-物理引擎无法正常工作的问题" aria-label="Permalink to &quot;P2 物理引擎无法正常工作的问题&quot;">​</a></h3><p>需要修改构建脚本 <code>scripts/wxgame/wxgame.ts</code></p><p>加入以下文件处理脚本：</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// p2 physics</span></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (filename </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;libs/modules/physics/physics.js&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> filename </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;libs/modules/physics/physics.min.js&quot;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  content </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> content.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;module.exports = a();&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;{window.p2=a();module.exports=window.p2;}&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  content </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> content.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;module.exports=t();&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;{window.p2=t();module.exports=window.p2;}&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// p2 physics</span></span>
<span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (filename </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;libs/modules/physics/physics.js&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> filename </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;libs/modules/physics/physics.min.js&quot;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  content </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> content.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;module.exports = a();&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;{window.p2=a();module.exports=window.p2;}&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  content </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> content.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;module.exports=t();&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;{window.p2=t();module.exports=window.p2;}&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="新的微信小游戏授权兼容" tabindex="-1">新的微信小游戏授权兼容 <a class="header-anchor" href="#新的微信小游戏授权兼容" aria-label="Permalink to &quot;新的微信小游戏授权兼容&quot;">​</a></h3><p>由于腾讯官方修改了小程序的授权策略，需要修改部分源码才能移植</p><p>修改 <code>platform.js</code></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 请在白鹭引擎的Main.ts中调用 platform.login() 方法调用至此处。</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">WxgamePlatform</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;wxgame&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">login</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Promise</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">resolve</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">reject</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      wx.</span><span style="color:#B392F0;">login</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">success</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(res);</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">      });</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">getUserInfo</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Promise</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">resolve</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">reject</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> sysInfo </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> wx.</span><span style="color:#B392F0;">getSystemInfoSync</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> sdkVersion </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> sysInfo.SDKVersion;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 新的方式</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (sdkVersion </span><span style="color:#F97583;">&gt;=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;2.0.1&quot;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">button</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> wx.</span><span style="color:#B392F0;">createUserInfoButton</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">          type: </span><span style="color:#9ECBFF;">&quot;image&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          text: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          image: </span><span style="color:#9ECBFF;">&quot;openDataContext/assets/box.png&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          style: {</span></span>
<span class="line"><span style="color:#E1E4E8;">            left: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            top: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            width: </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            height: </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            backgroundColor: </span><span style="color:#9ECBFF;">&quot;#ff0000&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            color: </span><span style="color:#9ECBFF;">&quot;#ffffff&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          },</span></span>
<span class="line"><span style="color:#E1E4E8;">        });</span></span>
<span class="line"><span style="color:#E1E4E8;">        button.</span><span style="color:#B392F0;">onTap</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (res.userInfo) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;用户授权:&quot;</span><span style="color:#E1E4E8;">, res);</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">userInfo</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> res.userInfo;</span></span>
<span class="line"><span style="color:#E1E4E8;">            button.</span><span style="color:#B392F0;">destroy</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(userInfo);</span></span>
<span class="line"><span style="color:#E1E4E8;">          } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;拒绝授权&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">          }</span></span>
<span class="line"><span style="color:#E1E4E8;">        });</span></span>
<span class="line"><span style="color:#E1E4E8;">      } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// 原来的方法</span></span>
<span class="line"><span style="color:#E1E4E8;">        wx.</span><span style="color:#B392F0;">getUserInfo</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">          withCredentials: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">success</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">userInfo</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> res.userInfo;</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(userInfo);</span></span>
<span class="line"><span style="color:#E1E4E8;">          },</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">fail</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            wx.</span><span style="color:#B392F0;">showModal</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">              title: </span><span style="color:#9ECBFF;">&quot;友情提醒&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">              content: </span><span style="color:#9ECBFF;">&quot;请允许微信获得授权!&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">              confirmText: </span><span style="color:#9ECBFF;">&quot;授权&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">              showCancel: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">              </span><span style="color:#B392F0;">success</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">              },</span></span>
<span class="line"><span style="color:#E1E4E8;">            });</span></span>
<span class="line"><span style="color:#E1E4E8;">          },</span></span>
<span class="line"><span style="color:#E1E4E8;">        });</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">window.platform </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">WxgamePlatform</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * 请在白鹭引擎的Main.ts中调用 platform.login() 方法调用至此处。</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">WxgamePlatform</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;wxgame&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">login</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Promise</span><span style="color:#24292E;">((</span><span style="color:#E36209;">resolve</span><span style="color:#24292E;">, </span><span style="color:#E36209;">reject</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      wx.</span><span style="color:#6F42C1;">login</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">(res);</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">getUserInfo</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Promise</span><span style="color:#24292E;">((</span><span style="color:#E36209;">resolve</span><span style="color:#24292E;">, </span><span style="color:#E36209;">reject</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> sysInfo </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> wx.</span><span style="color:#6F42C1;">getSystemInfoSync</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> sdkVersion </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> sysInfo.SDKVersion;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 新的方式</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (sdkVersion </span><span style="color:#D73A49;">&gt;=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;2.0.1&quot;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">button</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> wx.</span><span style="color:#6F42C1;">createUserInfoButton</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">          type: </span><span style="color:#032F62;">&quot;image&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          text: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          image: </span><span style="color:#032F62;">&quot;openDataContext/assets/box.png&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          style: {</span></span>
<span class="line"><span style="color:#24292E;">            left: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            top: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            width: </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            height: </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            backgroundColor: </span><span style="color:#032F62;">&quot;#ff0000&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            color: </span><span style="color:#032F62;">&quot;#ffffff&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">        });</span></span>
<span class="line"><span style="color:#24292E;">        button.</span><span style="color:#6F42C1;">onTap</span><span style="color:#24292E;">((</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (res.userInfo) {</span></span>
<span class="line"><span style="color:#24292E;">            console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;用户授权:&quot;</span><span style="color:#24292E;">, res);</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">userInfo</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> res.userInfo;</span></span>
<span class="line"><span style="color:#24292E;">            button.</span><span style="color:#6F42C1;">destroy</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">(userInfo);</span></span>
<span class="line"><span style="color:#24292E;">          } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;拒绝授权&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">        });</span></span>
<span class="line"><span style="color:#24292E;">      } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// 原来的方法</span></span>
<span class="line"><span style="color:#24292E;">        wx.</span><span style="color:#6F42C1;">getUserInfo</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">          withCredentials: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">userInfo</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> res.userInfo;</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">(userInfo);</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">fail</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            wx.</span><span style="color:#6F42C1;">showModal</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">              title: </span><span style="color:#032F62;">&quot;友情提醒&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">              content: </span><span style="color:#032F62;">&quot;请允许微信获得授权!&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">              confirmText: </span><span style="color:#032F62;">&quot;授权&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">              showCancel: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">              },</span></span>
<span class="line"><span style="color:#24292E;">            });</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">        });</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">window.platform </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">WxgamePlatform</span><span style="color:#24292E;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><h2 id="eui-示例" tabindex="-1">EUI 示例 <a class="header-anchor" href="#eui-示例" aria-label="Permalink to &quot;EUI 示例&quot;">​</a></h2><p>定义一个皮肤 <code>resource/eui/RedBox.exml</code></p><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;?</span><span style="color:#85E89D;">xml</span><span style="color:#B392F0;"> version</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;1.0&quot;</span><span style="color:#B392F0;"> encoding</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;utf-8&quot;</span><span style="color:#E1E4E8;">?&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">e:Skin</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;SkinRedBox&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">width</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;640&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">height</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;1136&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">xmlns:e</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;http://ns.egret.com/eui&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">xmlns:w</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;http://ns.egret.com/wing&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">e:Rect</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">width</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;640&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">height</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;1136&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">x</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">y</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">anchorOffsetX</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">anchorOffsetY</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">e:Rect</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;redbox&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">width</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;157&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">height</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;93&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">anchorOffsetX</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">anchorOffsetY</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fillColor</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0xff0000&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">enabled</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">horizontalCenter</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">verticalCenter</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">e:Skin</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;?</span><span style="color:#22863A;">xml</span><span style="color:#6F42C1;"> version</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;1.0&quot;</span><span style="color:#6F42C1;"> encoding</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;utf-8&quot;</span><span style="color:#24292E;">?&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">e:Skin</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;SkinRedBox&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">width</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;640&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">height</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;1136&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">xmlns:e</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;http://ns.egret.com/eui&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">xmlns:w</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;http://ns.egret.com/wing&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">e:Rect</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">width</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;640&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">height</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;1136&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">x</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">y</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">anchorOffsetX</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">anchorOffsetY</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">e:Rect</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;redbox&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">width</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;157&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">height</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;93&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">anchorOffsetX</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">anchorOffsetY</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fillColor</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;0xff0000&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">enabled</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;true&quot;</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">horizontalCenter</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">verticalCenter</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">e:Skin</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>定义配置 <code>resource/default.thm.json</code></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;skins&quot;</span><span style="color:#E1E4E8;">: {},</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;autoGenerateExmlsList&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;path&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;resource/default.thm.json&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;exmls&quot;</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;resource/eui/RedBox.exml&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;skins&quot;</span><span style="color:#24292E;">: {},</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;autoGenerateExmlsList&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;path&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;resource/default.thm.json&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;exmls&quot;</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&quot;resource/eui/RedBox.exml&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>定义 EUI 对应的 Class <code>src/RedBox.ts</code></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RedBox</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">eui</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Component</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">implements</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">eui</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">UIComponent</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">constructor</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(eui.UIEvent.</span><span style="color:#79B8FF;">COMPLETE</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.onComplete, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.skinName </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;SkinRedBox&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">redbox</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">eui</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Rect</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// 变量与exml中定义的id同名即可自动映射</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">createChildren</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">createChildren</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;createChildren&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onComplete</span><span style="color:#E1E4E8;">()</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;onComplete&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">tw</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> egret.Tween.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.redbox, { loop: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> });</span></span>
<span class="line"><span style="color:#E1E4E8;">    tw.</span><span style="color:#B392F0;">to</span><span style="color:#E1E4E8;">({ rotation: </span><span style="color:#79B8FF;">360</span><span style="color:#E1E4E8;"> }, </span><span style="color:#79B8FF;">4000</span><span style="color:#E1E4E8;">, egret.Ease.circIn).</span><span style="color:#B392F0;">to</span><span style="color:#E1E4E8;">({ rotation: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> }, </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">wait</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">500</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RedBox</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">eui</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Component</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">implements</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">eui</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">UIComponent</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(eui.UIEvent.</span><span style="color:#005CC5;">COMPLETE</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.onComplete, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.skinName </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;SkinRedBox&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#E36209;">redbox</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">eui</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Rect</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// 变量与exml中定义的id同名即可自动映射</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createChildren</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">createChildren</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;createChildren&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onComplete</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onComplete&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">tw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> egret.Tween.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.redbox, { loop: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> });</span></span>
<span class="line"><span style="color:#24292E;">    tw.</span><span style="color:#6F42C1;">to</span><span style="color:#24292E;">({ rotation: </span><span style="color:#005CC5;">360</span><span style="color:#24292E;"> }, </span><span style="color:#005CC5;">4000</span><span style="color:#24292E;">, egret.Ease.circIn).</span><span style="color:#6F42C1;">to</span><span style="color:#24292E;">({ rotation: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> }, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">wait</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">500</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>使用 Class <code>src/Main.ts</code></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Main</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">DisplayObjectContainer</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">constructor</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(egret.Event.</span><span style="color:#79B8FF;">ADDED_TO_STAGE</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.onAddToStage, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onAddToStage</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">event</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">egret</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Event</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    egret.lifecycle.</span><span style="color:#B392F0;">addLifecycleListener</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">context</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// custom lifecycle plugin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      context.</span><span style="color:#B392F0;">onUpdate</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {};</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    egret.lifecycle.</span><span style="color:#B392F0;">onPause</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      egret.ticker.</span><span style="color:#B392F0;">pause</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    egret.lifecycle.</span><span style="color:#B392F0;">onResume</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      egret.ticker.</span><span style="color:#B392F0;">resume</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">runGame</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">catch</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(e);</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">runGame</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">loadResource</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">createGameScene</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">loadResource</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">loadingView</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">LoadingUI</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.stage.</span><span style="color:#B392F0;">addChild</span><span style="color:#E1E4E8;">(loadingView);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">loadConfig</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;resource/default.res.json&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;resource/&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">RES</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">loadGroup</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;preload&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, loadingView);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">loadTheme</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.stage.</span><span style="color:#B392F0;">removeChild</span><span style="color:#E1E4E8;">(loadingView);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (e) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(e);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">loadTheme</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Promise</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">resolve</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">reject</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// load skin theme configuration file, you can manually modify the file. And replace the default skin.</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">//加载皮肤主题配置文件,可以手动修改这个文件。替换默认皮肤。</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;eui.UIEvent.START&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> theme </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> eui.</span><span style="color:#B392F0;">Theme</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;resource/default.thm.json&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.stage);</span></span>
<span class="line"><span style="color:#E1E4E8;">      theme.</span><span style="color:#B392F0;">addEventListener</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">        eui.UIEvent.</span><span style="color:#79B8FF;">COMPLETE</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">          console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;eui.UIEvent.COMPLETE&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">resolve</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span></span>
<span class="line"><span style="color:#E1E4E8;">      );</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">   * 创建游戏场景</span></span>
<span class="line"><span style="color:#6A737D;">   * Create a game scene</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">createGameScene</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">box</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RedBox</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RedBox</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">addChild</span><span style="color:#E1E4E8;">(box);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Main</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">DisplayObjectContainer</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(egret.Event.</span><span style="color:#005CC5;">ADDED_TO_STAGE</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.onAddToStage, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onAddToStage</span><span style="color:#24292E;">(</span><span style="color:#E36209;">event</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">egret</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Event</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    egret.lifecycle.</span><span style="color:#6F42C1;">addLifecycleListener</span><span style="color:#24292E;">((</span><span style="color:#E36209;">context</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// custom lifecycle plugin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      context.</span><span style="color:#6F42C1;">onUpdate</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {};</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    egret.lifecycle.</span><span style="color:#6F42C1;">onPause</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      egret.ticker.</span><span style="color:#6F42C1;">pause</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    egret.lifecycle.</span><span style="color:#6F42C1;">onResume</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      egret.ticker.</span><span style="color:#6F42C1;">resume</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">runGame</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">catch</span><span style="color:#24292E;">((</span><span style="color:#E36209;">e</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(e);</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">runGame</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">loadResource</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">createGameScene</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">loadResource</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">loadingView</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">LoadingUI</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.stage.</span><span style="color:#6F42C1;">addChild</span><span style="color:#24292E;">(loadingView);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">loadConfig</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;resource/default.res.json&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;resource/&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">RES</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">loadGroup</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;preload&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, loadingView);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">loadTheme</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.stage.</span><span style="color:#6F42C1;">removeChild</span><span style="color:#24292E;">(loadingView);</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (e) {</span></span>
<span class="line"><span style="color:#24292E;">      console.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(e);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">loadTheme</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Promise</span><span style="color:#24292E;">((</span><span style="color:#E36209;">resolve</span><span style="color:#24292E;">, </span><span style="color:#E36209;">reject</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// load skin theme configuration file, you can manually modify the file. And replace the default skin.</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">//加载皮肤主题配置文件,可以手动修改这个文件。替换默认皮肤。</span></span>
<span class="line"><span style="color:#24292E;">      console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;eui.UIEvent.START&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> theme </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> eui.</span><span style="color:#6F42C1;">Theme</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;resource/default.thm.json&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.stage);</span></span>
<span class="line"><span style="color:#24292E;">      theme.</span><span style="color:#6F42C1;">addEventListener</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">        eui.UIEvent.</span><span style="color:#005CC5;">COMPLETE</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;eui.UIEvent.COMPLETE&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span></span>
<span class="line"><span style="color:#24292E;">      );</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">   * 创建游戏场景</span></span>
<span class="line"><span style="color:#6A737D;">   * Create a game scene</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createGameScene</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">box</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RedBox</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RedBox</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">addChild</span><span style="color:#24292E;">(box);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-a3c25e27 data-v-5f0b39f6><div class="edit-info" data-v-5f0b39f6><div class="last-updated" data-v-5f0b39f6><p class="VPLastUpdated" data-v-5f0b39f6 data-v-d326f0bd>最后编辑时间: <time data-v-d326f0bd>2020-06-20</time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-4064354f data-v-e4279f1c><div class="container" data-v-e4279f1c><p class="message" data-v-e4279f1c>Version 4.0-framework-1.0.0-rc.10</p><p class="copyright" data-v-e4279f1c>Copyright © 2014-present Wolfx 🐺</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_backend_close-notice-in-php.md\":\"47953b0f\",\"docs_backend_jenkins-guide.md\":\"c488eef7\",\"docs_backend_frp-guide.md\":\"ea235cb7\",\"docs_backend_gitlab-500.md\":\"de3f1de4\",\"docs_frontend_canvas_fabric.md\":\"dfeb7933\",\"docs_backend_how-to-change-tomcat-log-default-encode.md\":\"d5d79738\",\"docs_frontend_3d_blender-01-basic.md\":\"238fb419\",\"docs_frontend_css_disable-copy-using-css.md\":\"18c12041\",\"docs_backend_docker-note-3.md\":\"ade71cdd\",\"docs_database_mysql-export.md\":\"39c6fb81\",\"docs_frontend_css_webkit-font-smoothing.md\":\"0ee25da9\",\"docs_frontend_canvas_canvas-note2.md\":\"e3485a6b\",\"docs_backend_redis-remote-access.md\":\"896bd7e7\",\"docs_backend_ch-bugs-in-pd-reverse-project.md\":\"c87fa2bc\",\"docs_frontend_html_disable-chrome-autocomplete.md\":\"2ea37a29\",\"docs_database_es-note-01.md\":\"c30abd4f\",\"docs_backend_docker-nuxt.md\":\"e3e9813e\",\"docs_backend_rust-env-note.md\":\"131d27a9\",\"docs_backend_accelerate-build-gradle-net-speed-in-china.md\":\"260589dd\",\"docs_frontend_css_css-nth-child.md\":\"b64b034c\",\"docs_backend_how-to-hide-tomcat-window.md\":\"4a6fbc07\",\"docs_database_how-to-access-mysql-remotely.md\":\"fd2e6f3f\",\"docs_backend_spark-note.md\":\"be4df264\",\"docs_backend_change-pip3-default-source.md\":\"e5f0d8ad\",\"docs_backend_docker-note-2.md\":\"ef0d0913\",\"docs_frontend_hybird_use-async-await-in-weapps.md\":\"e83065a5\",\"docs_frontend_html_disable-iframe-reference-your-website.md\":\"8e3d4764\",\"docs_frontend_hybird_cordova-dev-note-02.md\":\"91d82c80\",\"docs_frontend_3d_blender-02-modify.md\":\"ddc1a0e0\",\"docs_backend_py-pyautogui.md\":\"c9ac1fe6\",\"docs_frontend_javascript_js-merge-region.md\":\"a28a00b4\",\"docs_frontend_html_html-viewport.md\":\"e65a57fa\",\"docs_backend_gitlab-mail.md\":\"2537f708\",\"docs_frontend_javascript_es6-arraybuffer.md\":\"ac1353b0\",\"docs_frontend_javascript_document-activeelement.md\":\"8e459c3e\",\"docs_frontend_javascript_js-dependency-injection.md\":\"9c7fc51c\",\"docs_backend_qt-cpp-note.md\":\"a0acf751\",\"docs_frontend_javascript_js-check-is-img-exists.md\":\"f5c25ac1\",\"docs_backend_docker-note.md\":\"584029a0\",\"docs_frontend_css_ios-keyboard-scroll-bug.md\":\"d5d4c59a\",\"docs_frontend_html_html5-file-api.md\":\"4d705e6d\",\"docs_frontend_hybird_cordova-dev-note-03.md\":\"23e9e18a\",\"docs_frontend_javascript_7-useful-funs-in-seajs.md\":\"b133e77a\",\"docs_frontend_html_html-head.md\":\"1b8dae19\",\"docs_nodejs_nodejs-nvm.md\":\"cd0db1ec\",\"docs_frontend_hybird_build-rn-dev-env.md\":\"359de698\",\"docs_frontend_canvas_canvas-note.md\":\"afd08bf0\",\"docs_frontend_javascript_js-random-funcs.md\":\"1e7a0e70\",\"docs_frontend_html_htmlencode-and-htmldecode.md\":\"b57ca015\",\"docs_frontend_html_the-width-in-browser.md\":\"4f6f394b\",\"docs_frontend_html_disable-video-full-screen-on-ios.md\":\"21d46965\",\"docs_frontend_css_css-text-overflow.md\":\"d9719837\",\"docs_frontend_javascript_js-params.md\":\"bcd20425\",\"docs_frontend_javascript_fe-js-image-compress.md\":\"57d1e2c6\",\"docs_frontend_tool_support-ajax-on-fs-in-chrome.md\":\"051f5f16\",\"docs_frontend_canvas_laya-compile.md\":\"c438ea30\",\"docs_nodejs_node-pm2.md\":\"c6ced54f\",\"docs_frontend_hybird_android-q-note.md\":\"04ef793b\",\"docs_frontend_mvvm_vue2-editor-note.md\":\"da5cfb0e\",\"docs_frontend_javascript_js-get-img-base64.md\":\"3eb6e667\",\"docs_other_webstorm-conf-log4js.md\":\"f054c77b\",\"docs_frontend_html_html-link-rel.md\":\"d7d6a370\",\"docs_frontend_javascript_js-geo-distance.md\":\"cdba1cc4\",\"docs_frontend_mvvm_vue2-to-vue3-tips.md\":\"1522aa6a\",\"docs_os_pxe-guide.md\":\"250fe6e1\",\"docs_backend_py-yolox.md\":\"e6a60b18\",\"docs_other_useful-git-cmds.md\":\"265a9da9\",\"docs_frontend_mvvm_some-optimize-after-create-react-app.md\":\"69a49c90\",\"docs_frontend_javascript_reload-replace-and-href.md\":\"00d98279\",\"docs_frontend_tool_gulp-frequently-plugins.md\":\"d5b51b0e\",\"docs_frontend_javascript_js-word-counter.md\":\"1088e776\",\"docs_os_arch-linux-faq-wiki.md\":\"5d1beb92\",\"docs_os_centos-6-to-7.md\":\"500b03a6\",\"docs_frontend_javascript_js-route-algorithm.md\":\"88d88a65\",\"docs_frontend_tool_webpack-multi-cores-optmise.md\":\"ca6a498e\",\"docs_frontend_javascript_regexps-for-you.md\":\"45f0dd8a\",\"docs_frontend_javascript_js-conv.md\":\"41d7ed42\",\"docs_index.md\":\"19d833d9\",\"docs_os_remote-desktop-error-on-win.md\":\"36b6f896\",\"docs_other_use-redirector-plugin.md\":\"d6bd0afc\",\"docs_frontend_hybird_flutter-note.md\":\"d88551f5\",\"docs_frontend_mvvm_global-component-of-react-and-vue.md\":\"7ac79d52\",\"docs_other_aria2-cmds.md\":\"dfbdfd42\",\"docs_os_zip-unreadable-code-on-linux.md\":\"6d691c98\",\"docs_frontend_html_operations-of-frames.md\":\"2676fa01\",\"docs_frontend_hybird_h5plus-and-mui-faq.md\":\"2cf47cd8\",\"docs_os_ssh-login-without-password.md\":\"6535323f\",\"docs_frontend_mvvm_nuxt-build-note.md\":\"3a96040a\",\"docs_frontend_hybird_cordova-dev-note-07.md\":\"f85486f9\",\"docs_frontend_javascript_js-copy-to-clipboard.md\":\"7a979652\",\"docs_frontend_javascript_gps-coordinate-transofrm.md\":\"97c22c3b\",\"docs_frontend_javascript_web-worker.md\":\"2b70d114\",\"docs_nodejs_nodejs-exec-with-tail-exe.md\":\"591c43ab\",\"docs_frontend_tool_remove-console.md\":\"44dcdf94\",\"docs_frontend_tool_personal-npm-packages.md\":\"1678a536\",\"docs_frontend_3d_blender-03-modeling.md\":\"17bec3eb\",\"docs_frontend_html_html5-m3u8.md\":\"4bfed759\",\"docs_frontend_javascript_table-colspan-convert.md\":\"076c3e01\",\"docs_frontend_hybird_cordova-dev-note-06.md\":\"5dda1380\",\"docs_frontend_jquery_jquery-qrcode-chinese-problem.md\":\"6093312b\",\"docs_os_win7-0x000006d9-error.md\":\"b5858f33\",\"docs_os_you-have-n-methods-to-kill-process-on-linux.md\":\"84587ef1\",\"docs_os_powershell-note.md\":\"811f1e2d\",\"docs_backend_set-ff-dns-cache.md\":\"fa935505\",\"docs_frontend_hybird_cordova-dev-note-01.md\":\"6e2cb3c8\",\"docs_frontend_css_mobile-css-compatible.md\":\"038b1e46\",\"docs_nodejs_nodejs-blockchain.md\":\"43c5a529\",\"docs_other_git-guide.md\":\"e4619683\",\"docs_nodejs_html5-live-video.md\":\"3438c1d3\",\"docs_backend_hadoop-note.md\":\"fb1b6c39\",\"docs_nodejs_watch-port-by-nodejs.md\":\"9f0e4a9b\",\"docs_frontend_hybird_replace-electron.md\":\"d4430387\",\"docs_frontend_javascript_nodejs-aop.md\":\"90e8bb2b\",\"docs_nodejs_node-schedule.md\":\"d352103e\",\"docs_frontend_javascript_js-chgcase.md\":\"ac6388d1\",\"docs_os_install-services-on-linux.md\":\"cff7cb16\",\"docs_os_how-to-watch-the-file-running-state-on-linux.md\":\"20f5e031\",\"docs_frontend_javascript_js-event-popstate.md\":\"6fa631f2\",\"pages_about.md\":\"cf0f2d68\",\"docs_os_ubuntu-faq.md\":\"d0ca260d\",\"docs_os_win-remove-old-driver.md\":\"c537a027\",\"docs_frontend_javascript_js-compare-ver.md\":\"954d4834\",\"docs_frontend_html_html5-tel.md\":\"c9524b96\",\"index.md\":\"b1a478b7\",\"docs_nodejs_node-static-file-server.md\":\"0f0ed539\",\"docs_frontend_css_css-bfc.md\":\"50423d6e\",\"docs_os_checkinstall-note.md\":\"710a2b82\",\"docs_frontend_tool_node-pkg-manager-note.md\":\"dff7c9eb\",\"docs_os_download-full-website-by-using-wget.md\":\"f529b729\",\"docs_nodejs_nodejs-http-proxy.md\":\"0b7dd8b2\",\"docs_nodejs_bin-in-nodejs.md\":\"f809876b\",\"docs_other_cloc.md\":\"35a69a36\",\"docs_nodejs_nodejs-spider-for-gb2312.md\":\"6448e46a\",\"docs_frontend_css_custom-scrollbar.md\":\"f76e8d3a\",\"docs_frontend_canvas_d3-simple-custom-bar.md\":\"ea88846a\",\"docs_os_centos-disk-extend.md\":\"3531e2c2\",\"docs_os_linux-del-file-by-date.md\":\"01ff3ecc\",\"docs_frontend_javascript_load-js-async.md\":\"af202ed1\",\"docs_os_centos-8-faq.md\":\"66a9b387\",\"docs_nodejs_nodejs-md5-support-chinese.md\":\"2e04487e\",\"docs_os_deepin-linux-note.md\":\"1b7e291c\",\"docs_frontend_mvvm_react-custom-img.md\":\"0309f985\",\"docs_frontend_hybird_cordova-dev-note-05.md\":\"9ed295bd\",\"docs_frontend_javascript_gen-uuid-by-js.md\":\"b469a47e\",\"docs_os_manjaro-optimize.md\":\"9abf9278\",\"docs_frontend_javascript_remove-repeat-when-array-item-is-object.md\":\"2b3142da\",\"docs_frontend_javascript_js-chinese-num-upper-case.md\":\"db4188da\",\"docs_nodejs_puppeteer-start-guide.md\":\"15dbc425\",\"docs_os_fix-uwp.md\":\"a2d7a8fa\",\"docs_backend_nginx-note.md\":\"131bc774\",\"docs_os_how-to-watch-port-on-win.md\":\"63e515c8\",\"docs_nodejs_webpack-umd-pkg.md\":\"1095fdd2\",\"docs_frontend_hybird_react-navigation-note.md\":\"689f4681\",\"docs_database_mongodb-note.md\":\"21712691\",\"docs_frontend_javascript_the-diff-of-similar-objects-in-js.md\":\"10b3e25c\",\"docs_frontend_javascript_createjs-note.md\":\"c78eb390\",\"docs_frontend_tool_vscode-config-template.md\":\"05fcdef3\",\"docs_frontend_hybird_ios-cert.md\":\"6f9f7a6e\",\"docs_os_linux-tar-backup.md\":\"9f480793\",\"docs_frontend_hybird_cordova-dev-note-04.md\":\"fc4934a6\",\"docs_os_iptables-proxy.md\":\"b9444f5b\",\"docs_os_linux-vpn.md\":\"84a58abb\",\"docs_database_mysql-sql-adv-guide.md\":\"c84d99ef\",\"docs_frontend_hybird_cordova-dev-note-08.md\":\"c948e194\",\"docs_frontend_canvas_egret-note.md\":\"d2b3f4cf\",\"docs_frontend_canvas_phaser-ce-note.md\":\"517dfb59\",\"docs_frontend_canvas_d3-map.md\":\"5d8d5f07\",\"docs_os_centos-7-faq.md\":\"c3fbcebd\",\"docs_os_install-pip-on-linux.md\":\"c247bda6\",\"docs_nodejs_nodejs-read-file-list.md\":\"c9ab905d\",\"docs_frontend_javascript_js-closure.md\":\"850c12c0\",\"docs_os_macos-faq.md\":\"98578b53\",\"docs_nodejs_node-cli-framework.md\":\"5a57a4c8\",\"docs_backend_docker-note-4.md\":\"e83dfce8\",\"docs_os_linux-traceroute.md\":\"bb32e096\",\"docs_frontend_javascript_js-rxjs-note.md\":\"b06ac525\",\"docs_os_linux-cmds.md\":\"404ad8a7\",\"docs_frontend_hybird_react-native-tips.md\":\"6a27d55e\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"Wolfx's Notebook\",\"description\":\"Wolfx's Notebook\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"Wolfx's Notebook\",\"darkModeSwitchLabel\":\"夜间模式\",\"sidebarMenuLabel\":\"目录\",\"outline\":\"deep\",\"outlineTitle\":\"大纲(Outline)\",\"returnToTopLabel\":\"返回顶部\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Notes\",\"link\":\"/docs/\"},{\"text\":\"About\",\"link\":\"/pages/about\"}],\"sidebar\":{\"/docs/\":[{\"text\":\"笔记：如何从 Windows 中删除旧设备驱动程序\",\"link\":\"/docs/os/win-remove-old-driver\",\"date\":1694191824000},{\"text\":\"代替 Electron 的几种方案\",\"link\":\"/docs/frontend/hybird/replace-electron\",\"date\":1693913520000},{\"text\":\"使用 YOLOX 进行目标检测训练\",\"link\":\"/docs/backend/py-yolox\",\"date\":1690113600000},{\"text\":\"使用 Python 构建UI自动化脚本\",\"link\":\"/docs/backend/py-pyautogui\",\"date\":1690113600000},{\"text\":\"Vue2 升级 Vue3 注意点\",\"link\":\"/docs/frontend/mvvm/vue2-to-vue3-tips\",\"date\":1682959824000},{\"text\":\"Fabric.js 补充笔记\",\"link\":\"/docs/frontend/canvas/fabric\",\"date\":1669282200000},{\"text\":\"修复UWP应用在启动页闪退的问题\",\"link\":\"/docs/os/fix-uwp\",\"date\":1667753424000},{\"text\":\"Canvas 事件系统的思考\",\"link\":\"/docs/frontend/canvas/canvas-note2\",\"date\":1658335824000},{\"text\":\"魔改 Laya 编译脚本实现兼容常规 NPM 包\",\"link\":\"/docs/frontend/canvas/laya-compile\",\"date\":1616668560000},{\"text\":\"记录两种内网linux上网的方式\",\"link\":\"/docs/os/iptables-proxy\",\"date\":1615305720000},{\"text\":\"Rust 环境搭建笔记\",\"link\":\"/docs/backend/rust-env-note\",\"date\":1609761024000},{\"text\":\"iOS App 证书申请流程\",\"link\":\"/docs/frontend/hybird/ios-cert\",\"date\":1605891000000},{\"text\":\"Blender 笔记03: 建模篇\",\"link\":\"/docs/frontend/3d/blender-03-modeling\",\"date\":1603731000000},{\"text\":\"Blender 笔记02: 修改器\",\"link\":\"/docs/frontend/3d/blender-02-modify\",\"date\":1603126200000},{\"text\":\"Blender 笔记01: 基本操作和编辑模式\",\"link\":\"/docs/frontend/3d/blender-01-basic\",\"date\":1602521400000},{\"text\":\"解决GitLab删除或迁移项目报500\",\"link\":\"/docs/backend/gitlab-500\",\"date\":1602521400000},{\"text\":\"Linux 按时间批量删除文件（删除30天前文件）\",\"link\":\"/docs/os/linux-del-file-by-date\",\"date\":1598979024000},{\"text\":\"生产环境全局移除console\",\"link\":\"/docs/frontend/tool/remove-console\",\"date\":1597361520000},{\"text\":\"nuxt 构建相关笔记\",\"link\":\"/docs/frontend/mvvm/nuxt-build-note\",\"date\":1597361520000},{\"text\":\"mysqldump 导出提示 Couldn't execute SELECT COLUMN_NAME...\",\"link\":\"/docs/database/mysql-export\",\"date\":1597361520000},{\"text\":\"Elasticsearch 笔记\",\"link\":\"/docs/database/es-note-01\",\"date\":1597361520000},{\"text\":\"Flutter 学习笔记\",\"link\":\"/docs/frontend/hybird/flutter-note\",\"date\":1597067940000},{\"text\":\"NodeJS 处理二进制\",\"link\":\"/docs/nodejs/bin-in-nodejs\",\"date\":1594227024000},{\"text\":\"用 frp 暴露内网服务\",\"link\":\"/docs/backend/frp-guide\",\"date\":1593622224000},{\"text\":\"CentOS 8 FAQ\",\"link\":\"/docs/os/centos-8-faq\",\"date\":1592687400000},{\"text\":\"Egret 游戏引擎学习笔记\",\"link\":\"/docs/frontend/canvas/egret-note\",\"date\":1592645400000},{\"text\":\"Spark 学习日记（初探）\",\"link\":\"/docs/backend/spark-note\",\"date\":1592326224000},{\"text\":\"hadoop 学习日记（初探）\",\"link\":\"/docs/backend/hadoop-note\",\"date\":1592326224000},{\"text\":\"NodeJS 一行命令搭建静态文件服务器\",\"link\":\"/docs/nodejs/node-static-file-server\",\"date\":1589734224000},{\"text\":\"Docker 笔记(常用模板)\",\"link\":\"/docs/backend/docker-note-4\",\"date\":1589734224000},{\"text\":\"Docker开启Remote API 访问 2375端口\",\"link\":\"/docs/backend/docker-note-3\",\"date\":1589734224000},{\"text\":\"Docker 笔记(构建)\",\"link\":\"/docs/backend/docker-note-2\",\"date\":1589734224000},{\"text\":\"React Native 开发笔记（长期更新）\",\"link\":\"/docs/frontend/hybird/react-native-tips\",\"date\":1589726700000},{\"text\":\"记一个路径遍历算法（JS）\",\"link\":\"/docs/frontend/javascript/js-route-algorithm\",\"date\":1587401424000},{\"text\":\"记一个 Table 跨行转换算法\",\"link\":\"/docs/frontend/javascript/table-colspan-convert\",\"date\":1587142224000},{\"text\":\"CentOS 磁盘扩容\",\"link\":\"/docs/os/centos-disk-extend\",\"date\":1586553000000},{\"text\":\"Jenkins 问题汇总\",\"link\":\"/docs/backend/jenkins-guide\",\"date\":1586551800000},{\"text\":\"公司内 vscode 统一配置规范\",\"link\":\"/docs/frontend/tool/vscode-config-template\",\"date\":1583427024000},{\"text\":\"Linux VPN Server 异地组网\",\"link\":\"/docs/os/linux-vpn\",\"date\":1578258600000},{\"text\":\"用 d3.js 做一个地图迁徙图\",\"link\":\"/docs/frontend/canvas/d3-map\",\"date\":1575651024000},{\"text\":\"坐标系转换算法与投影算法\",\"link\":\"/docs/frontend/javascript/gps-coordinate-transofrm\",\"date\":1574873424000},{\"text\":\"Docker 打包 NuxtJS\",\"link\":\"/docs/backend/docker-nuxt\",\"date\":1573059024000},{\"text\":\"GitLab 配置邮件通知\",\"link\":\"/docs/backend/gitlab-mail\",\"date\":1572540624000},{\"text\":\"JavaScript UMD 插件编写规范(修订)\",\"link\":\"/docs/nodejs/webpack-umd-pkg\",\"date\":1570871220000},{\"text\":\"deepin linux 使用与运维日记（长期更新）\",\"link\":\"/docs/os/deepin-linux-note\",\"date\":1569603024000},{\"text\":\"个人 NPM 包索引帖\",\"link\":\"/docs/frontend/tool/personal-npm-packages\",\"date\":1568806920000},{\"text\":\"HTML5 播放 RTSP/RTMP 方案\",\"link\":\"/docs/nodejs/html5-live-video\",\"date\":1567356624000},{\"text\":\"WebStorm 针对 log4js 日志格式的高亮配置\",\"link\":\"/docs/other/webstorm-conf-log4js\",\"date\":1566406224000},{\"text\":\"优雅地统计代码行数\",\"link\":\"/docs/other/cloc\",\"date\":1566387624000},{\"text\":\"Phaser-CE 游戏引擎学习笔记\",\"link\":\"/docs/frontend/canvas/phaser-ce-note\",\"date\":1563183000000},{\"text\":\"JavaScript 前端图片压缩方案，支持方向识别和修正\",\"link\":\"/docs/frontend/javascript/fe-js-image-compress\",\"date\":1559667000000},{\"text\":\"macOS 常用笔记\",\"link\":\"/docs/os/macos-faq\",\"date\":1559321424000},{\"text\":\"针对 WebPack 多核利用率低的现状的优化\",\"link\":\"/docs/frontend/tool/webpack-multi-cores-optmise\",\"date\":1559215980000},{\"text\":\"Cordova 开发日记 08：与原生 Android 交互\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-08\",\"date\":1559059200000},{\"text\":\"Android 问题笔记【持续更新】\",\"link\":\"/docs/frontend/hybird/android-q-note\",\"date\":1558697520000},{\"text\":\"踩坑：iOS 微信浏览器关闭键盘时页面不回弹\",\"link\":\"/docs/frontend/css/ios-keyboard-scroll-bug\",\"date\":1558111824000},{\"text\":\"2 种 NodeJS 包管理工具的仓库和缓存配置笔记\",\"link\":\"/docs/frontend/tool/node-pkg-manager-note\",\"date\":1557826260000},{\"text\":\"浏览器中那些容易混淆的宽高属性（MDN）\",\"link\":\"/docs/frontend/html/the-width-in-browser\",\"date\":1557786900000},{\"text\":\"用 javascript 统计字数，计数问题\",\"link\":\"/docs/frontend/javascript/js-word-counter\",\"date\":1557769260000},{\"text\":\"NodeJS AOP 实践\",\"link\":\"/docs/frontend/javascript/nodejs-aop\",\"date\":1557500760000},{\"text\":\"Linux traceroute 命令排查网络状况\",\"link\":\"/docs/os/linux-traceroute\",\"date\":1542819024000},{\"text\":\"Linux CheckInstall 命令使用指南\",\"link\":\"/docs/os/checkinstall-note\",\"date\":1540910700000},{\"text\":\"aria2 常用命令\",\"link\":\"/docs/other/aria2-cmds\",\"date\":1540824300000},{\"text\":\"QT（C++）自学日记（长期更新）\",\"link\":\"/docs/backend/qt-cpp-note\",\"date\":1538412624000},{\"text\":\"CSS nth-child 详解\",\"link\":\"/docs/frontend/css/css-nth-child\",\"date\":1537030224000},{\"text\":\"JS 用巧妙的方式实现复制内容到剪贴板\",\"link\":\"/docs/frontend/javascript/js-copy-to-clipboard\",\"date\":1536180624000},{\"text\":\"react 和 vue 全局组件的实现方式\",\"link\":\"/docs/frontend/mvvm/global-component-of-react-and-vue\",\"date\":1536166224000},{\"text\":\"使用 vue2-editor 遇到的问题\",\"link\":\"/docs/frontend/mvvm/vue2-editor-note\",\"date\":1535907024000},{\"text\":\"mongodb 使用笔记\",\"link\":\"/docs/database/mongodb-note\",\"date\":1535215824000},{\"text\":\"移动端 CSS 适配笔记\",\"link\":\"/docs/frontend/css/mobile-css-compatible\",\"date\":1533228624000},{\"text\":\"用 nodejs 爬虫获取一个 gb2312 编码的网站的 2 个坑\",\"link\":\"/docs/nodejs/nodejs-spider-for-gb2312\",\"date\":1532969424000},{\"text\":\"常用正则校验整理\",\"link\":\"/docs/frontend/javascript/regexps-for-you\",\"date\":1531155024000},{\"text\":\"Git Guide\",\"link\":\"/docs/other/git-guide\",\"date\":1527094224000},{\"text\":\"CSS 的结界 BFC\",\"link\":\"/docs/frontend/css/css-bfc\",\"date\":1526245800000},{\"text\":\"CentOS 7 FAQ\",\"link\":\"/docs/os/centos-7-faq\",\"date\":1526159400000},{\"text\":\"记一个 CentOS 6 升 7\",\"link\":\"/docs/os/centos-6-to-7\",\"date\":1526159400000},{\"text\":\"27 行 nodejs 实现请求转发\",\"link\":\"/docs/nodejs/nodejs-http-proxy\",\"date\":1525986600000},{\"text\":\"区块链学习：nodejs 实现一个基本区块链\",\"link\":\"/docs/nodejs/nodejs-blockchain\",\"date\":1525727400000},{\"text\":\"nodejs 递归读取目录下所有文件的路径\",\"link\":\"/docs/nodejs/nodejs-read-file-list\",\"date\":1525381800000},{\"text\":\"用 NodeJS 写 CLI\",\"link\":\"/docs/nodejs/node-cli-framework\",\"date\":1525366224000},{\"text\":\"自定义浏览器滚动条的样式\",\"link\":\"/docs/frontend/css/custom-scrollbar\",\"date\":1525199412000},{\"text\":\"修改火狐默认的 DNS 缓存时间\",\"link\":\"/docs/backend/set-ff-dns-cache\",\"date\":1522842024000},{\"text\":\"MySQL 的一些常用 SQL 集合\",\"link\":\"/docs/database/mysql-sql-adv-guide\",\"date\":1521805224000},{\"text\":\"使用 react 脚手架 create-react-app 创建项目后的几个优化\",\"link\":\"/docs/frontend/mvvm/some-optimize-after-create-react-app\",\"date\":1520852900000},{\"text\":\"JS 监听微信、支付宝等移动 app 及浏览器的返回、后退、上一页按钮的事件方法\",\"link\":\"/docs/frontend/javascript/js-event-popstate\",\"date\":1520700624000},{\"text\":\"Google Puppeteer 入门\",\"link\":\"/docs/nodejs/puppeteer-start-guide\",\"date\":1520355024000},{\"text\":\"简单实现异步加载 JavaScript\",\"link\":\"/docs/frontend/javascript/load-js-async\",\"date\":1520355024000},{\"text\":\"NodeJS NVM 使用笔记\",\"link\":\"/docs/nodejs/nodejs-nvm\",\"date\":1518022224000},{\"text\":\"利用 JS 实现的根据经纬度计算地球上两点之间的距离\",\"link\":\"/docs/frontend/javascript/the-diff-of-similar-objects-in-js\",\"date\":1517503824000},{\"text\":\"JavaScript 二进制数组（应用）\",\"link\":\"/docs/frontend/javascript/es6-arraybuffer\",\"date\":1517503824000},{\"text\":\"利用 JS 实现的根据经纬度计算地球上两点之间的距离\",\"link\":\"/docs/frontend/javascript/js-geo-distance\",\"date\":1517331024000},{\"text\":\"Redis 开启远程访问\",\"link\":\"/docs/backend/redis-remote-access\",\"date\":1516812624000},{\"text\":\"JS 全角半角转换\",\"link\":\"/docs/frontend/javascript/js-chgcase\",\"date\":1516726224000},{\"text\":\"JS 金额大写转换\",\"link\":\"/docs/frontend/javascript/js-chinese-num-upper-case\",\"date\":1516639824000},{\"text\":\"CSS3 text-overflow 字符串截取\",\"link\":\"/docs/frontend/css/css-text-overflow\",\"date\":1516639824000},{\"text\":\"Docker 笔记(部署)\",\"link\":\"/docs/backend/docker-note\",\"date\":1516553424000},{\"text\":\"对象元素的数组去重实现\",\"link\":\"/docs/frontend/javascript/remove-repeat-when-array-item-is-object\",\"date\":1516467024000},{\"text\":\"让页面的字体变得更清晰（css 实现）\",\"link\":\"/docs/frontend/css/webkit-font-smoothing\",\"date\":1516380624000},{\"text\":\"图解 JavaScript 的参数传递\",\"link\":\"/docs/frontend/javascript/js-params\",\"date\":1516121424000},{\"text\":\"初识 JavaScript 依赖注入\",\"link\":\"/docs/frontend/javascript/js-dependency-injection\",\"date\":1516035024000},{\"text\":\"用 d3.js 做一个简单的柱状\",\"link\":\"/docs/frontend/canvas/d3-simple-custom-bar\",\"date\":1515775824000},{\"text\":\"Canvas 笔记\",\"link\":\"/docs/frontend/canvas/canvas-note\",\"date\":1515603024000},{\"text\":\"JS 生成 UUID/GUID\",\"link\":\"/docs/frontend/javascript/gen-uuid-by-js\",\"date\":1514566224000},{\"text\":\"通俗的方式理解 RxJS\",\"link\":\"/docs/frontend/javascript/js-rxjs-note\",\"date\":1513183824000},{\"text\":\"Manjaro 安装后的一些优化（待添加）\",\"link\":\"/docs/os/manjaro-optimize\",\"date\":1511196624000},{\"text\":\"如何在微信小程序中使用 ES7 特性 async/await\",\"link\":\"/docs/frontend/hybird/use-async-await-in-weapps\",\"date\":1510678224000},{\"text\":\"利用 PXE 远程启动 ISO\",\"link\":\"/docs/os/pxe-guide\",\"date\":1508950224000},{\"text\":\"React-Navigation 使用笔记\",\"link\":\"/docs/frontend/hybird/react-navigation-note\",\"date\":1508950224000},{\"text\":\"SSH 免密登录\",\"link\":\"/docs/os/ssh-login-without-password\",\"date\":1508518224000},{\"text\":\"Windows 远程桌面报错：“由于没有远程桌面授权服务器可以提供许可证”\",\"link\":\"/docs/os/remote-desktop-error-on-win\",\"date\":1508518224000},{\"text\":\"React-Native 搭建开发环境\",\"link\":\"/docs/frontend/hybird/build-rn-dev-env\",\"date\":1507827024000},{\"text\":\"H5Plus/MUI FAQ\",\"link\":\"/docs/frontend/hybird/h5plus-and-mui-faq\",\"date\":1507640640000},{\"text\":\"如何隐藏 Tomcat 命令窗口\",\"link\":\"/docs/backend/how-to-hide-tomcat-window\",\"date\":1505731884000},{\"text\":\"Linux 使用自带的 tar 实现增量备份\",\"link\":\"/docs/os/linux-tar-backup\",\"date\":1505062224000},{\"text\":\"Linux 常用（通用）命令整理\",\"link\":\"/docs/os/linux-cmds\",\"date\":1505062224000},{\"text\":\"node.js pm2 的使用\",\"link\":\"/docs/nodejs/node-pm2\",\"date\":1502484600000},{\"text\":\"使用 Redirector 插件解决 googleapis 公共库加载的问题\",\"link\":\"/docs/other/use-redirector-plugin\",\"date\":1502362284000},{\"text\":\"Nginx 笔记\",\"link\":\"/docs/backend/nginx-note\",\"date\":1500807084000},{\"text\":\"修改 Tomcat 应用日志默认编码格式\",\"link\":\"/docs/backend/how-to-change-tomcat-log-default-encode\",\"date\":1500634284000},{\"text\":\"NodeJS 利用 tail 命令，动态读取日志\",\"link\":\"/docs/nodejs/nodejs-exec-with-tail-exe\",\"date\":1500288684000},{\"text\":\"NodeJS 判断端口是否被占用\",\"link\":\"/docs/nodejs/watch-port-by-nodejs\",\"date\":1499856684000},{\"text\":\"加速 build.gradle 的下载速度\",\"link\":\"/docs/backend/accelerate-build-gradle-net-speed-in-china\",\"date\":1499273424000},{\"text\":\"ArchLinux 实用 wiki 汇总\",\"link\":\"/docs/os/arch-linux-faq-wiki\",\"date\":1498841424000},{\"text\":\"Ubuntu（基于 elementary）问题汇总\",\"link\":\"/docs/os/ubuntu-faq\",\"date\":1498755024000},{\"text\":\"很有用的 Git 命令\",\"link\":\"/docs/other/useful-git-cmds\",\"date\":1498582224000},{\"text\":\"React 图片获取失败时能显示指定的默认图片\",\"link\":\"/docs/frontend/mvvm/react-custom-img\",\"date\":1478019024000},{\"text\":\"如何让 video 标签支持 hls/m3u8 视频流直播\",\"link\":\"/docs/frontend/html/html5-m3u8\",\"date\":1476809424000},{\"text\":\"Gulp 常用插件及其使用\",\"link\":\"/docs/frontend/tool/gulp-frequently-plugins\",\"date\":1476723024000},{\"text\":\"Linux 查看进程“打开”的文件或文件对应的进程及网络状态\",\"link\":\"/docs/os/how-to-watch-the-file-running-state-on-linux\",\"date\":1476463824000},{\"text\":\"Windows 上如何查看端口占用情况\",\"link\":\"/docs/os/how-to-watch-port-on-win\",\"date\":1476377424000},{\"text\":\"pip3 怎样修改默认源\",\"link\":\"/docs/backend/change-pip3-default-source\",\"date\":1476291024000},{\"text\":\"PHP 如何关闭 notice 级别的错误提示\",\"link\":\"/docs/backend/close-notice-in-php\",\"date\":1475599824000},{\"text\":\"CreateJS 笔记\",\"link\":\"/docs/frontend/javascript/createjs-note\",\"date\":1475513424000},{\"text\":\"JavaScript 合并区间的算法\",\"link\":\"/docs/frontend/javascript/js-merge-region\",\"date\":1475340624000},{\"text\":\"一些关于 Viewport 与 device-width 的东西\",\"link\":\"/docs/frontend/html/html-viewport\",\"date\":1475167824000},{\"text\":\"如何优雅地比较版本号\",\"link\":\"/docs/frontend/javascript/js-compare-ver\",\"date\":1475081424000},{\"text\":\"Linux 中 Kill 进程的 N 种方法\",\"link\":\"/docs/os/you-have-n-methods-to-kill-process-on-linux\",\"date\":1474995024000},{\"text\":\"解决 jquery.qrcode 中文识别问题\",\"link\":\"/docs/frontend/jquery/jquery-qrcode-chinese-problem\",\"date\":1474908624000},{\"text\":\"Linux 中 pip 安装步骤与使用详解\",\"link\":\"/docs/os/install-pip-on-linux\",\"date\":1474822224000},{\"text\":\"location.reload 与 location.replace 与 location.href\",\"link\":\"/docs/frontend/javascript/reload-replace-and-href\",\"date\":1474649424000},{\"text\":\"禁止别人以 iframe 加载你的页面\",\"link\":\"/docs/frontend/html/disable-iframe-reference-your-website\",\"date\":1474476624000},{\"text\":\"JS 获取图片的 BASE64\",\"link\":\"/docs/frontend/javascript/js-get-img-base64\",\"date\":1474390224000},{\"text\":\"JS 随机算法合集\",\"link\":\"/docs/frontend/javascript/js-random-funcs\",\"date\":1474131024000},{\"text\":\"javascript 深入理解 js 闭包\",\"link\":\"/docs/frontend/javascript/js-closure\",\"date\":1473958224000},{\"text\":\"利用 document.activeElement 获取焦点元素\",\"link\":\"/docs/frontend/javascript/document-activeelement\",\"date\":1473871824000},{\"text\":\"HTML5 Web Worker 的使用\",\"link\":\"/docs/frontend/javascript/web-worker\",\"date\":1473612624000},{\"text\":\"JS 另类方法高效实现 htmlencode() 与 htmldecode() 函数\",\"link\":\"/docs/frontend/html/htmlencode-and-htmldecode\",\"date\":1473526224000},{\"text\":\"HTML5 File API 实现带有进度提示的文件上传\",\"link\":\"/docs/frontend/html/html5-file-api\",\"date\":1473180624000},{\"text\":\"link 标签中 rel=* 的作用\",\"link\":\"/docs/frontend/html/html-link-rel\",\"date\":1473094224000},{\"text\":\"用 linux 下常用命令 wget 进行整站下载（递归下载至本地）\",\"link\":\"/docs/os/download-full-website-by-using-wget\",\"date\":1472921424000},{\"text\":\"让您的 Chrome 浏览器允许本地环境支持 Ajax\",\"link\":\"/docs/frontend/tool/support-ajax-on-fs-in-chrome\",\"date\":1472835024000},{\"text\":\"如何禁止 (表单) 用户名、密码自动填充\",\"link\":\"/docs/frontend/html/disable-chrome-autocomplete\",\"date\":1472835024000},{\"text\":\"如何禁止 iPhone Safari video 标签视频自动全屏？\",\"link\":\"/docs/frontend/html/disable-video-full-screen-on-ios\",\"date\":1472748624000},{\"text\":\"WAP/HTML5 手机拨号链接 & 发送短信\",\"link\":\"/docs/frontend/html/html5-tel\",\"date\":1472489424000},{\"text\":\"Linux zip 解压文件名乱码解决方法\",\"link\":\"/docs/os/zip-unreadable-code-on-linux\",\"date\":1471884624000},{\"text\":\"Linux 常用服务端环境配置攻略\",\"link\":\"/docs/os/install-services-on-linux\",\"date\":1471711824000},{\"text\":\"Node.js md5 中文支持\",\"link\":\"/docs/nodejs/nodejs-md5-support-chinese\",\"date\":1471107024000},{\"text\":\"node.js 定时任务：node-schedule 的使用\",\"link\":\"/docs/nodejs/node-schedule\",\"date\":1470934224000},{\"text\":\"Cordova 开发日记 07：cordova-plugin-baidu-geolocation 定位偏差问题\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-07\",\"date\":1470070224000},{\"text\":\"Cordova 开发日记 06：处理网络缓慢被墙的问题\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-06\",\"date\":1469379024000},{\"text\":\"Cordova 开发日记 05：白名单的配置和说明 Whitelist\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-05\",\"date\":1469292624000},{\"text\":\"Cordova 开发日记 04：常用插件与使用\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-04\",\"date\":1469206224000},{\"text\":\"Cordova 开发日记 03：如何生成安卓 apk-release 版\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-03\",\"date\":1469119824000},{\"text\":\"Cordova 开发日记 02：navigation.app 和 event\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-02\",\"date\":1469033424000},{\"text\":\"Cordova 开发日记 01：环境部署\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-01\",\"date\":1468947024000},{\"text\":\"通过 CSS 让 html 网页中的内容不可选\",\"link\":\"/docs/frontend/css/disable-copy-using-css\",\"date\":1467478224000},{\"text\":\"远程访问 Linux 上 MySQL 出错解决方案\",\"link\":\"/docs/database/how-to-access-mysql-remotely\",\"date\":1449939024000},{\"text\":\"JS 进制转换\",\"link\":\"/docs/frontend/javascript/js-conv\",\"date\":1437411024000},{\"text\":\"JS 判断图片是否存在 兼容多浏览器\",\"link\":\"/docs/frontend/javascript/js-check-is-img-exists\",\"date\":1437411024000},{\"text\":\"HTML head 头标签笔记\",\"link\":\"/docs/frontend/html/html-head\",\"date\":1437411024000},{\"text\":\"win7 打印机共享出现 0x000006d9 错误的解决方法\",\"link\":\"/docs/os/win7-0x000006d9-error\",\"date\":1436547024000},{\"text\":\"seajs 最常用 7 个方法\",\"link\":\"/docs/frontend/javascript/7-useful-funs-in-seajs\",\"date\":1424364624000},{\"text\":\"PowerShell 笔记\",\"link\":\"/docs/os/powershell-note\",\"date\":1421071980000},{\"text\":\"对 frameset、iframe、frame 的操作\",\"link\":\"/docs/frontend/html/operations-of-frames\",\"date\":1420371624000},{\"text\":\"脚本解决 PowerDesigner 逆向工程生成 PDM 时中文注释问题\",\"link\":\"/docs/backend/ch-bugs-in-pd-reverse-project\",\"date\":1405942824000}]},\"search\":{\"provider\":\"local\",\"options\":{\"miniSearch\":{\"options\":{\"fields\":[\"title\"]}}}},\"footer\":{\"message\":\"Version 4.0-framework-1.0.0-rc.10\",\"copyright\":\"Copyright © 2014-present Wolfx 🐺\"},\"recommend\":{\"DocsHome\":[{\"name\":\"Vue2 升级 Vue3 注意点\",\"link\":\"frontend/mvvm/vue2-to-vue3-tips\"},{\"name\":\"Cordova 开发日记\",\"link\":\"frontend/hybird/cordova-dev-note-01\"},{\"name\":\"React Native 开发笔记（长期更新）\",\"link\":\"frontend/hybird/react-native-tips\"},{\"name\":\"Egret 游戏引擎学习笔记\",\"link\":\"frontend/canvas/egret-note\"},{\"name\":\"Phaser-CE 游戏引擎学习笔记\",\"link\":\"frontend/canvas/phaser-ce-note\"},{\"name\":\"iOS App 证书申请流程\",\"link\":\"frontend/hybird/ios-cert\"},{\"name\":\"Blender 学习笔记\",\"link\":\"frontend/3d/blender-01-basic\"}],\"docker-note\":[{\"name\":\"Docker 笔记(部署)\",\"link\":\"docker-note\"},{\"name\":\"Docker 笔记(构建)\",\"link\":\"docker-note-2\"},{\"name\":\"Docker 开启 Remote API 访问 2375 端口\",\"link\":\"docker-note-3\"},{\"name\":\"Docker 笔记(常用模板)\",\"link\":\"docker-note-4\"},{\"name\":\"Docker 打包 NuxtJS\",\"link\":\"docker-nuxt\"}],\"cordova-dev-note\":[{\"name\":\"Cordova 开发日记 01：环境部署\",\"link\":\"cordova-dev-note-01\"},{\"name\":\"Cordova 开发日记 02：navigation.app 和 event\",\"link\":\"cordova-dev-note-02\"},{\"name\":\"Cordova 开发日记 03：如何生成安卓 apk-release 版\",\"link\":\"cordova-dev-note-03\"},{\"name\":\"Cordova 开发日记 04：常用插件与使用\",\"link\":\"cordova-dev-note-04\"},{\"name\":\"Cordova 开发日记 05：白名单的配置和说明 Whitelist\",\"link\":\"cordova-dev-note-05\"},{\"name\":\"Cordova 开发日记 06：处理网络缓慢被墙的问题\",\"link\":\"cordova-dev-note-06\"},{\"name\":\"Cordova 开发日记 07：cordova-plugin-baidu-geolocation 定位偏差问题\",\"link\":\"cordova-dev-note-07\"},{\"name\":\"Cordova 开发日记 08：与原生 Android 交互\",\"link\":\"cordova-dev-note-08\"}],\"CentOS\":[{\"name\":\"记一个 CentOS 6 升 7\",\"link\":\"centos-6-to-7\"},{\"name\":\"CentOS 7 FAQ\",\"link\":\"centos-7-faq\"},{\"name\":\"CentOS 8 FAQ\",\"link\":\"centos-8-faq\"},{\"name\":\"CentOS 磁盘扩容\",\"link\":\"centos-disk-extend\"}],\"linux-cmd\":[{\"name\":\"Linux 常用（通用）命令整理\",\"link\":\"linux-cmds\"},{\"name\":\"Linux traceroute 命令排查网络状况\",\"link\":\"linux-traceroute\"}],\"blender\":[{\"name\":\"Blender 笔记01: 基本操作和编辑模式\",\"link\":\"blender-01-basic\"},{\"name\":\"Blender 笔记02: 修改器\",\"link\":\"blender-02-modify\"},{\"name\":\"Blender 笔记03: 建模篇\",\"link\":\"blender-03-modeling\"}],\"canvas\":[{\"name\":\"Canvas 笔记\",\"link\":\"canvas-note\"},{\"name\":\"Canvas 事件系统的思考\",\"link\":\"canvas-note2\"},{\"name\":\"Fabric.js 补充笔记\",\"link\":\"fabric\"}],\"React-Native\":[{\"name\":\"React Native 开发笔记\",\"link\":\"react-native-tips\"},{\"name\":\"React-Navigation 使用笔记\",\"link\":\"react-navigation-note\"}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>