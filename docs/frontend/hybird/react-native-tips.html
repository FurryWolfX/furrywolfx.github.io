<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React Native 开发笔记（长期更新） | Wolfx's Notebook</title>
    <meta name="description" content="Wolfx's Notebook">
    <link rel="preload stylesheet" href="/assets/style.8ff99289.css" as="style">
    
    <script type="module" src="/assets/app.5eb82e3d.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.a5795de3.js">
    <link rel="modulepreload" href="/assets/chunks/theme.76bd27a8.js">
    <link rel="modulepreload" href="/assets/docs_frontend_hybird_react-native-tips.md.6a27d55e.lean.js">
    <meta name="version" content="4.0-framework-1.0.0-rc.13">
    <link rel="icon" href="/logo.png">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-4064354f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-4064354f data-v-5bdc5df3><div class="VPNavBar has-sidebar" data-v-5bdc5df3 data-v-f1abbc6e><div class="container" data-v-f1abbc6e><div class="title" data-v-f1abbc6e><div class="VPNavBarTitle has-sidebar" data-v-f1abbc6e data-v-2973dbb4><a class="title" href="/" data-v-2973dbb4><!--[--><!--]--><!----><!--[-->Wolfx&#39;s Notebook<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f1abbc6e><div class="curtain" data-v-f1abbc6e></div><div class="content-body" data-v-f1abbc6e><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f1abbc6e><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f1abbc6e data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Notes</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pages/about.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>About</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f1abbc6e data-v-5e9f0637><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-5e9f0637 data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-f1abbc6e data-v-c8c2ae4b data-v-aa8de344><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-aa8de344><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-aa8de344><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-aa8de344><div class="VPMenu" data-v-aa8de344 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-c8c2ae4b><div class="item appearance" data-v-c8c2ae4b><p class="label" data-v-c8c2ae4b>夜间模式</p><div class="appearance-action" data-v-c8c2ae4b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-c8c2ae4b data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f1abbc6e data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-4064354f data-v-9e669cc1><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-9e669cc1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-9e669cc1><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-9e669cc1>目录</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-9e669cc1 data-v-24251f6f><button data-v-24251f6f>返回顶部</button><!----></div></div><aside class="VPSidebar" data-v-4064354f data-v-ee2efba5><div class="curtain" data-v-ee2efba5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-ee2efba5><span class="visually-hidden" id="sidebar-aria-label" data-v-ee2efba5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 has-active" data-v-ee2efba5 data-v-bd01e0d5><!----><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/other/git-guide.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Git Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/win-remove-old-driver.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>笔记：如何从 Windows 中删除旧设备驱动程序</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/replace-electron.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>代替 Electron 的几种方案</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/py-yolox.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用 YOLOX 进行目标检测训练</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/py-pyautogui.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用 Python 构建UI自动化脚本</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/mvvm/vue2-to-vue3-tips.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Vue2 升级 Vue3 注意点</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/fabric.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Fabric.js 补充笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/fix-uwp.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>修复UWP应用在启动页闪退的问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/canvas-note2.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Canvas 事件系统的思考</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/laya-compile.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>魔改 Laya 编译脚本实现兼容常规 NPM 包</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/iptables-proxy.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>记录两种内网linux上网的方式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/rust-env-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Rust 环境搭建笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/ios-cert.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>iOS App 证书申请流程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/3d/blender-03-modeling.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Blender 笔记03: 建模篇</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/3d/blender-02-modify.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Blender 笔记02: 修改器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/3d/blender-01-basic.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Blender 笔记01: 基本操作和编辑模式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/gitlab-500.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>解决GitLab删除或迁移项目报500</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/linux-del-file-by-date.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 按时间批量删除文件（删除30天前文件）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/remove-console.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>生产环境全局移除console</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/mvvm/nuxt-build-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>nuxt 构建相关笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/database/mysql-export.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>mysqldump 导出提示 Couldn't execute SELECT COLUMN_NAME...</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/database/es-note-01.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Elasticsearch 笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/flutter-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Flutter 学习笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/bin-in-nodejs.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>NodeJS 处理二进制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/frp-guide.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 frp 暴露内网服务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/centos-8-faq.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CentOS 8 FAQ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/egret-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Egret 游戏引擎学习笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/spark-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Spark 学习日记（初探）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/hadoop-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>hadoop 学习日记（初探）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/node-static-file-server.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>NodeJS 一行命令搭建静态文件服务器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/docker-note-4.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Docker 笔记(常用模板)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/docker-note-3.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Docker开启Remote API 访问 2375端口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/docker-note-2.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Docker 笔记(构建)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/react-native-tips.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>React Native 开发笔记（长期更新）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-route-algorithm.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>记一个路径遍历算法（JS）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/table-colspan-convert.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>记一个 Table 跨行转换算法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/centos-disk-extend.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CentOS 磁盘扩容</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/jenkins-guide.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Jenkins 问题汇总</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/vscode-config-template.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>公司内 vscode 统一配置规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/linux-vpn.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux VPN Server 异地组网</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/d3-map.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 d3.js 做一个地图迁徙图</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/gps-coordinate-transofrm.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>坐标系转换算法与投影算法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/docker-nuxt.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Docker 打包 NuxtJS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/gitlab-mail.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>GitLab 配置邮件通知</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/webpack-umd-pkg.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JavaScript UMD 插件编写规范(修订)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/deepin-linux-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>deepin linux 使用与运维日记（长期更新）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/personal-npm-packages.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>个人 NPM 包索引帖</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/html5-live-video.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>HTML5 播放 RTSP/RTMP 方案</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/other/webstorm-conf-log4js.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>WebStorm 针对 log4js 日志格式的高亮配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/other/cloc.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>优雅地统计代码行数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/phaser-ce-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Phaser-CE 游戏引擎学习笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/fe-js-image-compress.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JavaScript 前端图片压缩方案，支持方向识别和修正</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/macos-faq.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>macOS 常用笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/webpack-multi-cores-optmise.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>针对 WebPack 多核利用率低的现状的优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-08.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 08：与原生 Android 交互</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/android-q-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Android 问题笔记【持续更新】</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/ios-keyboard-scroll-bug.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>踩坑：iOS 微信浏览器关闭键盘时页面不回弹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/node-pkg-manager-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>2 种 NodeJS 包管理工具的仓库和缓存配置笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/the-width-in-browser.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>浏览器中那些容易混淆的宽高属性（MDN）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-word-counter.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 javascript 统计字数，计数问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/nodejs-aop.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>NodeJS AOP 实践</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/linux-traceroute.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux traceroute 命令排查网络状况</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/checkinstall-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux CheckInstall 命令使用指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/other/aria2-cmds.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>aria2 常用命令</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/qt-cpp-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>QT（C++）自学日记（长期更新）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/css-nth-child.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CSS nth-child 详解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-copy-to-clipboard.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 用巧妙的方式实现复制内容到剪贴板</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/mvvm/global-component-of-react-and-vue.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>react 和 vue 全局组件的实现方式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/mvvm/vue2-editor-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用 vue2-editor 遇到的问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/database/mongodb-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>mongodb 使用笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/mobile-css-compatible.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>移动端 CSS 适配笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-spider-for-gb2312.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 nodejs 爬虫获取一个 gb2312 编码的网站的 2 个坑</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/regexps-for-you.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>常用正则校验整理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/css-bfc.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CSS 的结界 BFC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/centos-7-faq.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CentOS 7 FAQ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/centos-6-to-7.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>记一个 CentOS 6 升 7</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-http-proxy.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>27 行 nodejs 实现请求转发</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-blockchain.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>区块链学习：nodejs 实现一个基本区块链</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-read-file-list.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>nodejs 递归读取目录下所有文件的路径</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/node-cli-framework.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 NodeJS 写 CLI</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/custom-scrollbar.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>自定义浏览器滚动条的样式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/set-ff-dns-cache.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>修改火狐默认的 DNS 缓存时间</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/database/mysql-sql-adv-guide.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>MySQL 的一些常用 SQL 集合</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/mvvm/some-optimize-after-create-react-app.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用 react 脚手架 create-react-app 创建项目后的几个优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-event-popstate.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 监听微信、支付宝等移动 app 及浏览器的返回、后退、上一页按钮的事件方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/puppeteer-start-guide.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Google Puppeteer 入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/load-js-async.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>简单实现异步加载 JavaScript</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-nvm.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>NodeJS NVM 使用笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/the-diff-of-similar-objects-in-js.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>利用 JS 实现的根据经纬度计算地球上两点之间的距离</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/es6-arraybuffer.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JavaScript 二进制数组（应用）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-geo-distance.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>利用 JS 实现的根据经纬度计算地球上两点之间的距离</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/redis-remote-access.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Redis 开启远程访问</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-chgcase.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 全角半角转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-chinese-num-upper-case.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 金额大写转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/css-text-overflow.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CSS3 text-overflow 字符串截取</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/docker-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Docker 笔记(部署)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/remove-repeat-when-array-item-is-object.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>对象元素的数组去重实现</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/webkit-font-smoothing.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>让页面的字体变得更清晰（css 实现）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-params.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>图解 JavaScript 的参数传递</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-dependency-injection.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>初识 JavaScript 依赖注入</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/d3-simple-custom-bar.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 d3.js 做一个简单的柱状</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/canvas/canvas-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Canvas 笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/gen-uuid-by-js.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 生成 UUID/GUID</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-rxjs-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>通俗的方式理解 RxJS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/manjaro-optimize.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Manjaro 安装后的一些优化（待添加）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/use-async-await-in-weapps.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何在微信小程序中使用 ES7 特性 async/await</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/pxe-guide.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>利用 PXE 远程启动 ISO</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/react-navigation-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>React-Navigation 使用笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/ssh-login-without-password.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>SSH 免密登录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/remote-desktop-error-on-win.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Windows 远程桌面报错：“由于没有远程桌面授权服务器可以提供许可证”</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/build-rn-dev-env.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>React-Native 搭建开发环境</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/h5plus-and-mui-faq.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>H5Plus/MUI FAQ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/how-to-hide-tomcat-window.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何隐藏 Tomcat 命令窗口</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/linux-tar-backup.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 使用自带的 tar 实现增量备份</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/linux-cmds.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 常用（通用）命令整理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/node-pm2.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>node.js pm2 的使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/other/use-redirector-plugin.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>使用 Redirector 插件解决 googleapis 公共库加载的问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/nginx-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Nginx 笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/how-to-change-tomcat-log-default-encode.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>修改 Tomcat 应用日志默认编码格式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-exec-with-tail-exe.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>NodeJS 利用 tail 命令，动态读取日志</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/watch-port-by-nodejs.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>NodeJS 判断端口是否被占用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/accelerate-build-gradle-net-speed-in-china.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>加速 build.gradle 的下载速度</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/arch-linux-faq-wiki.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>ArchLinux 实用 wiki 汇总</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/ubuntu-faq.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Ubuntu（基于 elementary）问题汇总</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/other/useful-git-cmds.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>很有用的 Git 命令</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/mvvm/react-custom-img.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>React 图片获取失败时能显示指定的默认图片</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/html5-m3u8.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何让 video 标签支持 hls/m3u8 视频流直播</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/gulp-frequently-plugins.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Gulp 常用插件及其使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/how-to-watch-the-file-running-state-on-linux.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 查看进程“打开”的文件或文件对应的进程及网络状态</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/how-to-watch-port-on-win.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Windows 上如何查看端口占用情况</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/change-pip3-default-source.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>pip3 怎样修改默认源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/close-notice-in-php.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>PHP 如何关闭 notice 级别的错误提示</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/createjs-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>CreateJS 笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-merge-region.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JavaScript 合并区间的算法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/html-viewport.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>一些关于 Viewport 与 device-width 的东西</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-compare-ver.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何优雅地比较版本号</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/you-have-n-methods-to-kill-process-on-linux.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 中 Kill 进程的 N 种方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/jquery/jquery-qrcode-chinese-problem.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>解决 jquery.qrcode 中文识别问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/install-pip-on-linux.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 中 pip 安装步骤与使用详解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/reload-replace-and-href.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>location.reload 与 location.replace 与 location.href</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/disable-iframe-reference-your-website.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>禁止别人以 iframe 加载你的页面</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-get-img-base64.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 获取图片的 BASE64</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-random-funcs.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 随机算法合集</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-closure.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>javascript 深入理解 js 闭包</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/document-activeelement.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>利用 document.activeElement 获取焦点元素</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/web-worker.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>HTML5 Web Worker 的使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/htmlencode-and-htmldecode.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 另类方法高效实现 htmlencode() 与 htmldecode() 函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/html5-file-api.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>HTML5 File API 实现带有进度提示的文件上传</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/html-link-rel.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>link 标签中 rel=* 的作用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/download-full-website-by-using-wget.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>用 linux 下常用命令 wget 进行整站下载（递归下载至本地）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/tool/support-ajax-on-fs-in-chrome.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>让您的 Chrome 浏览器允许本地环境支持 Ajax</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/disable-chrome-autocomplete.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何禁止 (表单) 用户名、密码自动填充</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/disable-video-full-screen-on-ios.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>如何禁止 iPhone Safari video 标签视频自动全屏？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/html5-tel.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>WAP/HTML5 手机拨号链接 & 发送短信</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/zip-unreadable-code-on-linux.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux zip 解压文件名乱码解决方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/install-services-on-linux.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Linux 常用服务端环境配置攻略</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/nodejs-md5-support-chinese.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Node.js md5 中文支持</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/nodejs/node-schedule.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>node.js 定时任务：node-schedule 的使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-07.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 07：cordova-plugin-baidu-geolocation 定位偏差问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-06.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 06：处理网络缓慢被墙的问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-05.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 05：白名单的配置和说明 Whitelist</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-04.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 04：常用插件与使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-03.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 03：如何生成安卓 apk-release 版</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-02.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 02：navigation.app 和 event</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/hybird/cordova-dev-note-01.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cordova 开发日记 01：环境部署</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/css/disable-copy-using-css.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>通过 CSS 让 html 网页中的内容不可选</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/database/how-to-access-mysql-remotely.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>远程访问 Linux 上 MySQL 出错解决方案</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-conv.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 进制转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/js-check-is-img-exists.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>JS 判断图片是否存在 兼容多浏览器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/html-head.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>HTML head 头标签笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/win7-0x000006d9-error.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>win7 打印机共享出现 0x000006d9 错误的解决方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/javascript/7-useful-funs-in-seajs.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>seajs 最常用 7 个方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/os/powershell-note.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>PowerShell 笔记</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/frontend/html/operations-of-frames.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>对 frameset、iframe、frame 的操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/docs/backend/ch-bugs-in-pd-reverse-project.html" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>脚本解决 PowerDesigner 逆向工程生成 PDM 时中文注释问题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-4064354f data-v-3cf691b6><div class="VPDoc has-sidebar has-aside" data-v-3cf691b6 data-v-a3c25e27><!--[--><!--]--><div class="container" data-v-a3c25e27><div class="aside" data-v-a3c25e27><div class="aside-curtain" data-v-a3c25e27></div><div class="aside-container" data-v-a3c25e27><div class="aside-content" data-v-a3c25e27><div class="VPDocAside" data-v-a3c25e27 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-3a6c4994><div class="content" data-v-3a6c4994><div class="outline-marker" data-v-3a6c4994></div><div class="outline-title" role="heading" aria-level="2" data-v-3a6c4994>大纲(Outline)</div><nav aria-labelledby="doc-outline-aria-label" data-v-3a6c4994><span class="visually-hidden" id="doc-outline-aria-label" data-v-3a6c4994> Table of Contents for current page </span><ul class="root" data-v-3a6c4994 data-v-463da30f><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-a3c25e27><div class="content-container" data-v-a3c25e27><!--[--><!--]--><!----><main class="main" data-v-a3c25e27><div style="position:relative;" class="vp-doc _docs_frontend_hybird_react-native-tips" data-v-a3c25e27><div><h1 id="react-native-开发笔记-长期更新" tabindex="-1">React Native 开发笔记（长期更新） <a class="header-anchor" href="#react-native-开发笔记-长期更新" aria-label="Permalink to &quot;React Native 开发笔记（长期更新）&quot;">​</a></h1><h2 id="rn-技巧" tabindex="-1">RN 技巧 <a class="header-anchor" href="#rn-技巧" aria-label="Permalink to &quot;RN 技巧&quot;">​</a></h2><h3 id="单独启动-android-studio-模拟器-linux" tabindex="-1">单独启动 android studio 模拟器(Linux) <a class="header-anchor" href="#单独启动-android-studio-模拟器-linux" aria-label="Permalink to &quot;单独启动 android studio 模拟器(Linux)&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">./emulator</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-netdelay</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">none</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-netspeed</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">full</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-avd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Nexus_5X_API_25</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">./emulator</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-netdelay</span><span style="color:#24292E;"> </span><span style="color:#032F62;">none</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-netspeed</span><span style="color:#24292E;"> </span><span style="color:#032F62;">full</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-avd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Nexus_5X_API_25</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="文字过长隐藏的问题" tabindex="-1">文字过长隐藏的问题 <a class="header-anchor" href="#文字过长隐藏的问题" aria-label="Permalink to &quot;文字过长隐藏的问题&quot;">​</a></h3><p>CSS3 中大家可能都会用到 text-oveflow，然而 RN 的 Text 并没有这个属性，不过我们可以通过设置 numberOfLIne 或者 JS 自动计算来实现：</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">Text</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">numberOfLines</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">}&gt;your long text here&lt;</span><span style="color:#79B8FF;">Text</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">Text</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">numberOfLines</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">}&gt;your long text here&lt;</span><span style="color:#005CC5;">Text</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="获取窗体大小" tabindex="-1">获取窗体大小 <a class="header-anchor" href="#获取窗体大小" aria-label="Permalink to &quot;获取窗体大小&quot;">​</a></h3><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Dimensions } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react-native&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  ScreenWidth: Dimensions.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;window&quot;</span><span style="color:#E1E4E8;">).width, </span><span style="color:#6A737D;">// 注意，如果这里的参数传递&quot;screen&quot;，会将顶部和底部虚拟按键的高也算进去。</span></span>
<span class="line"><span style="color:#E1E4E8;">  ScreenHeight: Dimensions.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;window&quot;</span><span style="color:#E1E4E8;">).height,</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Dimensions } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react-native&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  ScreenWidth: Dimensions.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;window&quot;</span><span style="color:#24292E;">).width, </span><span style="color:#6A737D;">// 注意，如果这里的参数传递&quot;screen&quot;，会将顶部和底部虚拟按键的高也算进去。</span></span>
<span class="line"><span style="color:#24292E;">  ScreenHeight: Dimensions.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;window&quot;</span><span style="color:#24292E;">).height,</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="关于相对单位" tabindex="-1">关于相对单位 <a class="header-anchor" href="#关于相对单位" aria-label="Permalink to &quot;关于相对单位&quot;">​</a></h3><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 模仿 web 端的 VW，VH，rem</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  ScreenWidth: Dimensions.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;window&quot;</span><span style="color:#E1E4E8;">).width,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ScreenHeight: Dimensions.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;window&quot;</span><span style="color:#E1E4E8;">).height,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VW</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">value</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> (Dimensions.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;window&quot;</span><span style="color:#E1E4E8;">).width </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> value,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">VH</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">value</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> (Dimensions.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;window&quot;</span><span style="color:#E1E4E8;">).height </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> value,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">rem</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">value</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> (Dimensions.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;window&quot;</span><span style="color:#E1E4E8;">).width </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">750</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> value,</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 模仿 web 端的 VW，VH，rem</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  ScreenWidth: Dimensions.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;window&quot;</span><span style="color:#24292E;">).width,</span></span>
<span class="line"><span style="color:#24292E;">  ScreenHeight: Dimensions.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;window&quot;</span><span style="color:#24292E;">).height,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VW</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">value</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> (Dimensions.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;window&quot;</span><span style="color:#24292E;">).width </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> value,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">VH</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">value</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> (Dimensions.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;window&quot;</span><span style="color:#24292E;">).height </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> value,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">rem</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">value</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> (Dimensions.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;window&quot;</span><span style="color:#24292E;">).width </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">750</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> value,</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="阴影效果" tabindex="-1">阴影效果 <a class="header-anchor" href="#阴影效果" aria-label="Permalink to &quot;阴影效果&quot;">​</a></h3><p>android 和 ios 的阴影设置不一样，ios 可以使用 shadow 来直接设置，android 则需要用 elevation 来设置。</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">styles</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  container: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    backgroundColor: </span><span style="color:#9ECBFF;">&quot;#fff&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    shadowColor: </span><span style="color:#9ECBFF;">&quot;#000&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    shadowOffset: { h: </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">, w: </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    shadowRadius: </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    shadowOpacity: </span><span style="color:#79B8FF;">0.3</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    elevation: </span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 安卓自带的阴影</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">styles</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  container: {</span></span>
<span class="line"><span style="color:#24292E;">    backgroundColor: </span><span style="color:#032F62;">&quot;#fff&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    shadowColor: </span><span style="color:#032F62;">&quot;#000&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    shadowOffset: { h: </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">, w: </span><span style="color:#005CC5;">10</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    shadowRadius: </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    shadowOpacity: </span><span style="color:#005CC5;">0.3</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    elevation: </span><span style="color:#005CC5;">4</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 安卓自带的阴影</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="组件通信" tabindex="-1">组件通信 <a class="header-anchor" href="#组件通信" aria-label="Permalink to &quot;组件通信&quot;">​</a></h3><p>如果是普通的组件通信可以用 props 解决，但如果是 react-navigation 等管理的组件，这招就不太好用了，比如返回时触发刷新页面等等。</p><p>解决方案有 2 种：</p><p>第一种是使用共享的状态，即 redux 这类框架去管理状态，这样状态和视图是保持同步的，不需要去告知页面需要刷新。redux 的使用方式这里不再阐述，可以看看我之前写的博文。</p><p>第二种是使用 RN 中的 DeviceEventEmitter</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 订阅事件</span></span>
<span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.subscription </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> DeviceEventEmitter.</span><span style="color:#B392F0;">addListener</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;reloadList&quot;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">getList</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 订阅事件</span></span>
<span class="line"><span style="color:#005CC5;">this</span><span style="color:#24292E;">.subscription </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> DeviceEventEmitter.</span><span style="color:#6F42C1;">addListener</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;reloadList&quot;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">getList</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 移出</span></span>
<span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.subscription.</span><span style="color:#B392F0;">remove</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 移出</span></span>
<span class="line"><span style="color:#005CC5;">this</span><span style="color:#24292E;">.subscription.</span><span style="color:#6F42C1;">remove</span><span style="color:#24292E;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 发射事件</span></span>
<span class="line"><span style="color:#E1E4E8;">DeviceEventEmitter.</span><span style="color:#B392F0;">emit</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;reloadList&quot;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 发射事件</span></span>
<span class="line"><span style="color:#24292E;">DeviceEventEmitter.</span><span style="color:#6F42C1;">emit</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;reloadList&quot;</span><span style="color:#24292E;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="上传文件" tabindex="-1">上传文件 <a class="header-anchor" href="#上传文件" aria-label="Permalink to &quot;上传文件&quot;">​</a></h3><p>以上传图片为例：</p><p>使用 RN 中自带的 fetch 方法实现</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">uploadImage</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">imgAry</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">formData</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">FormData</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> imgAry.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> file </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      uri: imgAry[i],</span></span>
<span class="line"><span style="color:#E1E4E8;">      type: </span><span style="color:#9ECBFF;">&quot;multipart/form-data&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      name: </span><span style="color:#9ECBFF;">&quot;image.jpg&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">    formData.</span><span style="color:#B392F0;">append</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;file&quot;</span><span style="color:#E1E4E8;">, file); </span><span style="color:#6A737D;">// 这里的 files 就是后台需要的 key</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;开始上传图片&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetch</span><span style="color:#E1E4E8;">(server </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;/common/uploadFile.do&quot;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">    method: </span><span style="color:#9ECBFF;">&quot;POST&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    headers: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;Content-Type&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;multipart/form-data&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    body: formData,</span></span>
<span class="line"><span style="color:#E1E4E8;">  }).</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">response</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> response.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">uploadImage</span><span style="color:#24292E;">(</span><span style="color:#E36209;">imgAry</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">formData</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">FormData</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> imgAry.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> file </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      uri: imgAry[i],</span></span>
<span class="line"><span style="color:#24292E;">      type: </span><span style="color:#032F62;">&quot;multipart/form-data&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      name: </span><span style="color:#032F62;">&quot;image.jpg&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">    formData.</span><span style="color:#6F42C1;">append</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;file&quot;</span><span style="color:#24292E;">, file); </span><span style="color:#6A737D;">// 这里的 files 就是后台需要的 key</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;开始上传图片&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(server </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;/common/uploadFile.do&quot;</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">    method: </span><span style="color:#032F62;">&quot;POST&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    headers: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;Content-Type&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;multipart/form-data&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    body: formData,</span></span>
<span class="line"><span style="color:#24292E;">  }).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">((</span><span style="color:#E36209;">response</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> response.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="拨打电话" tabindex="-1">拨打电话 <a class="header-anchor" href="#拨打电话" aria-label="Permalink to &quot;拨打电话&quot;">​</a></h3><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Linking } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react-native&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">callMe</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Linking.</span><span style="color:#B392F0;">openURL</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;tel:10086&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Linking } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react-native&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">callMe</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Linking.</span><span style="color:#6F42C1;">openURL</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;tel:10086&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="富文本效果" tabindex="-1">富文本效果 <a class="header-anchor" href="#富文本效果" aria-label="Permalink to &quot;富文本效果&quot;">​</a></h3><p>RN 的<code>Text</code>组件 默认没有提供实现富文本效果的属性</p><p>效果图:</p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/17255639-324e-454a-86ff-fd0c2e9a512a.png" alt="1.png"></p><p>一开始想通过布局样式实现上图效果，但发现不行</p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/5a3eac44-e723-478b-96ae-ba1baaa95655.png" alt="2.png"></p><p>最后通过多个<code>Text</code>组件来实现</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">Text</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{ lineHeight: </span><span style="color:#79B8FF;">16</span><span style="color:#E1E4E8;"> }}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#79B8FF;">Text</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{ fontSize: </span><span style="color:#79B8FF;">13</span><span style="color:#E1E4E8;">, color: </span><span style="color:#9ECBFF;">&quot;red&quot;</span><span style="color:#E1E4E8;"> }}&gt;{</span><span style="color:#9ECBFF;">&quot;温馨提示:  &quot;</span><span style="color:#E1E4E8;">}&lt;/</span><span style="color:#79B8FF;">Text</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#79B8FF;">Text</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{</span></span>
<span class="line"><span style="color:#E1E4E8;">      fontSize: Unity.SmallFont,</span></span>
<span class="line"><span style="color:#E1E4E8;">      marginLeft: </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      color: Unity.DetailColor,</span></span>
<span class="line"><span style="color:#E1E4E8;">    }}</span></span>
<span class="line"><span style="color:#E1E4E8;">  &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    {</span><span style="color:#9ECBFF;">&quot;你可以对帖子的相关问题进行提问，商家会第一时间回答您的问题!你的咨询&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;可能会在上方展示供其他网友参考,登录后咨询你可在个人中心-消息提醒中及时查看商家&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;的回复。&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#79B8FF;">Text</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#79B8FF;">Text</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">Text</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{ lineHeight: </span><span style="color:#005CC5;">16</span><span style="color:#24292E;"> }}&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#005CC5;">Text</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{ fontSize: </span><span style="color:#005CC5;">13</span><span style="color:#24292E;">, color: </span><span style="color:#032F62;">&quot;red&quot;</span><span style="color:#24292E;"> }}&gt;{</span><span style="color:#032F62;">&quot;温馨提示:  &quot;</span><span style="color:#24292E;">}&lt;/</span><span style="color:#005CC5;">Text</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#005CC5;">Text</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{</span></span>
<span class="line"><span style="color:#24292E;">      fontSize: Unity.SmallFont,</span></span>
<span class="line"><span style="color:#24292E;">      marginLeft: </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      color: Unity.DetailColor,</span></span>
<span class="line"><span style="color:#24292E;">    }}</span></span>
<span class="line"><span style="color:#24292E;">  &gt;</span></span>
<span class="line"><span style="color:#24292E;">    {</span><span style="color:#032F62;">&quot;你可以对帖子的相关问题进行提问，商家会第一时间回答您的问题!你的咨询&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;可能会在上方展示供其他网友参考,登录后咨询你可在个人中心-消息提醒中及时查看商家&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;的回复。&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#005CC5;">Text</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#005CC5;">Text</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="在使用-flatlist-组件时-如果数据源是对象时-更新数据源数组里某项的某个字段的值时-页面-ui-不进行更新。" tabindex="-1">在使用<code>&lt;FlatList /&gt;</code>组件时，如果数据源是对象时，更新数据源数组里某项的某个字段的值时，页面 UI 不进行更新。 <a class="header-anchor" href="#在使用-flatlist-组件时-如果数据源是对象时-更新数据源数组里某项的某个字段的值时-页面-ui-不进行更新。" aria-label="Permalink to &quot;在使用`&lt;FlatList /&gt;`组件时，如果数据源是对象时，更新数据源数组里某项的某个字段的值时，页面 UI 不进行更新。&quot;">​</a></h3><p>需要给<code>&lt;FlatList /&gt;</code>组件指定 数据源</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">FlatList</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">extraData</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.state} </span><span style="color:#6A737D;">// 指定 数据源</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">keyExtractor</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{(</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">index</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> index.</span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">()}</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">data</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.state.dataList}</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">renderItem</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{(</span><span style="color:#FFAB70;">data</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#79B8FF;">ListItem</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">data</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{data} </span><span style="color:#B392F0;">cellClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{(</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">cellClick</span><span style="color:#E1E4E8;">(item)} /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  )}</span></span>
<span class="line"><span style="color:#E1E4E8;">/&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">FlatList</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">extraData</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.state} </span><span style="color:#6A737D;">// 指定 数据源</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">keyExtractor</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{(</span><span style="color:#E36209;">item</span><span style="color:#24292E;">, </span><span style="color:#E36209;">index</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> index.</span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">()}</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">data</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.state.dataList}</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">renderItem</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{(</span><span style="color:#E36209;">data</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#005CC5;">ListItem</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">data</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{data} </span><span style="color:#6F42C1;">cellClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{(</span><span style="color:#E36209;">item</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">cellClick</span><span style="color:#24292E;">(item)} /&gt;</span></span>
<span class="line"><span style="color:#24292E;">  )}</span></span>
<span class="line"><span style="color:#24292E;">/&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>或者在对数据源进行<code>setState</code>操作时，进行深复制也可以解决</p><h3 id="ios-系统-webview-在底部渲染意外出现黑色边框" tabindex="-1">ios 系统 WebView 在底部渲染意外出现黑色边框 <a class="header-anchor" href="#ios-系统-webview-在底部渲染意外出现黑色边框" aria-label="Permalink to &quot;ios 系统 WebView 在底部渲染意外出现黑色边框&quot;">​</a></h3><p>将 WebView 的 backgroundColor 设置为透明即可</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">Webview</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{backgroundColor: </span><span style="color:#9ECBFF;">&#39;transparent&#39;</span><span style="color:#E1E4E8;">}} </span><span style="color:#FDAEB7;font-style:italic;">.../&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">Webview</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{backgroundColor: </span><span style="color:#032F62;">&#39;transparent&#39;</span><span style="color:#24292E;">}} </span><span style="color:#B31D28;font-style:italic;">.../&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="rn-bug" tabindex="-1">RN Bug <a class="header-anchor" href="#rn-bug" aria-label="Permalink to &quot;RN Bug&quot;">​</a></h2><h3 id="android-键盘顶起底部导航的问题" tabindex="-1">Android 键盘顶起底部导航的问题 <a class="header-anchor" href="#android-键盘顶起底部导航的问题" aria-label="Permalink to &quot;Android 键盘顶起底部导航的问题&quot;">​</a></h3><p>解决方案： 打开 android 工程，在 <code>AndroidManifest.xml</code> 中配置如下：</p><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">activity</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;.MainActivity&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:label</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;@string/app_name&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:launchMode</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;singleTask&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:configChanges</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;keyboard|keyboardHidden|orientation|screenSize&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:windowSoftInputMode</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;stateAlwaysHidden|adjustPan&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">intent-filter</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">action</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">android:name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;android.intent.action.MAIN&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">category</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">android:name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;android.intent.category.LAUNCHER&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">intent-filter</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">activity</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">activity</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;.MainActivity&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:label</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;@string/app_name&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:launchMode</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;singleTask&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:configChanges</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;keyboard|keyboardHidden|orientation|screenSize&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:windowSoftInputMode</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;stateAlwaysHidden|adjustPan&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">intent-filter</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">action</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">android:name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;android.intent.action.MAIN&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">category</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">android:name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;android.intent.category.LAUNCHER&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">intent-filter</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">activity</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="ios12-beta-版闪退" tabindex="-1">iOS12 beta 版闪退 <a class="header-anchor" href="#ios12-beta-版闪退" aria-label="Permalink to &quot;iOS12 beta 版闪退&quot;">​</a></h3><p>（使用友盟分享 SDK6.8.0 和统计版本 5.4.0 时必现的闪退）</p><p>闪退的原因：</p><p>友盟的重大 bug 导致，在使用分享 SDK6.8.0 和统计版本 5.4.0 进行注册友盟 key 的时候奔溃，必现。</p><p>（注释：使用 <code>[UMConfigure initWithAppkey:KH_UM_APP_ID channel:@&quot;App Store&quot;];</code> 注册友盟 key，这是一个综合注册友盟平台的 API）</p><p>奔溃信息如下：</p><p><code>[&lt;UIStatusBarTimeItemView 0x101c29cd0&gt; valueForUndefinedKey:]: this class is not key value coding-compliant for the</code></p><p>原因是 Xcode 在 v10 之后合并了一些底层库文件，导致友盟崩溃，推荐的解决办法是去友盟升级 SDK</p><p>对应的解析日志如下：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[UMInternalUtil getSysDateFormate]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[UMInternalUtil Value2]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[UMEnvelopeBuild buildInternalData]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">[UMWorkDispatch dispatchEvent:inComponent:]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[UMInternalUtil getSysDateFormate]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[UMInternalUtil Value2]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[UMEnvelopeBuild buildInternalData]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">[UMWorkDispatch dispatchEvent:inComponent:]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>解决办法：</p><p>第一种：升级友盟 SDK 中的 UMCommon.framework, <a href="https://developer.umeng.com/sdk/ios" target="_blank" rel="noreferrer">升级地址</a>， 注:记得下载原生模块下的依赖包。</p><p>第二种：遗弃友盟 😄😄</p><h3 id="触摸组件在-android-和-ios-表现不一致" tabindex="-1">触摸组件在 Android 和 iOS 表现不一致 <a class="header-anchor" href="#触摸组件在-android-和-ios-表现不一致" aria-label="Permalink to &quot;触摸组件在 Android 和 iOS 表现不一致&quot;">​</a></h3><p>在 Android 上表现为虚拟组件，即最终渲染后不存在。而 iOS 表现为实体组件。</p><p>解决方式：可以在 Android 上嵌套一个 View。</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React, { Component } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  View,</span></span>
<span class="line"><span style="color:#E1E4E8;">  TouchableNativeFeedback,</span></span>
<span class="line"><span style="color:#E1E4E8;">  TouchableOpacity,</span></span>
<span class="line"><span style="color:#E1E4E8;">  Platform,</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react-native&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Touch</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Component</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">render</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (Platform.</span><span style="color:#79B8FF;">OS</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;ios&quot;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">TouchableOpacity</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">activeOpacity</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.style}</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">onPress</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.onPress}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          {</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.children}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#79B8FF;">TouchableOpacity</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      );</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">TouchableNativeFeedback</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onPress</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.onPress}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#79B8FF;">View</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.style}&gt;{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.children}&lt;/</span><span style="color:#79B8FF;">View</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#79B8FF;">TouchableNativeFeedback</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      );</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React, { Component } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  View,</span></span>
<span class="line"><span style="color:#24292E;">  TouchableNativeFeedback,</span></span>
<span class="line"><span style="color:#24292E;">  TouchableOpacity,</span></span>
<span class="line"><span style="color:#24292E;">  Platform,</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react-native&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Touch</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Component</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (Platform.</span><span style="color:#005CC5;">OS</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;ios&quot;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">TouchableOpacity</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">activeOpacity</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.style}</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">onPress</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.onPress}</span></span>
<span class="line"><span style="color:#24292E;">        &gt;</span></span>
<span class="line"><span style="color:#24292E;">          {</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.children}</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#005CC5;">TouchableOpacity</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      );</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">TouchableNativeFeedback</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onPress</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.onPress}&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#005CC5;">View</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.style}&gt;{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.children}&lt;/</span><span style="color:#005CC5;">View</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#005CC5;">TouchableNativeFeedback</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      );</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="scrollview-的一些坑" tabindex="-1">ScrollView 的一些坑 <a class="header-anchor" href="#scrollview-的一些坑" aria-label="Permalink to &quot;ScrollView 的一些坑&quot;">​</a></h3><p>第一个坑：iOS 上 ScrollView 无法直接指定尺寸，必须要通过父级 View。但 Android 上没有此问题。</p><p>第二个坑：iOS 键盘弹起时的遮挡问题</p><p>推荐使用组件： <code>react-native-keyboard-aware-scroll-view</code></p><h3 id="填坑-onmessage-failing-when-there-are-js-warnings-and-errors-on-the-page" tabindex="-1">填坑 - onMessage failing when there are JS warnings and errors on the page <a class="header-anchor" href="#填坑-onmessage-failing-when-there-are-js-warnings-and-errors-on-the-page" aria-label="Permalink to &quot;填坑 - onMessage failing when there are JS warnings and errors on the page&quot;">​</a></h3><p>在某些低版本 RN 上会出现</p><p>注入一段补丁代码：</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> () {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> originalPostMessage </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> window.postMessage;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">patchedPostMessage</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">message</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">targetOrigin</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">transfer</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">originalPostMessage</span><span style="color:#E1E4E8;">(message, targetOrigin, transfer);</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  patchedPostMessage.</span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> () {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">String</span><span style="color:#E1E4E8;">(Object.hasOwnProperty).</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;hasOwnProperty&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;postMessage&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  window.postMessage </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> patchedPostMessage;</span></span>
<span class="line"><span style="color:#E1E4E8;">})();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">(</span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> () {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> originalPostMessage </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> window.postMessage;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">patchedPostMessage</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">message</span><span style="color:#24292E;">, </span><span style="color:#E36209;">targetOrigin</span><span style="color:#24292E;">, </span><span style="color:#E36209;">transfer</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">originalPostMessage</span><span style="color:#24292E;">(message, targetOrigin, transfer);</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  patchedPostMessage.</span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> () {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">String</span><span style="color:#24292E;">(Object.hasOwnProperty).</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;hasOwnProperty&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;postMessage&quot;</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  window.postMessage </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> patchedPostMessage;</span></span>
<span class="line"><span style="color:#24292E;">})();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">patchPostMessageFunction</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> originalPostMessage </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> window.postMessage;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">patchedPostMessage</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">message</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">targetOrigin</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">transfer</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">originalPostMessage</span><span style="color:#E1E4E8;">(message, targetOrigin, transfer);</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  patchedPostMessage.</span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">String</span><span style="color:#E1E4E8;">(Object.hasOwnProperty).</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;hasOwnProperty&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;postMessage&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  window.postMessage </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> patchedPostMessage;</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">patchPostMessageJsCode</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;(&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">String</span><span style="color:#E1E4E8;">(patchPostMessageFunction) </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;)();&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">WebView</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">injectedJavaScript</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{patchPostMessageJsCode} /&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">patchPostMessageFunction</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> originalPostMessage </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> window.postMessage;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">patchedPostMessage</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(</span><span style="color:#E36209;">message</span><span style="color:#24292E;">, </span><span style="color:#E36209;">targetOrigin</span><span style="color:#24292E;">, </span><span style="color:#E36209;">transfer</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">originalPostMessage</span><span style="color:#24292E;">(message, targetOrigin, transfer);</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  patchedPostMessage.</span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">String</span><span style="color:#24292E;">(Object.hasOwnProperty).</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;hasOwnProperty&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;postMessage&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  window.postMessage </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> patchedPostMessage;</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">patchPostMessageJsCode</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;(&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">String</span><span style="color:#24292E;">(patchPostMessageFunction) </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;)();&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">WebView</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">injectedJavaScript</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{patchPostMessageJsCode} /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="borderstyle-dashed-在安卓无效的解决方案" tabindex="-1">borderStyle: &quot;dashed&quot; 在安卓无效的解决方案 <a class="header-anchor" href="#borderstyle-dashed-在安卓无效的解决方案" aria-label="Permalink to &quot;borderStyle: &quot;dashed&quot; 在安卓无效的解决方案&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">style</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  frame: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    borderWidth: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    borderStyle: </span><span style="color:#9ECBFF;">&quot;dashed&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 虚线样式对安卓无效</span></span>
<span class="line"><span style="color:#E1E4E8;">    borderColor: </span><span style="color:#9ECBFF;">&quot;#dcdcdc&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    height: </span><span style="color:#79B8FF;">160</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    borderRadius: </span><span style="color:#79B8FF;">0.1</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 加了 borderRadius 虚线就有效了， 原因未知</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">style</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  frame: {</span></span>
<span class="line"><span style="color:#24292E;">    borderWidth: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    borderStyle: </span><span style="color:#032F62;">&quot;dashed&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 虚线样式对安卓无效</span></span>
<span class="line"><span style="color:#24292E;">    borderColor: </span><span style="color:#032F62;">&quot;#dcdcdc&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    height: </span><span style="color:#005CC5;">160</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    borderRadius: </span><span style="color:#005CC5;">0.1</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 加了 borderRadius 虚线就有效了， 原因未知</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="某些-rn-版本的-textinput-在-ios-上无法输入中文的问题" tabindex="-1">某些 RN 版本的 TextInput 在 iOS 上无法输入中文的问题 <a class="header-anchor" href="#某些-rn-版本的-textinput-在-ios-上无法输入中文的问题" aria-label="Permalink to &quot;某些 RN 版本的 TextInput 在 iOS 上无法输入中文的问题&quot;">​</a></h3><p>解决方式如下，重新包装 TextInput：</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React, { Component } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Platform, TextInput } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react-native&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">MyTextInput</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Component</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">shouldComponentUpdate</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">nextProps</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">      Platform.</span><span style="color:#79B8FF;">OS</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!==</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;ios&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">||</span></span>
<span class="line"><span style="color:#E1E4E8;">      (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.value </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> nextProps.value </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">nextProps.defaultValue) </span><span style="color:#F97583;">||</span></span>
<span class="line"><span style="color:#E1E4E8;">      (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.defaultValue </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> nextProps.defaultValue </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">nextProps.value)</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">render</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#79B8FF;">TextInput</span><span style="color:#E1E4E8;"> {</span><span style="color:#F97583;">...</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props} /&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> MyTextInput;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React, { Component } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Platform, TextInput } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react-native&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyTextInput</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Component</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">shouldComponentUpdate</span><span style="color:#24292E;">(</span><span style="color:#E36209;">nextProps</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">      Platform.</span><span style="color:#005CC5;">OS</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;ios&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span></span>
<span class="line"><span style="color:#24292E;">      (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.value </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> nextProps.value </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!</span><span style="color:#24292E;">nextProps.defaultValue) </span><span style="color:#D73A49;">||</span></span>
<span class="line"><span style="color:#24292E;">      (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.defaultValue </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> nextProps.defaultValue </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!</span><span style="color:#24292E;">nextProps.value)</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#005CC5;">TextInput</span><span style="color:#24292E;"> {</span><span style="color:#D73A49;">...</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props} /&gt;;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> MyTextInput;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>但是这个解决方案存在值无法回填的 bug，官方解决方案（修改原生代码）： <a href="https://github.com/facebook/react-native/pull/18456/files?diff=split" target="_blank" rel="noreferrer">https://github.com/facebook/react-native/pull/18456/files?diff=split</a></p><h3 id="watch-enospc-linux" tabindex="-1">watch ENOSPC (linux) <a class="header-anchor" href="#watch-enospc-linux" aria-label="Permalink to &quot;watch ENOSPC (linux)&quot;">​</a></h3><p>linux 在启动 <code>react-native start</code> 后，过几秒就会出现 <code>watch * * * * * * * * * * *ENOSPC</code> 这个问题</p><p>解决方案：</p><p><code>echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf &amp;&amp; sudo sysctl -p</code></p><p>或重启电脑</p><h3 id="webview-中文显示乱码的问题" tabindex="-1">WebView 中文显示乱码的问题 <a class="header-anchor" href="#webview-中文显示乱码的问题" aria-label="Permalink to &quot;WebView 中文显示乱码的问题&quot;">​</a></h3><p>某些安卓上出现此类问题</p><p>解决方式方式是在 source 中填写 <code>baseUrl: &#39;&#39;</code>，具体原因不明。</p><p>例如</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">source</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">{{html:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">userProtocolStr,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">baseUrl:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&#39;}}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">source</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">{{html:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">userProtocolStr,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">baseUrl:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&#39;}}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="android-编译时提示编译工具版本不匹配的问题" tabindex="-1">android 编译时提示编译工具版本不匹配的问题 <a class="header-anchor" href="#android-编译时提示编译工具版本不匹配的问题" aria-label="Permalink to &quot;android 编译时提示编译工具版本不匹配的问题&quot;">​</a></h3><blockquote><p>The SDK Build Tools revision X is too low for project ‘:react-native-picker’. Minimum require X</p></blockquote><p>在根目录下的 gradle 文件中加入以下代码,这样就把每个自工程的 buildToolsVersion 的版本改为要求的版本了</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">subprojects</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">afterEvaluate</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{project</span><span style="color:#E1E4E8;"> -</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">project.hasProperty(</span><span style="color:#B392F0;">&quot;android&quot;</span><span style="color:#E1E4E8;">)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">android</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">compileSdkVersion</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">25</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">buildToolsVersion</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;25.0.0&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">subprojects</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">afterEvaluate</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{project</span><span style="color:#24292E;"> -</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">project.hasProperty(</span><span style="color:#6F42C1;">&quot;android&quot;</span><span style="color:#24292E;">)) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">android</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">compileSdkVersion</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">25</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">buildToolsVersion</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;25.0.0&#39;</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="在-windows-编译时-js-报错说路径问题" tabindex="-1">在 windows 编译时 JS 报错说路径问题 <a class="header-anchor" href="#在-windows-编译时-js-报错说路径问题" aria-label="Permalink to &quot;在 windows 编译时 JS 报错说路径问题&quot;">​</a></h3><p>解决方案：使用 PowerShell 编译 JS，不要使用 CMD。</p><h3 id="fetch-如何设置-请求超时" tabindex="-1">fetch 如何设置“请求超时” <a class="header-anchor" href="#fetch-如何设置-请求超时" aria-label="Permalink to &quot;fetch 如何设置“请求超时”&quot;">​</a></h3><p>目前也没有很好的办法解决超时，看网上很多方案都不可靠，主流的方式是抛弃这次 http 请求。</p><p>用 <code>setTimeout()</code> 方法，抛弃这次请求。</p><p>我看到另外一种，引入一个 <a href="https://github.com/robinpowered/react-native-fetch-polyfill" target="_blank" rel="noreferrer">polyfill 的文件</a>, 然后在自己的网络请求方法里，采用它定义的 fetch 方法，就可以设置 timeout 参数。</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> fetch </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react-native-fetch-polyfill&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">fetch</span><span style="color:#E1E4E8;">(url, { timeout: </span><span style="color:#79B8FF;">30</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;"> })</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">response</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// a successful response</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">catch</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">error</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// an error when the request fails, such as during a timeout</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> fetch </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react-native-fetch-polyfill&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(url, { timeout: </span><span style="color:#005CC5;">30</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1000</span><span style="color:#24292E;"> })</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">((</span><span style="color:#E36209;">response</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// a successful response</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">catch</span><span style="color:#24292E;">((</span><span style="color:#E36209;">error</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// an error when the request fails, such as during a timeout</span></span>
<span class="line"><span style="color:#24292E;">  });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="navigation-在登录视图的特殊处理" tabindex="-1">navigation 在登录视图的特殊处理 <a class="header-anchor" href="#navigation-在登录视图的特殊处理" aria-label="Permalink to &quot;navigation 在登录视图的特殊处理&quot;">​</a></h2><p><a href="https://github.com/react-navigation/react-navigation/issues/1815" target="_blank" rel="noreferrer">https://github.com/react-navigation/react-navigation/issues/1815</a></p><p>由于我所做的 app 是先进入空白页面，再判断显示主页还是登录页面，空白页面上用来处理 redux 逻辑，以及显示 loading。为了防止可以退回空白页面，需要做如下处理：</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">prevGetStateForAction</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> RootStack.router.getStateForAction;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">RootStack.router.</span><span style="color:#B392F0;">getStateForAction</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">action</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">state</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    action.type </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Navigation/BACK&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">    state </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">    state.routes[state.routes.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">].routeName </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Login&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  ) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    action.type </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Navigation/BACK&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">    state </span><span style="color:#F97583;">&amp;&amp;</span></span>
<span class="line"><span style="color:#E1E4E8;">    state.routes[state.routes.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">].routeName </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Main&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  ) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Do not allow to go back to Login</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (action.type </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Navigation/BACK&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> state) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">newRoutes</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> state.routes.</span><span style="color:#B392F0;">filter</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">r</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> r.routeName </span><span style="color:#F97583;">!==</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Login&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">newIndex</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> newRoutes.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">prevGetStateForAction</span><span style="color:#E1E4E8;">(action, {</span></span>
<span class="line"><span style="color:#E1E4E8;">      index: newIndex,</span></span>
<span class="line"><span style="color:#E1E4E8;">      routes: newRoutes,</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">prevGetStateForAction</span><span style="color:#E1E4E8;">(action, state);</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">prevGetStateForAction</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> RootStack.router.getStateForAction;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">RootStack.router.</span><span style="color:#6F42C1;">getStateForAction</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">action</span><span style="color:#24292E;">, </span><span style="color:#E36209;">state</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    action.type </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Navigation/BACK&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">    state </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">    state.routes[state.routes.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">].routeName </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Login&quot;</span></span>
<span class="line"><span style="color:#24292E;">  ) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    action.type </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Navigation/BACK&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">    state </span><span style="color:#D73A49;">&amp;&amp;</span></span>
<span class="line"><span style="color:#24292E;">    state.routes[state.routes.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">].routeName </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Main&quot;</span></span>
<span class="line"><span style="color:#24292E;">  ) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Do not allow to go back to Login</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (action.type </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Navigation/BACK&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> state) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">newRoutes</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> state.routes.</span><span style="color:#6F42C1;">filter</span><span style="color:#24292E;">((</span><span style="color:#E36209;">r</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> r.routeName </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Login&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">newIndex</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> newRoutes.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">prevGetStateForAction</span><span style="color:#24292E;">(action, {</span></span>
<span class="line"><span style="color:#24292E;">      index: newIndex,</span></span>
<span class="line"><span style="color:#24292E;">      routes: newRoutes,</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">prevGetStateForAction</span><span style="color:#24292E;">(action, state);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="navigation-使用笔记" tabindex="-1">navigation 使用笔记 <a class="header-anchor" href="#navigation-使用笔记" aria-label="Permalink to &quot;navigation 使用笔记&quot;">​</a></h2><p><a href="./react-navigation-note.html">传送门</a></p><h2 id="用数据线链接调试" tabindex="-1">用数据线链接调试 <a class="header-anchor" href="#用数据线链接调试" aria-label="Permalink to &quot;用数据线链接调试&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">adb</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">reverse</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tcp:8081</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tcp:8081</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">adb</span><span style="color:#24292E;"> </span><span style="color:#032F62;">reverse</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tcp:8081</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tcp:8081</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="用-adb-模拟菜单键" tabindex="-1">用 adb 模拟菜单键 <a class="header-anchor" href="#用-adb-模拟菜单键" aria-label="Permalink to &quot;用 adb 模拟菜单键&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">adb</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">shell</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">input</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">keyevent</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">82</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">adb</span><span style="color:#24292E;"> </span><span style="color:#032F62;">shell</span><span style="color:#24292E;"> </span><span style="color:#032F62;">input</span><span style="color:#24292E;"> </span><span style="color:#032F62;">keyevent</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">82</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="rn-打包" tabindex="-1">RN 打包 <a class="header-anchor" href="#rn-打包" aria-label="Permalink to &quot;RN 打包&quot;">​</a></h2><h3 id="android" tabindex="-1">android <a class="header-anchor" href="#android" aria-label="Permalink to &quot;android&quot;">​</a></h3><p>先用 Java 工具生成 my-release-key.keystore</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">keytool</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-genkey</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-keystore</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">my-release-key.keystore</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-alias</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">my-key-alias</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-keyalg</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">RSA</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-keysize</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2048</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-validity</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10000</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">keytool</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-genkey</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-keystore</span><span style="color:#24292E;"> </span><span style="color:#032F62;">my-release-key.keystore</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-alias</span><span style="color:#24292E;"> </span><span style="color:#032F62;">my-key-alias</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-keyalg</span><span style="color:#24292E;"> </span><span style="color:#032F62;">RSA</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-keysize</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2048</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-validity</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10000</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>把 my-release-key.keystore 文件放到你工程中的 android/app 文件夹下。</p><p>打开 android/app 中的 build.gradle 文件和 android/gradle.properties</p><p>build.gradle</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">signingConfigs</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">release</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">storeFile</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">file</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">MYAPP_RELEASE_STORE_FILE</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">storePassword</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MYAPP_RELEASE_STORE_PASSWORD</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">keyAlias</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MYAPP_RELEASE_KEY_ALIAS</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">keyPassword</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">MYAPP_RELEASE_KEY_PASSWORD</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">buildTypes</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">release</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">minifyEnabled</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">enableProguardInReleaseBuilds</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">proguardFiles</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">getDefaultProguardFile</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">&quot;proguard-android.txt&quot;</span><span style="color:#E1E4E8;">)</span><span style="color:#9ECBFF;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;proguard-rules.pro&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">signingConfig</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">signingConfigs.release</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">signingConfigs</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">release</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">storeFile</span><span style="color:#24292E;"> </span><span style="color:#032F62;">file</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">MYAPP_RELEASE_STORE_FILE</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">storePassword</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MYAPP_RELEASE_STORE_PASSWORD</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">keyAlias</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MYAPP_RELEASE_KEY_ALIAS</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">keyPassword</span><span style="color:#24292E;"> </span><span style="color:#032F62;">MYAPP_RELEASE_KEY_PASSWORD</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">buildTypes</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">release</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">minifyEnabled</span><span style="color:#24292E;"> </span><span style="color:#032F62;">enableProguardInReleaseBuilds</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">proguardFiles</span><span style="color:#24292E;"> </span><span style="color:#032F62;">getDefaultProguardFile</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">&quot;proguard-android.txt&quot;</span><span style="color:#24292E;">)</span><span style="color:#032F62;">,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;proguard-rules.pro&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">signingConfig</span><span style="color:#24292E;"> </span><span style="color:#032F62;">signingConfigs.release</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>android/gradle.properties</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">MYAPP_RELEASE_STORE_FILE</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">my-release-key.keystore</span></span>
<span class="line"><span style="color:#E1E4E8;">MYAPP_RELEASE_KEY_ALIAS</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">my-key-alias</span></span>
<span class="line"><span style="color:#E1E4E8;">MYAPP_RELEASE_STORE_PASSWORD</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">123456</span></span>
<span class="line"><span style="color:#E1E4E8;">MYAPP_RELEASE_KEY_PASSWORD</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">123456</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">MYAPP_RELEASE_STORE_FILE</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">my-release-key.keystore</span></span>
<span class="line"><span style="color:#24292E;">MYAPP_RELEASE_KEY_ALIAS</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">my-key-alias</span></span>
<span class="line"><span style="color:#24292E;">MYAPP_RELEASE_STORE_PASSWORD</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">123456</span></span>
<span class="line"><span style="color:#24292E;">MYAPP_RELEASE_KEY_PASSWORD</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">123456</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>进入 /android/ 目录，cmd 执行 gradlew assembleRelease</p><h3 id="下载-android-依赖慢" tabindex="-1">下载 android 依赖慢 <a class="header-anchor" href="#下载-android-依赖慢" aria-label="Permalink to &quot;下载 android 依赖慢&quot;">​</a></h3><p>修改 <code>build.gradle</code></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">//</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Top-level</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">build</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">file</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">where</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">you</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">can</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">configuration</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">options</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">common</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">to</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">all</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sub-projects/modules.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">buildscript</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">repositories</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">maven</span><span style="color:#E1E4E8;">{ </span><span style="color:#9ECBFF;">url</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;http://maven.aliyun.com/nexus/content/groups/public/&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">jcenter</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">dependencies</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">classpath</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;com.android.tools.build:gradle:2.2.3&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">//</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">NOTE:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Do</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">not</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">place</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">your</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">application</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">dependencies</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">here</span><span style="color:#E1E4E8;">; </span><span style="color:#B392F0;">they</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">belong</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">//</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">the</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">individual</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">build.gradle</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">files</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">allprojects</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">repositories</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">maven</span><span style="color:#E1E4E8;">{ </span><span style="color:#9ECBFF;">url</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;http://maven.aliyun.com/nexus/content/groups/public/&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">jcenter</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">        maven {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">//</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">All</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">of</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">React</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Native</span><span style="color:#E1E4E8;"> (JS, </span><span style="color:#9ECBFF;">Obj-C</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">sources,</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Android</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">binaries</span><span style="color:#E1E4E8;">) is installed from npm</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">url</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">$rootDir</span><span style="color:#9ECBFF;">/../node_modules/react-native/android&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">//</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Top-level</span><span style="color:#24292E;"> </span><span style="color:#032F62;">build</span><span style="color:#24292E;"> </span><span style="color:#032F62;">file</span><span style="color:#24292E;"> </span><span style="color:#032F62;">where</span><span style="color:#24292E;"> </span><span style="color:#032F62;">you</span><span style="color:#24292E;"> </span><span style="color:#032F62;">can</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">configuration</span><span style="color:#24292E;"> </span><span style="color:#032F62;">options</span><span style="color:#24292E;"> </span><span style="color:#032F62;">common</span><span style="color:#24292E;"> </span><span style="color:#032F62;">to</span><span style="color:#24292E;"> </span><span style="color:#032F62;">all</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sub-projects/modules.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">buildscript</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">repositories</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">maven</span><span style="color:#24292E;">{ </span><span style="color:#032F62;">url</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;http://maven.aliyun.com/nexus/content/groups/public/&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">}</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">jcenter</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">dependencies</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">classpath</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;com.android.tools.build:gradle:2.2.3&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">//</span><span style="color:#24292E;"> </span><span style="color:#032F62;">NOTE:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Do</span><span style="color:#24292E;"> </span><span style="color:#032F62;">not</span><span style="color:#24292E;"> </span><span style="color:#032F62;">place</span><span style="color:#24292E;"> </span><span style="color:#032F62;">your</span><span style="color:#24292E;"> </span><span style="color:#032F62;">application</span><span style="color:#24292E;"> </span><span style="color:#032F62;">dependencies</span><span style="color:#24292E;"> </span><span style="color:#032F62;">here</span><span style="color:#24292E;">; </span><span style="color:#6F42C1;">they</span><span style="color:#24292E;"> </span><span style="color:#032F62;">belong</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">//</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in</span><span style="color:#24292E;"> </span><span style="color:#032F62;">the</span><span style="color:#24292E;"> </span><span style="color:#032F62;">individual</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module</span><span style="color:#24292E;"> </span><span style="color:#032F62;">build.gradle</span><span style="color:#24292E;"> </span><span style="color:#032F62;">files</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">allprojects</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">repositories</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">maven</span><span style="color:#24292E;">{ </span><span style="color:#032F62;">url</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;http://maven.aliyun.com/nexus/content/groups/public/&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">}</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">jcenter</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">        maven {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">//</span><span style="color:#24292E;"> </span><span style="color:#032F62;">All</span><span style="color:#24292E;"> </span><span style="color:#032F62;">of</span><span style="color:#24292E;"> </span><span style="color:#032F62;">React</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Native</span><span style="color:#24292E;"> (JS, </span><span style="color:#032F62;">Obj-C</span><span style="color:#24292E;"> </span><span style="color:#032F62;">sources,</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Android</span><span style="color:#24292E;"> </span><span style="color:#032F62;">binaries</span><span style="color:#24292E;">) is installed from npm</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">url</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">$rootDir</span><span style="color:#032F62;">/../node_modules/react-native/android&quot;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="找不到-android-sdk" tabindex="-1">找不到 android-sdk <a class="header-anchor" href="#找不到-android-sdk" aria-label="Permalink to &quot;找不到 android-sdk&quot;">​</a></h3><p>可以在 <code>android/local.properties</code> 中手动配置，如果没有这个文件，手动创建一个。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">### This file must *NOT* be checked into Version Control Systems,</span></span>
<span class="line"><span style="color:#6A737D;">## as it contains information specific to your local configuration.</span></span>
<span class="line"><span style="color:#6A737D;">#</span></span>
<span class="line"><span style="color:#6A737D;">## Location of the SDK. This is only used by Gradle.</span></span>
<span class="line"><span style="color:#6A737D;">## For customization when using a Version Control System, please read the</span></span>
<span class="line"><span style="color:#6A737D;">## header note.</span></span>
<span class="line"><span style="color:#6A737D;">#Mon Jul 23 17:38:05 CST 2018</span></span>
<span class="line"><span style="color:#B392F0;">sdk.dir</span><span style="color:#E1E4E8;">=/media/wolfx/HDD/android/sdk</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">### This file must *NOT* be checked into Version Control Systems,</span></span>
<span class="line"><span style="color:#6A737D;">## as it contains information specific to your local configuration.</span></span>
<span class="line"><span style="color:#6A737D;">#</span></span>
<span class="line"><span style="color:#6A737D;">## Location of the SDK. This is only used by Gradle.</span></span>
<span class="line"><span style="color:#6A737D;">## For customization when using a Version Control System, please read the</span></span>
<span class="line"><span style="color:#6A737D;">## header note.</span></span>
<span class="line"><span style="color:#6A737D;">#Mon Jul 23 17:38:05 CST 2018</span></span>
<span class="line"><span style="color:#6F42C1;">sdk.dir</span><span style="color:#24292E;">=/media/wolfx/HDD/android/sdk</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="打包时候报错-app-lintvitalrelease" tabindex="-1">打包时候报错:app:lintVitalRelease <a class="header-anchor" href="#打包时候报错-app-lintvitalrelease" aria-label="Permalink to &quot;打包时候报错:app:lintVitalRelease&quot;">​</a></h3><p>在 <code>android/app/build.gradle</code> 中加入 <code>lintOptions</code>：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">android</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">lintOptions</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">checkReleaseBuilds</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">abortOnError</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">android</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">lintOptions</span><span style="color:#24292E;"> </span><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">checkReleaseBuilds</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">abortOnError</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="ndk-找不到-mipsel-mips64el" tabindex="-1">NDK 找不到 mipsel/mips64el <a class="header-anchor" href="#ndk-找不到-mipsel-mips64el" aria-label="Permalink to &quot;NDK 找不到 mipsel/mips64el&quot;">​</a></h3><p>新版 NDK 去掉了 mipsel，需要下载旧版(16b)替换。 <a href="https://developer.android.google.cn/ndk/downloads/older_releases" target="_blank" rel="noreferrer">https://developer.android.google.cn/ndk/downloads/older_releases</a></p><h2 id="友盟分享、第三方登陆、推送集成" tabindex="-1">友盟分享、第三方登陆、推送集成 <a class="header-anchor" href="#友盟分享、第三方登陆、推送集成" aria-label="Permalink to &quot;友盟分享、第三方登陆、推送集成&quot;">​</a></h2><p>最好下载原生版本的 SDK，不要下载 RN 版本，RN 版本对新系统存在兼容问题。友盟分享的集成也是。 然后下载 GitHub 上的官方 DEMO，复制必要的文件到自己的项目。</p><p>基本配置可以参考官方，下面是接收推送的自定义参数：</p><h3 id="android-端集成" tabindex="-1"><strong>Android 端集成</strong> <a class="header-anchor" href="#android-端集成" aria-label="Permalink to &quot;**Android 端集成**&quot;">​</a></h3><p>修改 <code>MainActivity.java</code></p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">package</span><span style="color:#E1E4E8;"> com.enjoybuild;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> android.content.Intent;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> android.os.Bundle;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> android.support.annotation.Nullable;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> android.util.Log;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.ReactActivity;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.bridge.Arguments;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.bridge.ReactContext;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.bridge.WritableMap;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.modules.core.DeviceEventManagerModule;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.umeng.message.PushAgent;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.umeng.socialize.UMShareAPI;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.Set;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">MainActivity</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ReactActivity</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /**</span></span>
<span class="line"><span style="color:#6A737D;">     * Returns the name of the main component registered from JavaScript.</span></span>
<span class="line"><span style="color:#6A737D;">     * This is used to schedule rendering of the component.</span></span>
<span class="line"><span style="color:#6A737D;">     */</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> String </span><span style="color:#B392F0;">getMainComponentName</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;EnjoyBuild&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onCreate</span><span style="color:#E1E4E8;">(Bundle </span><span style="color:#FFAB70;">savedInstanceState</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">onCreate</span><span style="color:#E1E4E8;">(savedInstanceState);</span></span>
<span class="line"><span style="color:#E1E4E8;">        PushModule.</span><span style="color:#B392F0;">initPushSDK</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        PushAgent.</span><span style="color:#B392F0;">getInstance</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">onAppStart</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        ShareModule.</span><span style="color:#B392F0;">initSocialSDK</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onActivityResult</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">requestCode</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">int</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">resultCode</span><span style="color:#E1E4E8;">, Intent </span><span style="color:#FFAB70;">data</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">onActivityResult</span><span style="color:#E1E4E8;">(requestCode, resultCode, data);</span></span>
<span class="line"><span style="color:#E1E4E8;">        UMShareAPI.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">onActivityResult</span><span style="color:#E1E4E8;">(requestCode, resultCode, data);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onNewIntent</span><span style="color:#E1E4E8;">(Intent </span><span style="color:#FFAB70;">intent</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">onNewIntent</span><span style="color:#E1E4E8;">(intent);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">setIntent</span><span style="color:#E1E4E8;">(intent);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onResume</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// 获取推送传递的参数</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// https://developer.umeng.com/docs/66632/detail/66744#h2-u81EAu5B9Au4E49u53C2u657013</span></span>
<span class="line"><span style="color:#E1E4E8;">        Bundle bun </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getIntent</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">getExtras</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (bun </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            WritableMap params </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Arguments.</span><span style="color:#B392F0;">createMap</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">            Set&lt;</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">&gt; keySet </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> bun.</span><span style="color:#B392F0;">keySet</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (String key </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> keySet) {</span></span>
<span class="line"><span style="color:#E1E4E8;">                String value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> bun.</span><span style="color:#B392F0;">getString</span><span style="color:#E1E4E8;">(key);</span></span>
<span class="line"><span style="color:#E1E4E8;">                params.</span><span style="color:#B392F0;">putString</span><span style="color:#E1E4E8;">(key, value);</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">sendEvent</span><span style="color:#E1E4E8;">(MyModule.reactContext, </span><span style="color:#9ECBFF;">&quot;notification&quot;</span><span style="color:#E1E4E8;">, params);</span></span>
<span class="line"><span style="color:#E1E4E8;">            } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (Exception </span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">                Log.</span><span style="color:#B392F0;">e</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;error&quot;</span><span style="color:#E1E4E8;">, e.</span><span style="color:#B392F0;">getMessage</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">onResume</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">sendEvent</span><span style="color:#E1E4E8;">(ReactContext </span><span style="color:#FFAB70;">reactContext</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                           String </span><span style="color:#FFAB70;">eventName</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                           @</span><span style="color:#F97583;">Nullable</span><span style="color:#E1E4E8;"> WritableMap </span><span style="color:#FFAB70;">params</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        reactContext</span></span>
<span class="line"><span style="color:#E1E4E8;">                .</span><span style="color:#B392F0;">getJSModule</span><span style="color:#E1E4E8;">(DeviceEventManagerModule.RCTDeviceEventEmitter.class)</span></span>
<span class="line"><span style="color:#E1E4E8;">                .</span><span style="color:#B392F0;">emit</span><span style="color:#E1E4E8;">(eventName, params);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">package</span><span style="color:#24292E;"> com.enjoybuild;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> android.content.Intent;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> android.os.Bundle;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> android.support.annotation.Nullable;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> android.util.Log;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.ReactActivity;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.bridge.Arguments;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.bridge.ReactContext;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.bridge.WritableMap;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.modules.core.DeviceEventManagerModule;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.umeng.message.PushAgent;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.umeng.socialize.UMShareAPI;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.Set;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MainActivity</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ReactActivity</span><span style="color:#24292E;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /**</span></span>
<span class="line"><span style="color:#6A737D;">     * Returns the name of the main component registered from JavaScript.</span></span>
<span class="line"><span style="color:#6A737D;">     * This is used to schedule rendering of the component.</span></span>
<span class="line"><span style="color:#6A737D;">     */</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> String </span><span style="color:#6F42C1;">getMainComponentName</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;EnjoyBuild&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onCreate</span><span style="color:#24292E;">(Bundle </span><span style="color:#E36209;">savedInstanceState</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">onCreate</span><span style="color:#24292E;">(savedInstanceState);</span></span>
<span class="line"><span style="color:#24292E;">        PushModule.</span><span style="color:#6F42C1;">initPushSDK</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        PushAgent.</span><span style="color:#6F42C1;">getInstance</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">onAppStart</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        ShareModule.</span><span style="color:#6F42C1;">initSocialSDK</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onActivityResult</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">requestCode</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#E36209;">resultCode</span><span style="color:#24292E;">, Intent </span><span style="color:#E36209;">data</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">onActivityResult</span><span style="color:#24292E;">(requestCode, resultCode, data);</span></span>
<span class="line"><span style="color:#24292E;">        UMShareAPI.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">onActivityResult</span><span style="color:#24292E;">(requestCode, resultCode, data);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onNewIntent</span><span style="color:#24292E;">(Intent </span><span style="color:#E36209;">intent</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">onNewIntent</span><span style="color:#24292E;">(intent);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">setIntent</span><span style="color:#24292E;">(intent);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onResume</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// 获取推送传递的参数</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// https://developer.umeng.com/docs/66632/detail/66744#h2-u81EAu5B9Au4E49u53C2u657013</span></span>
<span class="line"><span style="color:#24292E;">        Bundle bun </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getIntent</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">getExtras</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (bun </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            WritableMap params </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Arguments.</span><span style="color:#6F42C1;">createMap</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            Set&lt;</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">&gt; keySet </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> bun.</span><span style="color:#6F42C1;">keySet</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (String key </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> keySet) {</span></span>
<span class="line"><span style="color:#24292E;">                String value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> bun.</span><span style="color:#6F42C1;">getString</span><span style="color:#24292E;">(key);</span></span>
<span class="line"><span style="color:#24292E;">                params.</span><span style="color:#6F42C1;">putString</span><span style="color:#24292E;">(key, value);</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">sendEvent</span><span style="color:#24292E;">(MyModule.reactContext, </span><span style="color:#032F62;">&quot;notification&quot;</span><span style="color:#24292E;">, params);</span></span>
<span class="line"><span style="color:#24292E;">            } </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (Exception </span><span style="color:#E36209;">e</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">                Log.</span><span style="color:#6F42C1;">e</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;error&quot;</span><span style="color:#24292E;">, e.</span><span style="color:#6F42C1;">getMessage</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">onResume</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">sendEvent</span><span style="color:#24292E;">(ReactContext </span><span style="color:#E36209;">reactContext</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                           String </span><span style="color:#E36209;">eventName</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                           @</span><span style="color:#D73A49;">Nullable</span><span style="color:#24292E;"> WritableMap </span><span style="color:#E36209;">params</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        reactContext</span></span>
<span class="line"><span style="color:#24292E;">                .</span><span style="color:#6F42C1;">getJSModule</span><span style="color:#24292E;">(DeviceEventManagerModule.RCTDeviceEventEmitter.class)</span></span>
<span class="line"><span style="color:#24292E;">                .</span><span style="color:#6F42C1;">emit</span><span style="color:#24292E;">(eventName, params);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div><p><code>MyModule.java</code> 是自己定义的模块，为了获取 RN 的上下文。</p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">package</span><span style="color:#E1E4E8;"> com.enjoybuild;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.bridge.ReactApplicationContext;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.bridge.ReactContext;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.bridge.ReactContextBaseJavaModule;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * Created by wolfx on 18-11-6.</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">MyModule</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ReactContextBaseJavaModule</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> ReactContext reactContext;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">MyModule</span><span style="color:#E1E4E8;">(ReactApplicationContext </span><span style="color:#FFAB70;">rc</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">(rc);</span></span>
<span class="line"><span style="color:#E1E4E8;">        reactContext </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> rc;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> String </span><span style="color:#B392F0;">getName</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;MyModule&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">package</span><span style="color:#24292E;"> com.enjoybuild;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.bridge.ReactApplicationContext;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.bridge.ReactContext;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.bridge.ReactContextBaseJavaModule;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * Created by wolfx on 18-11-6.</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyModule</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ReactContextBaseJavaModule</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> ReactContext reactContext;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyModule</span><span style="color:#24292E;">(ReactApplicationContext </span><span style="color:#E36209;">rc</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(rc);</span></span>
<span class="line"><span style="color:#24292E;">        reactContext </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> rc;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> String </span><span style="color:#6F42C1;">getName</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;MyModule&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="ios-端集成" tabindex="-1">iOS 端集成 <a class="header-anchor" href="#ios-端集成" aria-label="Permalink to &quot;iOS 端集成&quot;">​</a></h3><h4 id="_1、下载相关-sdk" tabindex="-1">1、下载相关 SDK <a class="header-anchor" href="#_1、下载相关-sdk" aria-label="Permalink to &quot;1、下载相关 SDK&quot;">​</a></h4><p>1.1、下载用于友盟集成的<a href="https://developer.umeng.com/sdk/reactnative" target="_blank" rel="noreferrer">RN SDK</a></p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/67ecf1aa-b466-4e5a-adff-b73ec471bbc7.png" alt="UTOOLS1557762431548.png"></p><p>1.2、下载<a href="https://developer.umeng.com/sdk/ios" target="_blank" rel="noreferrer">UMCommon.framework</a></p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/88f8ac41-25ed-4194-8c4e-da9172586cab.png" alt="UTOOLS1557762459680.png"></p><blockquote><p>注: 这个记得一定要下载 iOS 选项下面的 SDK，后面集成的时候会用到，之前按教程集成的时候没有找到这个文件，就去友盟 github 的 demo 里面复制了这个文件，结果在集成的时候由于不是最新的版本，导致在 Xcode10 上面一直闪退，崩溃提示是<code>[&lt;UIStatusBarTimeItemView 0x101c29cd0&gt; valueForUndefinedKey:]: this class is not key value coding-compliant for the...</code>，后面的朋友如果碰到 iOS 升级之后项目编译异常的也可以考虑升级 SDK 试试。</p></blockquote><h4 id="_2、集成分享和授权登陆" tabindex="-1">2、集成分享和授权登陆 <a class="header-anchor" href="#_2、集成分享和授权登陆" aria-label="Permalink to &quot;2、集成分享和授权登陆&quot;">​</a></h4><p>2.1、首先进入项目的 ios 目录，进入对应的工程名目录，新建两个文件夹：<code>UMReactBridge</code>和<code>UMComponents</code></p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/ab2301a8-1891-4809-9672-32c659872508.png" alt="UTOOLS1557762497479.png"></p><p>2.2、将<code>1.2</code>步骤下载的文件<strong>iOS</strong>目录下的 common 中的 framework，拷入<code>UMComponents</code>中。</p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/8c84d5b8-f02e-4301-ab97-261dfa93c878.png" alt="UTOOLS1557762526611.png"></p><p>将<code>1.1</code>步骤下载的文件<strong>iOS</strong>目录下中<strong>share</strong>目录中的最后所有文件，拷入<code>UMComponents</code>中的新建文件夹<code>UMShare</code>中,在将<strong>push</strong>文件里最后的所有文件拷入<code>UMComponents</code>文件夹中。看下图：</p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/585337e5-a7d7-4818-a6e6-6336bbc4b464.png" alt="UTOOLS1557762561374.png"></p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/331c998a-a722-4d02-a56e-6f527e6d906f.png" alt="UTOOLS1557762586561.png"></p><p>集成之后在 xcode 中的目录结构是这样的：</p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/bed9c1b8-8d79-4eff-88af-69c3583385e2.png" alt="UTOOLS1557762607401.png"></p><p>2.3、进入<code>1.1</code>步骤下载文件的 ReactNative 目录，找到<code>common、 share、push</code>目录中对应的<code>common_ios</code>平台中的桥接<code>.h 和 .m</code>文件，全部拷贝至我们项目刚刚新建的<code>UMReactBridge</code>文件夹中，看下图:</p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/7e7c2180-a70e-4b5c-a510-a3666ed1bf18.png" alt="UTOOLS1557762648241.png"></p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/f6472853-30fd-4480-ab4e-55c77010bdaf.png" alt="UTOOLS1557762673808.png"></p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/5ac1564d-40a0-4f3b-955a-f7a71bb4d3c5.png" alt="UTOOLS1557762692164.png"></p><p>集成之后 xcode 中的目录结构为:</p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/ed361cb8-79e2-481d-81b3-8089ab67469f.png" alt="UTOOLS1557762708476.png"></p><p>2.4、在<code>xcode</code>中打开工程目录，右键黄色项目名<code>Add Files to &quot;xxx&quot;</code>，<code>options</code> 中选中<code>Create groups 、 Copy items if needed</code>找到我们新建的<code>UMReactBridge</code>和<code>UMComponents</code>，最后点击<code>add</code>添加。看下图</p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/c18f8203-7b25-431f-9d75-1b800d03a4ca.png" alt="UTOOLS1557762724765.png"></p><p>2.5、<code>Linked Frameworks and Libraries</code> 加入系统依赖库：可参照<a href="https://link.jianshu.com/?t=https%3A%2F%2Fdeveloper.umeng.com%2Fdocs%2F66632%2Fdetail%2F66825%23h3-u7B2Cu4E09u65B9u5E73u53F0u5E93u6DFBu52A0" target="_blank" rel="noreferrer">链接</a></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">libsqlite3.tbd</span></span>
<span class="line"><span style="color:#B392F0;">CoreGraphics.framework</span></span>
<span class="line"><span style="color:#B392F0;">SystemConfiguration.framework</span></span>
<span class="line"><span style="color:#B392F0;">CoreTelephony.framework</span></span>
<span class="line"><span style="color:#B392F0;">libc++.tbd</span></span>
<span class="line"><span style="color:#B392F0;">libz.tbd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">libsqlite3.tbd</span></span>
<span class="line"><span style="color:#6F42C1;">CoreGraphics.framework</span></span>
<span class="line"><span style="color:#6F42C1;">SystemConfiguration.framework</span></span>
<span class="line"><span style="color:#6F42C1;">CoreTelephony.framework</span></span>
<span class="line"><span style="color:#6F42C1;">libc++.tbd</span></span>
<span class="line"><span style="color:#6F42C1;">libz.tbd</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>2.6 配置 SSO 白名单，右键 info.plist 选择 source code 打开(plist 具体设置在 Build Setting -&gt; Packaging -&gt; Info.plist File 可获取 plist 路径)请根据选择的平台对以下配置进行裁剪：</p><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">key</span><span style="color:#E1E4E8;">&gt;LSApplicationQueriesSchemes&lt;/</span><span style="color:#85E89D;">key</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">array</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">&lt;!-- 微信 URL Scheme 白名单--&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;wechat&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;weixin&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">&lt;!-- 新浪微博 URL Scheme 白名单--&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;sinaweibohd&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;sinaweibo&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;sinaweibosso&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;weibosdk&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;weibosdk2.5&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">&lt;!-- QQ、Qzone URL Scheme 白名单--&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqqapi&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqq&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqqOpensdkSSoLogin&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqqconnect&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqqopensdkdataline&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqqopensdkgrouptribeshare&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqqopensdkfriend&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqqopensdkapi&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqqopensdkapiV2&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqqopensdkapiV3&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqqopensdkapiV4&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqzoneopensdk&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;wtloginmqq&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;wtloginmqq2&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqqwpa&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqzone&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqzonev2&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqzoneshare&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;wtloginqzone&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqzonewx&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqzoneopensdkapiV2&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqzoneopensdkapi19&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqzoneopensdkapi&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mqqbrowser&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;mttbrowser&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;tim&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;timapi&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;timopensdkfriend&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;timwpa&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;timgamebindinggroup&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;timapiwallet&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;timOpensdkSSoLogin&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;wtlogintim&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;timopensdkgrouptribeshare&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;timopensdkapiV4&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;timgamebindinggroup&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;timopensdkdataline&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;wtlogintimV1&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;timapiV1&lt;/</span><span style="color:#85E89D;">string</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">array</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">key</span><span style="color:#24292E;">&gt;LSApplicationQueriesSchemes&lt;/</span><span style="color:#22863A;">key</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">array</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">&lt;!-- 微信 URL Scheme 白名单--&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;wechat&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;weixin&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">&lt;!-- 新浪微博 URL Scheme 白名单--&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;sinaweibohd&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;sinaweibo&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;sinaweibosso&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;weibosdk&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;weibosdk2.5&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">&lt;!-- QQ、Qzone URL Scheme 白名单--&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqqapi&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqq&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqqOpensdkSSoLogin&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqqconnect&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqqopensdkdataline&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqqopensdkgrouptribeshare&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqqopensdkfriend&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqqopensdkapi&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqqopensdkapiV2&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqqopensdkapiV3&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqqopensdkapiV4&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqzoneopensdk&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;wtloginmqq&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;wtloginmqq2&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqqwpa&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqzone&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqzonev2&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqzoneshare&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;wtloginqzone&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqzonewx&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqzoneopensdkapiV2&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqzoneopensdkapi19&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqzoneopensdkapi&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mqqbrowser&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;mttbrowser&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;tim&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;timapi&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;timopensdkfriend&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;timwpa&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;timgamebindinggroup&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;timapiwallet&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;timOpensdkSSoLogin&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;wtlogintim&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;timopensdkgrouptribeshare&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;timopensdkapiV4&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;timgamebindinggroup&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;timopensdkdataline&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;wtlogintimV1&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;timapiV1&lt;/</span><span style="color:#22863A;">string</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">array</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/fb432ba0-9afd-4dcc-864a-15a1e7f082e6.png" alt="UTOOLS1557762776354.png"></p><p>2.7、配置 URL Scheme</p><p>URL Scheme 是通过系统找到并跳转对应 app 的一类设置，通过向项目中的 info.plist 文件中加入 URL types 可使用第三方平台所注册的 appkey 信息向系统注册你的 app，当跳转到第三方应用授权或分享后，可直接跳转回你的 app。</p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/0b59d370-c079-46e4-b9b0-f73e4eb7f348.png" alt="UTOOLS1557762805820.png"></p><p>2.8 <strong>初始化</strong><code>AppDelegate.m</code>设置友盟<code>appkey</code>和<code>appSecret(如果有推送功能的话需要加)</code>以及各个平台的<code>appkey</code>和<code>secret</code>.</p><div class="language-objective-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">objective-c</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">BOOL</span><span style="color:#E1E4E8;">)application:(UIApplication </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)application didFinishLaunchingWithOptions:(</span><span style="color:#79B8FF;">NSDictionary</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)launchOptions</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">/* 打开调试日志 */</span></span>
<span class="line"><span style="color:#E1E4E8;">  [[UMSocialManager </span><span style="color:#79B8FF;">defaultManager</span><span style="color:#E1E4E8;">] </span><span style="color:#79B8FF;">openLog:YES</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">/* 设置友盟appkey */</span></span>
<span class="line"><span style="color:#E1E4E8;">  [RNUMConfigure </span><span style="color:#79B8FF;">initWithAppkey:</span><span style="color:#9ECBFF;">@&quot;5bd*********0db&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">channel:</span><span style="color:#9ECBFF;">@&quot;App Store&quot;</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">   * 关闭强制验证https，可允许http图片分享，但需要在info.plist设置安全域名</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"><span style="color:#E1E4E8;">  [UMSocialGlobal </span><span style="color:#79B8FF;">shareInstance</span><span style="color:#E1E4E8;">].isUsingHttpsWhenShareContent </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">NO</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">   设置微信的appKey和appSecret</span></span>
<span class="line"><span style="color:#6A737D;">   [微信平台从U-Share 4/5升级说明]http://dev.umeng.com/social/ios/%E8%BF%9B%E9%98%B6%E6%96%87%E6%A1%A3#1_1</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"><span style="color:#E1E4E8;">  [[UMSocialManager </span><span style="color:#79B8FF;">defaultManager</span><span style="color:#E1E4E8;">] </span><span style="color:#79B8FF;">setPlaform:</span><span style="color:#E1E4E8;">UMSocialPlatformType_WechatSession </span><span style="color:#79B8FF;">appKey:</span><span style="color:#9ECBFF;">@&quot;wxd******&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">appSecret:</span><span style="color:#9ECBFF;">@&quot;e7b246a7bdcfe75100e77eb9e999bf37&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">redirectURL:nil</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">/* 设置分享到QQ互联的appID</span></span>
<span class="line"><span style="color:#6A737D;">   * U-Share SDK为了兼容大部分平台命名，统一用appKey和appSecret进行参数设置，而QQ平台仅需将appID作为U-Share的appKey参数传进即可。</span></span>
<span class="line"><span style="color:#6A737D;">   100424468.no permission of union id</span></span>
<span class="line"><span style="color:#6A737D;">   [QQ/QZone平台集成说明]http://dev.umeng.com/social/ios/%E8%BF%9B%E9%98%B6%E6%96%87%E6%A1%A3#1_3</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  [[UMSocialManager </span><span style="color:#79B8FF;">defaultManager</span><span style="color:#E1E4E8;">] </span><span style="color:#79B8FF;">setPlaform:</span><span style="color:#E1E4E8;">UMSocialPlatformType_QQ </span><span style="color:#79B8FF;">appKey:</span><span style="color:#9ECBFF;">@&quot;*****&quot;</span><span style="color:#6A737D;">/*设置QQ平台的appID*/</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">appSecret:</span><span style="color:#9ECBFF;">@&quot;*******&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">redirectURL:</span><span style="color:#9ECBFF;">@&quot;http://mobile.umeng.com/social&quot;</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Push&#39;s basic setting 推送设置!!</span></span>
<span class="line"><span style="color:#E1E4E8;">  UMessageRegisterEntity </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> entity </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [[UMessageRegisterEntity </span><span style="color:#79B8FF;">alloc</span><span style="color:#E1E4E8;">] </span><span style="color:#79B8FF;">init</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//type是对推送的几个参数的选择，可以选择一个或者多个。默认是三个全部打开，即：声音，弹窗，角标</span></span>
<span class="line"><span style="color:#E1E4E8;">  entity.types </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> UMessageAuthorizationOptionBadge</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">UMessageAuthorizationOptionAlert</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">UMessageAuthorizationOptionSound;</span></span>
<span class="line"><span style="color:#E1E4E8;">  [UNUserNotificationCenter </span><span style="color:#79B8FF;">currentNotificationCenter</span><span style="color:#E1E4E8;">].delegate</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  [UMessage </span><span style="color:#79B8FF;">registerForRemoteNotificationsWithLaunchOptions:</span><span style="color:#E1E4E8;">launchOptions </span><span style="color:#79B8FF;">Entity:nil</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">completionHandler:</span><span style="color:#F97583;">^</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">BOOL</span><span style="color:#E1E4E8;"> granted, </span><span style="color:#79B8FF;">NSError</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> _Nullable error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (granted) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">NSLog</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">@&quot;deviceToken+++++++++&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }];</span></span>
<span class="line"><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">YES</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//从支付、分享、第三方登陆等跳转会本APP时的回调，必须实现，否则收不到分享成功时的回调！！！！</span></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">BOOL</span><span style="color:#E1E4E8;">)application:(UIApplication </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)application openURL:(</span><span style="color:#79B8FF;">NSURL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)url sourceApplication:(</span><span style="color:#79B8FF;">NSString</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)sourceApplication annotation:(</span><span style="color:#F97583;">id</span><span style="color:#E1E4E8;">)annotation</span></span>
<span class="line"><span style="color:#E1E4E8;">  {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">BOOL</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [[UMSocialManager </span><span style="color:#79B8FF;">defaultManager</span><span style="color:#E1E4E8;">] </span><span style="color:#79B8FF;">handleOpenURL:</span><span style="color:#E1E4E8;">url];</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">result) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 其他如支付等SDK的回调</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> result;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">BOOL</span><span style="color:#E1E4E8;">)application:(UIApplication </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)application handleOpenURL:(</span><span style="color:#79B8FF;">NSURL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)url</span></span>
<span class="line"><span style="color:#E1E4E8;">  {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">BOOL</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [[UMSocialManager </span><span style="color:#79B8FF;">defaultManager</span><span style="color:#E1E4E8;">] </span><span style="color:#79B8FF;">handleOpenURL:</span><span style="color:#E1E4E8;">url];</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">result) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 其他如支付等SDK的回调</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> result;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">BOOL</span><span style="color:#24292E;">)application:(UIApplication </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)application didFinishLaunchingWithOptions:(</span><span style="color:#005CC5;">NSDictionary</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)launchOptions</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* 打开调试日志 */</span></span>
<span class="line"><span style="color:#24292E;">  [[UMSocialManager </span><span style="color:#005CC5;">defaultManager</span><span style="color:#24292E;">] </span><span style="color:#005CC5;">openLog:YES</span><span style="color:#24292E;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* 设置友盟appkey */</span></span>
<span class="line"><span style="color:#24292E;">  [RNUMConfigure </span><span style="color:#005CC5;">initWithAppkey:</span><span style="color:#032F62;">@&quot;5bd*********0db&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">channel:</span><span style="color:#032F62;">@&quot;App Store&quot;</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">   * 关闭强制验证https，可允许http图片分享，但需要在info.plist设置安全域名</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"><span style="color:#24292E;">  [UMSocialGlobal </span><span style="color:#005CC5;">shareInstance</span><span style="color:#24292E;">].isUsingHttpsWhenShareContent </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">NO</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">   设置微信的appKey和appSecret</span></span>
<span class="line"><span style="color:#6A737D;">   [微信平台从U-Share 4/5升级说明]http://dev.umeng.com/social/ios/%E8%BF%9B%E9%98%B6%E6%96%87%E6%A1%A3#1_1</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"><span style="color:#24292E;">  [[UMSocialManager </span><span style="color:#005CC5;">defaultManager</span><span style="color:#24292E;">] </span><span style="color:#005CC5;">setPlaform:</span><span style="color:#24292E;">UMSocialPlatformType_WechatSession </span><span style="color:#005CC5;">appKey:</span><span style="color:#032F62;">@&quot;wxd******&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">appSecret:</span><span style="color:#032F62;">@&quot;e7b246a7bdcfe75100e77eb9e999bf37&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">redirectURL:nil</span><span style="color:#24292E;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* 设置分享到QQ互联的appID</span></span>
<span class="line"><span style="color:#6A737D;">   * U-Share SDK为了兼容大部分平台命名，统一用appKey和appSecret进行参数设置，而QQ平台仅需将appID作为U-Share的appKey参数传进即可。</span></span>
<span class="line"><span style="color:#6A737D;">   100424468.no permission of union id</span></span>
<span class="line"><span style="color:#6A737D;">   [QQ/QZone平台集成说明]http://dev.umeng.com/social/ios/%E8%BF%9B%E9%98%B6%E6%96%87%E6%A1%A3#1_3</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  [[UMSocialManager </span><span style="color:#005CC5;">defaultManager</span><span style="color:#24292E;">] </span><span style="color:#005CC5;">setPlaform:</span><span style="color:#24292E;">UMSocialPlatformType_QQ </span><span style="color:#005CC5;">appKey:</span><span style="color:#032F62;">@&quot;*****&quot;</span><span style="color:#6A737D;">/*设置QQ平台的appID*/</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">appSecret:</span><span style="color:#032F62;">@&quot;*******&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">redirectURL:</span><span style="color:#032F62;">@&quot;http://mobile.umeng.com/social&quot;</span><span style="color:#24292E;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Push&#39;s basic setting 推送设置!!</span></span>
<span class="line"><span style="color:#24292E;">  UMessageRegisterEntity </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> entity </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [[UMessageRegisterEntity </span><span style="color:#005CC5;">alloc</span><span style="color:#24292E;">] </span><span style="color:#005CC5;">init</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//type是对推送的几个参数的选择，可以选择一个或者多个。默认是三个全部打开，即：声音，弹窗，角标</span></span>
<span class="line"><span style="color:#24292E;">  entity.types </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> UMessageAuthorizationOptionBadge</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">UMessageAuthorizationOptionAlert</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">UMessageAuthorizationOptionSound;</span></span>
<span class="line"><span style="color:#24292E;">  [UNUserNotificationCenter </span><span style="color:#005CC5;">currentNotificationCenter</span><span style="color:#24292E;">].delegate</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">self</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  [UMessage </span><span style="color:#005CC5;">registerForRemoteNotificationsWithLaunchOptions:</span><span style="color:#24292E;">launchOptions </span><span style="color:#005CC5;">Entity:nil</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">completionHandler:</span><span style="color:#D73A49;">^</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">BOOL</span><span style="color:#24292E;"> granted, </span><span style="color:#005CC5;">NSError</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> _Nullable error) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (granted) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">NSLog</span><span style="color:#24292E;">(</span><span style="color:#032F62;">@&quot;deviceToken+++++++++&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }];</span></span>
<span class="line"><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">YES</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//从支付、分享、第三方登陆等跳转会本APP时的回调，必须实现，否则收不到分享成功时的回调！！！！</span></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">BOOL</span><span style="color:#24292E;">)application:(UIApplication </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)application openURL:(</span><span style="color:#005CC5;">NSURL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)url sourceApplication:(</span><span style="color:#005CC5;">NSString</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)sourceApplication annotation:(</span><span style="color:#D73A49;">id</span><span style="color:#24292E;">)annotation</span></span>
<span class="line"><span style="color:#24292E;">  {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">BOOL</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [[UMSocialManager </span><span style="color:#005CC5;">defaultManager</span><span style="color:#24292E;">] </span><span style="color:#005CC5;">handleOpenURL:</span><span style="color:#24292E;">url];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">result) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 其他如支付等SDK的回调</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> result;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">BOOL</span><span style="color:#24292E;">)application:(UIApplication </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)application handleOpenURL:(</span><span style="color:#005CC5;">NSURL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)url</span></span>
<span class="line"><span style="color:#24292E;">  {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">BOOL</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [[UMSocialManager </span><span style="color:#005CC5;">defaultManager</span><span style="color:#24292E;">] </span><span style="color:#005CC5;">handleOpenURL:</span><span style="color:#24292E;">url];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">result) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 其他如支付等SDK的回调</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> result;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><p>2.9、提供给 RN 调用的方法在<code>UMShareModule.m</code>中查看.</p><p>2.10、进入下载目录的<code>ReactNative</code>找到<code>common</code>下的<code>js</code>中的<code>ShareUtil.js(包含分享和登陆的方法)</code>，拷贝到我们<code>RN</code>目录下，即可在 RN 中导入使用分享的方法啦。</p><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/3c7f6d0b-effc-4078-bba7-7045af1fdeaf.png" alt="UTOOLS1557762840547.png"></p><p>2.11、在 RN 中调用</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> ShareUtil </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;./ShareUtil&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">//分享</span></span>
<span class="line"><span style="color:#E1E4E8;">ShareUtile.</span><span style="color:#B392F0;">shareboard</span><span style="color:#E1E4E8;">(text, img, url, title, list, (</span><span style="color:#FFAB70;">code</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">message</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (code </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">setState</span><span style="color:#E1E4E8;">({ result: message });</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// text 为分享内容</span></span>
<span class="line"><span style="color:#6A737D;">// img 为图片地址，可以为链接，本地地址以及res图片（如果使用res,请使用如下写法：res/icon.png）</span></span>
<span class="line"><span style="color:#6A737D;">// url 为分享链接，可以为空</span></span>
<span class="line"><span style="color:#6A737D;">// title 为分享链接的标题</span></span>
<span class="line"><span style="color:#6A737D;">// list 为分享平台数组，如：var list = [0,1,2]</span></span>
<span class="line"><span style="color:#6A737D;">// callback中code为错误码，当为0时，标记成功。message为错误信息</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//第三方登陆</span></span>
<span class="line"><span style="color:#E1E4E8;">ShareUtile.</span><span style="color:#B392F0;">auth</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">code</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">result</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">message</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (code </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// iOS平台</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//登陆成功，返回第三方账号的信息，</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//比如openID、nickName、headPath等信息，这时就可以传给自己的后台小伙伴入库啦!!!</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> ShareUtil </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;./ShareUtil&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">//分享</span></span>
<span class="line"><span style="color:#24292E;">ShareUtile.</span><span style="color:#6F42C1;">shareboard</span><span style="color:#24292E;">(text, img, url, title, list, (</span><span style="color:#E36209;">code</span><span style="color:#24292E;">, </span><span style="color:#E36209;">message</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (code </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">setState</span><span style="color:#24292E;">({ result: message });</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// text 为分享内容</span></span>
<span class="line"><span style="color:#6A737D;">// img 为图片地址，可以为链接，本地地址以及res图片（如果使用res,请使用如下写法：res/icon.png）</span></span>
<span class="line"><span style="color:#6A737D;">// url 为分享链接，可以为空</span></span>
<span class="line"><span style="color:#6A737D;">// title 为分享链接的标题</span></span>
<span class="line"><span style="color:#6A737D;">// list 为分享平台数组，如：var list = [0,1,2]</span></span>
<span class="line"><span style="color:#6A737D;">// callback中code为错误码，当为0时，标记成功。message为错误信息</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//第三方登陆</span></span>
<span class="line"><span style="color:#24292E;">ShareUtile.</span><span style="color:#6F42C1;">auth</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, (</span><span style="color:#E36209;">code</span><span style="color:#24292E;">, </span><span style="color:#E36209;">result</span><span style="color:#24292E;">, </span><span style="color:#E36209;">message</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (code </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// iOS平台</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//登陆成功，返回第三方账号的信息，</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//比如openID、nickName、headPath等信息，这时就可以传给自己的后台小伙伴入库啦!!!</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><blockquote><p>注：android 与 ios 平台成功回调中的 code 值不一致，ios 成功时 code===200，android 成功时 code===0,文档写的是 0，当时还被小坑啦一把。</p></blockquote><h4 id="_3、集成消息推送" tabindex="-1">3、集成消息推送 <a class="header-anchor" href="#_3、集成消息推送" aria-label="Permalink to &quot;3、集成消息推送&quot;">​</a></h4><p>SDK 端集成已经在分享和登陆步骤中已经集成，都有截图参考，下面直接进入功能实现步骤吧：</p><ul><li>其实对于推送功能，本质还是集成原生系统端推送功能，大部分代码逻辑还是在原生端实现，比如 注册推送权限、获取 DeviceToken、设置推送提醒的类型，设置收到推送时的回调等。</li><li>比较烦的是对推送证书的配置，注: 如果做推送的话必须是付费的开发者账号生成证书才可以，否则在 Xcode 里设置开启推送权限的时候会找不到该菜单项。看下图 <img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/55f37522-4f4d-449f-85ac-c49cc272f658.png" alt="UTOOLS1557762871589.png"></li><li>具体的集成步骤以及证书生成参考友盟官网教程： <a href="http://dev.umeng.com/sdk_integate/ios-integrate-guide/push%E8%AF%81%E4%B9%A6%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97" target="_blank" rel="noreferrer">证书配置</a><a href="http://dev.umeng.com/sdk_integate/ios-integrate-guide/push" target="_blank" rel="noreferrer">集成步骤</a></li><li>在推送的时候，可以通过设置不通的 tag 值对用户分组进行推送，也可以通过用户 id 进行精准推送，RN 也提供来对应的方法 PushUtil.addTag(tag,(code,remain) =&gt;{ })和 PushUtil.addAlias(alias,type,(code) =&gt;{ })，<a href="https://developer.umeng.com/docs/66632/detail/67587#h1-u63A8u90013" target="_blank" rel="noreferrer">具体参考文档</a>。</li><li>还有待优化的功能: 关于 iOS 如何在接收到推送后打开指定页面， 官方给的地址以及找不到了， 我自己的实现方法是在原生端收到推送消息后参考 RN 文档中原生端调用 RN 的方法使用通知来实现，期待朋友们有好的方法，期待赐教。 推送主要代码:</li></ul><p><code>AppDelegate.h</code>页面</p><div class="language-objective-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">objective-c</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">#import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;UIKit/UIKit.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;UMPush/UMessage.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//！！！！一定要实现这个代理方法 ：UNUserNotificationCenterDelegate</span></span>
<span class="line"><span style="color:#F97583;">@interface</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">AppDelegate</span><span style="color:#E1E4E8;"> : </span><span style="color:#B392F0;">UIResponder</span><span style="color:#E1E4E8;"> &lt;UIApplicationDelegate,UNUserNotificationCenterDelegate&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">@property</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">nonatomic</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">strong</span><span style="color:#E1E4E8;">) UIWindow </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">window;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">@end</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;UIKit/UIKit.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;UMPush/UMessage.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//！！！！一定要实现这个代理方法 ：UNUserNotificationCenterDelegate</span></span>
<span class="line"><span style="color:#D73A49;">@interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AppDelegate</span><span style="color:#24292E;"> : </span><span style="color:#6F42C1;">UIResponder</span><span style="color:#24292E;"> &lt;UIApplicationDelegate,UNUserNotificationCenterDelegate&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">@property</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">nonatomic</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">strong</span><span style="color:#24292E;">) UIWindow </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">window;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">@end</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>AppDelegate.m</code>页面</p><div class="language-objective-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">objective-c</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">#import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;AppDelegate.h&quot;</span></span>
<span class="line"><span style="color:#F97583;">#import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;React/RCTBundleURLProvider.h&gt;</span></span>
<span class="line"><span style="color:#F97583;">#import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;React/RCTRootView.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">#import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;RNUMConfigure.h&quot;</span></span>
<span class="line"><span style="color:#F97583;">#import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&lt;UMShare/UMShare.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">#import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;YouMengNotice.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">BOOL</span><span style="color:#E1E4E8;">)application:(UIApplication </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)application didFinishLaunchingWithOptions:(</span><span style="color:#79B8FF;">NSDictionary</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)launchOptions</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Push&#39;s basic setting</span></span>
<span class="line"><span style="color:#E1E4E8;">  UMessageRegisterEntity </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> entity </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [[UMessageRegisterEntity </span><span style="color:#79B8FF;">alloc</span><span style="color:#E1E4E8;">] </span><span style="color:#79B8FF;">init</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//type是对推送的几个参数的选择，可以选择一个或者多个。默认是三个全部打开，即：声音，弹窗，角标</span></span>
<span class="line"><span style="color:#E1E4E8;">  entity.types </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> UMessageAuthorizationOptionBadge</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">UMessageAuthorizationOptionAlert</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">UMessageAuthorizationOptionSound;</span></span>
<span class="line"><span style="color:#6A737D;">// 需要实现代理，用于下面代理方法的实现。</span></span>
<span class="line"><span style="color:#E1E4E8;">  [UNUserNotificationCenter </span><span style="color:#79B8FF;">currentNotificationCenter</span><span style="color:#E1E4E8;">].delegate</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">self</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  [UMessage </span><span style="color:#79B8FF;">registerForRemoteNotificationsWithLaunchOptions:</span><span style="color:#E1E4E8;">launchOptions </span><span style="color:#79B8FF;">Entity:nil</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">completionHandler:</span><span style="color:#F97583;">^</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">BOOL</span><span style="color:#E1E4E8;"> granted, </span><span style="color:#79B8FF;">NSError</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> _Nullable error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (granted) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">NSLog</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">@&quot;deviceToken+++++++++&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">#pragma mark</span><span style="color:#E1E4E8;"> </span><span style="color:#85E89D;">- Push</span></span>
<span class="line"><span style="color:#6A737D;">//在这个方法打印出 deviceToken， 便于在友盟后台添加测试设备进行测试</span></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;">)application:(UIApplication </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)application didRegisterForRemoteNotificationsWithDeviceToken:(</span><span style="color:#79B8FF;">NSData</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)deviceToken{</span></span>
<span class="line"><span style="color:#E1E4E8;">  [UMessage </span><span style="color:#79B8FF;">registerDeviceToken:</span><span style="color:#E1E4E8;">deviceToken];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">NSLog</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">@&quot;deviceToken+++++++++</span><span style="color:#79B8FF;">%@</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">,[[[[deviceToken </span><span style="color:#79B8FF;">description</span><span style="color:#E1E4E8;">] </span><span style="color:#79B8FF;">stringByReplacingOccurrencesOfString:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@&quot;&lt;&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">withString:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@&quot;&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">                stringByReplacingOccurrencesOfString: </span><span style="color:#9ECBFF;">@&quot;&gt;&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">withString:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@&quot;&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">               stringByReplacingOccurrencesOfString: </span><span style="color:#9ECBFF;">@&quot; &quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">withString:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@&quot;&quot;</span><span style="color:#E1E4E8;">]);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;">)application:(UIApplication </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)application didFailToRegisterForRemoteNotificationsWithError:(</span><span style="color:#79B8FF;">NSError</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)error{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">// 次方法在iOS10以后，已经不再支持</span></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;">)application:(UIApplication </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)application didReceiveRemoteNotification:(</span><span style="color:#79B8FF;">NSDictionary</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)userInfo</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//关闭友盟自带的弹出框</span></span>
<span class="line"><span style="color:#E1E4E8;">  [UMessage </span><span style="color:#79B8FF;">setAutoAlert:NO</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">  [UMessage </span><span style="color:#79B8FF;">didReceiveRemoteNotification:</span><span style="color:#E1E4E8;">userInfo];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  [YouMengNotice </span><span style="color:#79B8FF;">OCsendMessageToReactNative:</span><span style="color:#E1E4E8;">userInfo];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//iOS10新增：处理前台收到通知的代理方法</span></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;">)userNotificationCenter:(UNUserNotificationCenter </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)center willPresentNotification:(UNNotification </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)notification withCompletionHandler:(</span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">^</span><span style="color:#E1E4E8;">)(UNNotificationPresentationOptions))completionHandler{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">NSDictionary</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> userInfo </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> notification.request.content.userInfo;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">([notification.request.trigger </span><span style="color:#79B8FF;">isKindOfClass:</span><span style="color:#E1E4E8;">[UNPushNotificationTrigger </span><span style="color:#79B8FF;">class</span><span style="color:#E1E4E8;">]]) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//应用处于前台时的远程推送接受</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//关闭友盟自带的弹出框</span></span>
<span class="line"><span style="color:#E1E4E8;">    [UMessage </span><span style="color:#79B8FF;">setAutoAlert:NO</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//必须加这句代码</span></span>
<span class="line"><span style="color:#E1E4E8;">    [UMessage </span><span style="color:#79B8FF;">didReceiveRemoteNotification:</span><span style="color:#E1E4E8;">userInfo];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 在这里自己实现来在接收到远程推送时，主动调用RN端的，把通知内容传给RN，这样就可以控制RN收到推送时跳转到指定页面来。</span></span>
<span class="line"><span style="color:#E1E4E8;">    [YouMengNotice </span><span style="color:#79B8FF;">OCsendMessageToReactNative:</span><span style="color:#E1E4E8;">userInfo];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  }</span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//应用处于前台时的本地推送接受</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">completionHandler</span><span style="color:#E1E4E8;">(UNNotificationPresentationOptionSound</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">UNNotificationPresentationOptionBadge</span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">UNNotificationPresentationOptionAlert);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//iOS10新增：处理后台点击通知的代理方法</span></span>
<span class="line"><span style="color:#6A737D;">//这个方法是在APP接收到通知之后，点击通知栏跳转到APP时才调用的， 注意：：！！如果直接点击APP是没用的</span></span>
<span class="line"><span style="color:#6A737D;">//知识点！！ iOS的通知 分APP在前台时显示和点击通知栏跳转到APP显示， 如果直接点击APP的话是不会走上面的两个回调方法的，之前理解错误</span></span>
<span class="line"><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;">)userNotificationCenter:(UNUserNotificationCenter </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)center didReceiveNotificationResponse:(UNNotificationResponse </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">)response withCompletionHandler:(</span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">^</span><span style="color:#E1E4E8;">)())completionHandler{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">NSDictionary</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> userInfo </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> response.notification.request.content.userInfo;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">([response.notification.request.trigger </span><span style="color:#79B8FF;">isKindOfClass:</span><span style="color:#E1E4E8;">[UNPushNotificationTrigger </span><span style="color:#79B8FF;">class</span><span style="color:#E1E4E8;">]]) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//应用处于后台时的远程推送接受</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//必须加这句代码</span></span>
<span class="line"><span style="color:#E1E4E8;">    [UMessage </span><span style="color:#79B8FF;">didReceiveRemoteNotification:</span><span style="color:#E1E4E8;">userInfo];</span></span>
<span class="line"><span style="color:#E1E4E8;">    [YouMengNotice </span><span style="color:#79B8FF;">performSelector:</span><span style="color:#F97583;">@selector</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">OCsendMessageToReactNative:</span><span style="color:#E1E4E8;">) </span><span style="color:#79B8FF;">withObject:</span><span style="color:#E1E4E8;">userInfo </span><span style="color:#79B8FF;">afterDelay:15</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#6A737D;">//    [YouMengNotice OCsendMessageToReactNative:userInfo];</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  }</span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//应用处于后台时的本地推送接受</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">#import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;AppDelegate.h&quot;</span></span>
<span class="line"><span style="color:#D73A49;">#import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;React/RCTBundleURLProvider.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;">#import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;React/RCTRootView.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">#import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;RNUMConfigure.h&quot;</span></span>
<span class="line"><span style="color:#D73A49;">#import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&lt;UMShare/UMShare.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">#import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;YouMengNotice.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">BOOL</span><span style="color:#24292E;">)application:(UIApplication </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)application didFinishLaunchingWithOptions:(</span><span style="color:#005CC5;">NSDictionary</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)launchOptions</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Push&#39;s basic setting</span></span>
<span class="line"><span style="color:#24292E;">  UMessageRegisterEntity </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> entity </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [[UMessageRegisterEntity </span><span style="color:#005CC5;">alloc</span><span style="color:#24292E;">] </span><span style="color:#005CC5;">init</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//type是对推送的几个参数的选择，可以选择一个或者多个。默认是三个全部打开，即：声音，弹窗，角标</span></span>
<span class="line"><span style="color:#24292E;">  entity.types </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> UMessageAuthorizationOptionBadge</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">UMessageAuthorizationOptionAlert</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">UMessageAuthorizationOptionSound;</span></span>
<span class="line"><span style="color:#6A737D;">// 需要实现代理，用于下面代理方法的实现。</span></span>
<span class="line"><span style="color:#24292E;">  [UNUserNotificationCenter </span><span style="color:#005CC5;">currentNotificationCenter</span><span style="color:#24292E;">].delegate</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">self</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  [UMessage </span><span style="color:#005CC5;">registerForRemoteNotificationsWithLaunchOptions:</span><span style="color:#24292E;">launchOptions </span><span style="color:#005CC5;">Entity:nil</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">completionHandler:</span><span style="color:#D73A49;">^</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">BOOL</span><span style="color:#24292E;"> granted, </span><span style="color:#005CC5;">NSError</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> _Nullable error) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (granted) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">NSLog</span><span style="color:#24292E;">(</span><span style="color:#032F62;">@&quot;deviceToken+++++++++&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">#pragma mark</span><span style="color:#24292E;"> </span><span style="color:#22863A;">- Push</span></span>
<span class="line"><span style="color:#6A737D;">//在这个方法打印出 deviceToken， 便于在友盟后台添加测试设备进行测试</span></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)application:(UIApplication </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)application didRegisterForRemoteNotificationsWithDeviceToken:(</span><span style="color:#005CC5;">NSData</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)deviceToken{</span></span>
<span class="line"><span style="color:#24292E;">  [UMessage </span><span style="color:#005CC5;">registerDeviceToken:</span><span style="color:#24292E;">deviceToken];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">NSLog</span><span style="color:#24292E;">(</span><span style="color:#032F62;">@&quot;deviceToken+++++++++</span><span style="color:#005CC5;">%@</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">,[[[[deviceToken </span><span style="color:#005CC5;">description</span><span style="color:#24292E;">] </span><span style="color:#005CC5;">stringByReplacingOccurrencesOfString:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@&quot;&lt;&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">withString:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@&quot;&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">                stringByReplacingOccurrencesOfString: </span><span style="color:#032F62;">@&quot;&gt;&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">withString:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@&quot;&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">               stringByReplacingOccurrencesOfString: </span><span style="color:#032F62;">@&quot; &quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">withString:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@&quot;&quot;</span><span style="color:#24292E;">]);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)application:(UIApplication </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)application didFailToRegisterForRemoteNotificationsWithError:(</span><span style="color:#005CC5;">NSError</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)error{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">// 次方法在iOS10以后，已经不再支持</span></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)application:(UIApplication </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)application didReceiveRemoteNotification:(</span><span style="color:#005CC5;">NSDictionary</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)userInfo</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//关闭友盟自带的弹出框</span></span>
<span class="line"><span style="color:#24292E;">  [UMessage </span><span style="color:#005CC5;">setAutoAlert:NO</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">  [UMessage </span><span style="color:#005CC5;">didReceiveRemoteNotification:</span><span style="color:#24292E;">userInfo];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  [YouMengNotice </span><span style="color:#005CC5;">OCsendMessageToReactNative:</span><span style="color:#24292E;">userInfo];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//iOS10新增：处理前台收到通知的代理方法</span></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)userNotificationCenter:(UNUserNotificationCenter </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)center willPresentNotification:(UNNotification </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)notification withCompletionHandler:(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">^</span><span style="color:#24292E;">)(UNNotificationPresentationOptions))completionHandler{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">NSDictionary</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> userInfo </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> notification.request.content.userInfo;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">([notification.request.trigger </span><span style="color:#005CC5;">isKindOfClass:</span><span style="color:#24292E;">[UNPushNotificationTrigger </span><span style="color:#005CC5;">class</span><span style="color:#24292E;">]]) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//应用处于前台时的远程推送接受</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//关闭友盟自带的弹出框</span></span>
<span class="line"><span style="color:#24292E;">    [UMessage </span><span style="color:#005CC5;">setAutoAlert:NO</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//必须加这句代码</span></span>
<span class="line"><span style="color:#24292E;">    [UMessage </span><span style="color:#005CC5;">didReceiveRemoteNotification:</span><span style="color:#24292E;">userInfo];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 在这里自己实现来在接收到远程推送时，主动调用RN端的，把通知内容传给RN，这样就可以控制RN收到推送时跳转到指定页面来。</span></span>
<span class="line"><span style="color:#24292E;">    [YouMengNotice </span><span style="color:#005CC5;">OCsendMessageToReactNative:</span><span style="color:#24292E;">userInfo];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  }</span><span style="color:#D73A49;">else</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//应用处于前台时的本地推送接受</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">completionHandler</span><span style="color:#24292E;">(UNNotificationPresentationOptionSound</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">UNNotificationPresentationOptionBadge</span><span style="color:#D73A49;">|</span><span style="color:#24292E;">UNNotificationPresentationOptionAlert);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//iOS10新增：处理后台点击通知的代理方法</span></span>
<span class="line"><span style="color:#6A737D;">//这个方法是在APP接收到通知之后，点击通知栏跳转到APP时才调用的， 注意：：！！如果直接点击APP是没用的</span></span>
<span class="line"><span style="color:#6A737D;">//知识点！！ iOS的通知 分APP在前台时显示和点击通知栏跳转到APP显示， 如果直接点击APP的话是不会走上面的两个回调方法的，之前理解错误</span></span>
<span class="line"><span style="color:#D73A49;">-</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;">)userNotificationCenter:(UNUserNotificationCenter </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)center didReceiveNotificationResponse:(UNNotificationResponse </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">)response withCompletionHandler:(</span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">^</span><span style="color:#24292E;">)())completionHandler{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">NSDictionary</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> userInfo </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> response.notification.request.content.userInfo;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">([response.notification.request.trigger </span><span style="color:#005CC5;">isKindOfClass:</span><span style="color:#24292E;">[UNPushNotificationTrigger </span><span style="color:#005CC5;">class</span><span style="color:#24292E;">]]) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//应用处于后台时的远程推送接受</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//必须加这句代码</span></span>
<span class="line"><span style="color:#24292E;">    [UMessage </span><span style="color:#005CC5;">didReceiveRemoteNotification:</span><span style="color:#24292E;">userInfo];</span></span>
<span class="line"><span style="color:#24292E;">    [YouMengNotice </span><span style="color:#005CC5;">performSelector:</span><span style="color:#D73A49;">@selector</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">OCsendMessageToReactNative:</span><span style="color:#24292E;">) </span><span style="color:#005CC5;">withObject:</span><span style="color:#24292E;">userInfo </span><span style="color:#005CC5;">afterDelay:15</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#6A737D;">//    [YouMengNotice OCsendMessageToReactNative:userInfo];</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  }</span><span style="color:#D73A49;">else</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//应用处于后台时的本地推送接受</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br></div></div><p>RN 端实现：</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> PushUtil </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;../Tools/PushUtil.js&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { NativeModules, NativeEventEmitter } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react-native&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">YouMengNotice</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> NativeModules;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">myNativeEvt</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NativeEventEmitter</span><span style="color:#E1E4E8;">(YouMengNotice);  </span><span style="color:#6A737D;">//创建自定义事件接口</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">componentDidMount</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//收到原生端发来的推送消息，这里处理页面跳转逻辑</span></span>
<span class="line"><span style="color:#E1E4E8;">   myNativeEvt.</span><span style="color:#B392F0;">addListener</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;OCSendToRN&quot;</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;原生端的消息&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">msg</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(e));</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#6A737D;">//添加tag，即分组，在推送时可以对不同分组用户进行推送</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// PushUtil.addTag(&quot;ccj&quot;,(code, res) =&gt;{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//   Alert.alert(&quot;提示&quot;, &quot;&quot;+code+JSON.stringify(res));</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    PushUtil.</span><span style="color:#B392F0;">addTag</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;个人用户&quot;</span><span style="color:#E1E4E8;">, (</span><span style="color:#FFAB70;">code</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// Alert.alert(&quot;提示&quot;, &quot;&quot;+code+JSON.stringify(res));</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> PushUtil </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;../Tools/PushUtil.js&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { NativeModules, NativeEventEmitter } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react-native&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">YouMengNotice</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> NativeModules;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">myNativeEvt</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NativeEventEmitter</span><span style="color:#24292E;">(YouMengNotice);  </span><span style="color:#6A737D;">//创建自定义事件接口</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">componentDidMount</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//收到原生端发来的推送消息，这里处理页面跳转逻辑</span></span>
<span class="line"><span style="color:#24292E;">   myNativeEvt.</span><span style="color:#6F42C1;">addListener</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;OCSendToRN&quot;</span><span style="color:#24292E;">, (</span><span style="color:#E36209;">e</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;原生端的消息&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">msg</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(e));</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#6A737D;">//添加tag，即分组，在推送时可以对不同分组用户进行推送</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// PushUtil.addTag(&quot;ccj&quot;,(code, res) =&gt;{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//   Alert.alert(&quot;提示&quot;, &quot;&quot;+code+JSON.stringify(res));</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    PushUtil.</span><span style="color:#6F42C1;">addTag</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;个人用户&quot;</span><span style="color:#24292E;">, (</span><span style="color:#E36209;">code</span><span style="color:#24292E;">, </span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// Alert.alert(&quot;提示&quot;, &quot;&quot;+code+JSON.stringify(res));</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="制作-android-启动页" tabindex="-1">制作 Android 启动页 <a class="header-anchor" href="#制作-android-启动页" aria-label="Permalink to &quot;制作 Android 启动页&quot;">​</a></h2><p>1.首先编写样式文件 <code>res/values/style.xml</code> 加入：</p><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">style</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;Dialog_Fullscreen&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">item</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;android:windowTranslucentStatus&quot;</span><span style="color:#E1E4E8;">&gt;true&lt;/</span><span style="color:#85E89D;">item</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">item</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;android:windowTranslucentNavigation&quot;</span><span style="color:#E1E4E8;">&gt;true&lt;/</span><span style="color:#85E89D;">item</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">style</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">style</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;Dialog_Fullscreen&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">item</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;android:windowTranslucentStatus&quot;</span><span style="color:#24292E;">&gt;true&lt;/</span><span style="color:#22863A;">item</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">item</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;android:windowTranslucentNavigation&quot;</span><span style="color:#24292E;">&gt;true&lt;/</span><span style="color:#22863A;">item</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">style</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>2.编写 <code>res/layout/activity_launch.xml</code></p><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;?</span><span style="color:#85E89D;">xml</span><span style="color:#B392F0;"> version</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;1.0&quot;</span><span style="color:#B392F0;"> encoding</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;utf-8&quot;</span><span style="color:#E1E4E8;">?&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">LinearLayout</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">xmlns:android</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;http://schemas.android.com/apk/res/android&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">xmlns:app</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:layout_width</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;match_parent&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:layout_height</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;match_parent&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">android:background</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;@drawable/ic_launcher&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">LinearLayout</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;?</span><span style="color:#22863A;">xml</span><span style="color:#6F42C1;"> version</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;1.0&quot;</span><span style="color:#6F42C1;"> encoding</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;utf-8&quot;</span><span style="color:#24292E;">?&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">LinearLayout</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">xmlns:android</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;http://schemas.android.com/apk/res/android&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">xmlns:app</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:layout_width</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;match_parent&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:layout_height</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;match_parent&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">android:background</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;@drawable/ic_launcher&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">LinearLayout</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>3.编写界面 <code>SplashScreen.java</code></p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> android.app.Activity;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> android.app.Dialog;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SplashScreen</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> Dialog mSplashDialog; </span><span style="color:#6A737D;">// 显示启动页</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">show</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">final</span><span style="color:#E1E4E8;"> Activity </span><span style="color:#FFAB70;">activity</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        mSplashDialog </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Dialog</span><span style="color:#E1E4E8;">(activity, R.style.Dialog_Fullscreen);</span></span>
<span class="line"><span style="color:#E1E4E8;">        mSplashDialog.</span><span style="color:#B392F0;">setContentView</span><span style="color:#E1E4E8;">(R.layout.activity_launch);</span></span>
<span class="line"><span style="color:#E1E4E8;">        mSplashDialog.</span><span style="color:#B392F0;">setCancelable</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        mSplashDialog.</span><span style="color:#B392F0;">show</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hide</span><span style="color:#E1E4E8;">(Activity </span><span style="color:#FFAB70;">activity</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (mSplashDialog </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            mSplashDialog.</span><span style="color:#B392F0;">dismiss</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        mSplashDialog </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> android.app.Activity;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> android.app.Dialog;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SplashScreen</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> Dialog mSplashDialog; </span><span style="color:#6A737D;">// 显示启动页</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">show</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">final</span><span style="color:#24292E;"> Activity </span><span style="color:#E36209;">activity</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        mSplashDialog </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Dialog</span><span style="color:#24292E;">(activity, R.style.Dialog_Fullscreen);</span></span>
<span class="line"><span style="color:#24292E;">        mSplashDialog.</span><span style="color:#6F42C1;">setContentView</span><span style="color:#24292E;">(R.layout.activity_launch);</span></span>
<span class="line"><span style="color:#24292E;">        mSplashDialog.</span><span style="color:#6F42C1;">setCancelable</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        mSplashDialog.</span><span style="color:#6F42C1;">show</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">hide</span><span style="color:#24292E;">(Activity </span><span style="color:#E36209;">activity</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (mSplashDialog </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            mSplashDialog.</span><span style="color:#6F42C1;">dismiss</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        mSplashDialog </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>4.定义暴露给 RN 桥接的方法</p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> android.content.Context;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.bridge.ReactApplicationContext;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.bridge.ReactContextBaseJavaModule;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.bridge.ReactMethod;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ModuleHideSplash</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ReactContextBaseJavaModule</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> Context context;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ModuleHideSplash</span><span style="color:#E1E4E8;">(ReactApplicationContext </span><span style="color:#FFAB70;">reactContext</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">(reactContext);</span></span>
<span class="line"><span style="color:#E1E4E8;">        context </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> reactContext;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> String </span><span style="color:#B392F0;">getName</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;SplashScreen&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">ReactMethod</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">show</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        SplashScreen.</span><span style="color:#B392F0;">show</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">getCurrentActivity</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">ReactMethod</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hide</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        SplashScreen.</span><span style="color:#B392F0;">hide</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">getCurrentActivity</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> android.content.Context;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.bridge.ReactApplicationContext;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.bridge.ReactContextBaseJavaModule;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.bridge.ReactMethod;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ModuleHideSplash</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ReactContextBaseJavaModule</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Context context;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ModuleHideSplash</span><span style="color:#24292E;">(ReactApplicationContext </span><span style="color:#E36209;">reactContext</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(reactContext);</span></span>
<span class="line"><span style="color:#24292E;">        context </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> reactContext;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> String </span><span style="color:#6F42C1;">getName</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;SplashScreen&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">ReactMethod</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">show</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        SplashScreen.</span><span style="color:#6F42C1;">show</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">getCurrentActivity</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">ReactMethod</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">hide</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        SplashScreen.</span><span style="color:#6F42C1;">hide</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">getCurrentActivity</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>5.定义桥接包：</p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.ReactPackage;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.bridge.NativeModule;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.bridge.ReactApplicationContext;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> com.facebook.react.uimanager.ViewManager;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.ArrayList;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.Collections;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.List;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">MyPackage</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">implements</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ReactPackage</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> List&lt;</span><span style="color:#F97583;">ViewManager</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#B392F0;">createViewManagers</span><span style="color:#E1E4E8;">(ReactApplicationContext </span><span style="color:#FFAB70;">reactContext</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Collections.</span><span style="color:#B392F0;">emptyList</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    @</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> List&lt;</span><span style="color:#F97583;">NativeModule</span><span style="color:#E1E4E8;">&gt; </span><span style="color:#B392F0;">createNativeModules</span><span style="color:#E1E4E8;">(ReactApplicationContext </span><span style="color:#FFAB70;">reactContext</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        List&lt;</span><span style="color:#F97583;">NativeModule</span><span style="color:#E1E4E8;">&gt; modules </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#E1E4E8;">        modules.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ModuleHideSplash</span><span style="color:#E1E4E8;">(reactContext));</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> modules;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.ReactPackage;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.bridge.NativeModule;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.bridge.ReactApplicationContext;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> com.facebook.react.uimanager.ViewManager;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.ArrayList;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.Collections;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.List;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyPackage</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">implements</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ReactPackage</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> List&lt;</span><span style="color:#D73A49;">ViewManager</span><span style="color:#24292E;">&gt; </span><span style="color:#6F42C1;">createViewManagers</span><span style="color:#24292E;">(ReactApplicationContext </span><span style="color:#E36209;">reactContext</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Collections.</span><span style="color:#6F42C1;">emptyList</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> List&lt;</span><span style="color:#D73A49;">NativeModule</span><span style="color:#24292E;">&gt; </span><span style="color:#6F42C1;">createNativeModules</span><span style="color:#24292E;">(ReactApplicationContext </span><span style="color:#E36209;">reactContext</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        List&lt;</span><span style="color:#D73A49;">NativeModule</span><span style="color:#24292E;">&gt; modules </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">        modules.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ModuleHideSplash</span><span style="color:#24292E;">(reactContext));</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> modules;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>6.初始化桥接包：</p><p>在 <code>MainApplication.java</code> 中添加 <code>MyPackage</code>：</p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">@</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> List</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">ReactPackage</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getPackages</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Arrays.</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">ReactPackage</span><span style="color:#F97583;">&gt;</span><span style="color:#B392F0;">asList</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            ...,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">MyPackage</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">ReactPackage</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getPackages</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Arrays.</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">ReactPackage</span><span style="color:#D73A49;">&gt;</span><span style="color:#6F42C1;">asList</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            ...,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyPackage</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>7.设置启动时展示：</p><p>在 <code>MainActivity.java</code> 中加入</p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">@</span><span style="color:#F97583;">Override</span></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onCreate</span><span style="color:#E1E4E8;">(Bundle savedInstanceState) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    SplashScreen.</span><span style="color:#B392F0;">show</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">onCreate</span><span style="color:#E1E4E8;">(savedInstanceState);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Override</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onCreate</span><span style="color:#24292E;">(Bundle savedInstanceState) {</span></span>
<span class="line"><span style="color:#24292E;">    SplashScreen.</span><span style="color:#6F42C1;">show</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">onCreate</span><span style="color:#24292E;">(savedInstanceState);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>8.RN 端调用</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {NativeModules} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react-native&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">...</span></span>
<span class="line"><span style="color:#E1E4E8;">NativeModules.SplashScreen.</span><span style="color:#B392F0;">hide</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {NativeModules} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react-native&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">...</span></span>
<span class="line"><span style="color:#24292E;">NativeModules.SplashScreen.</span><span style="color:#6F42C1;">hide</span><span style="color:#24292E;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="第三方控件推荐" tabindex="-1">第三方控件推荐 <a class="header-anchor" href="#第三方控件推荐" aria-label="Permalink to &quot;第三方控件推荐&quot;">​</a></h2><h3 id="字母表控件" tabindex="-1">字母表控件 <a class="header-anchor" href="#字母表控件" aria-label="Permalink to &quot;字母表控件&quot;">​</a></h3><p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/react-native-tips/4ff5d5a6-0f98-4591-a1e2-ef32fc0e2a7a.gif" alt="5cd98b972ff0f35877.gif"></p><p><a href="https://github.com/i6mi6/react-native-alphabetlistview" target="_blank" rel="noreferrer">https://github.com/i6mi6/react-native-alphabetlistview</a></p><h3 id="原生渲染富文本" tabindex="-1">原生渲染富文本 <a class="header-anchor" href="#原生渲染富文本" aria-label="Permalink to &quot;原生渲染富文本&quot;">​</a></h3><p><a href="https://github.com/jsdf/react-native-htmlview" target="_blank" rel="noreferrer">https://github.com/jsdf/react-native-htmlview</a></p><h3 id="轮播" tabindex="-1">轮播 <a class="header-anchor" href="#轮播" aria-label="Permalink to &quot;轮播&quot;">​</a></h3><p><code>react-native-swiper</code> 或 <code>@nart/react-native-swiper</code>，后者是修正 Android 上无法垂直滚动的版本。</p><h3 id="查看大图" tabindex="-1">查看大图 <a class="header-anchor" href="#查看大图" aria-label="Permalink to &quot;查看大图&quot;">​</a></h3><p>推荐组件 <code>react-native-image-zoom-viewer</code></p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> ImageViewer </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react-native-image-zoom-viewer&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">ImageViewer</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">imageUrls</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#B392F0;">imagePathFormat</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.state.contractPicture).</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">url</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> { url: url };</span></span>
<span class="line"><span style="color:#E1E4E8;">  })}</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">index</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.state.imageIndex}</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">enableImageZoom</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">/&gt;;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> ImageViewer </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react-native-image-zoom-viewer&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">ImageViewer</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">imageUrls</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#6F42C1;">imagePathFormat</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.state.contractPicture).</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">url</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> { url: url };</span></span>
<span class="line"><span style="color:#24292E;">  })}</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">index</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.state.imageIndex}</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">enableImageZoom</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">true</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">/&gt;;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="图片上传、拍照、图片压缩" tabindex="-1">图片上传、拍照、图片压缩 <a class="header-anchor" href="#图片上传、拍照、图片压缩" aria-label="Permalink to &quot;图片上传、拍照、图片压缩&quot;">​</a></h3><p>推荐组件 <code>react-native-image-picker</code></p><p>下面代码是我们项目中的代码片段，可以配合上面的文件上传代码使用。</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React, { Component } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Alert, Image, TouchableOpacity, View } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react-native&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> ImagePicker </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react-native-image-picker&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 图片选择器参数设置</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">options</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  title: </span><span style="color:#9ECBFF;">&quot;请选择图片来源&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  cancelButtonTitle: </span><span style="color:#9ECBFF;">&quot;取消&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  takePhotoButtonTitle: </span><span style="color:#9ECBFF;">&quot;拍照&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  chooseFromLibraryButtonTitle: </span><span style="color:#9ECBFF;">&quot;相册图片&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  quality: </span><span style="color:#79B8FF;">0.7</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  maxWidth: </span><span style="color:#79B8FF;">800</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  maxHeight: </span><span style="color:#79B8FF;">800</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 此参数用于照片是否存储照片到手机相册</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// storageOptions: {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//   skipBackup: true,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//   path: &#39;images&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// }</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">styles</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  frame: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    borderTopWidth: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    borderTopColor: </span><span style="color:#9ECBFF;">&quot;#707070&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    borderLeftWidth: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    borderLeftColor: </span><span style="color:#9ECBFF;">&quot;#707070&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    borderRightWidth: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    borderRightColor: </span><span style="color:#9ECBFF;">&quot;#707070&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    borderBottomWidth: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    borderBottomColor: </span><span style="color:#9ECBFF;">&quot;#707070&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    justifyContent: </span><span style="color:#9ECBFF;">&quot;center&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    alignItems: </span><span style="color:#9ECBFF;">&quot;center&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    width: </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    height: </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">MyImagePicker</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Component</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">selectImage</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    ImagePicker.</span><span style="color:#B392F0;">showImagePicker</span><span style="color:#E1E4E8;">(options, (</span><span style="color:#FFAB70;">response</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">selectImageCallback</span><span style="color:#E1E4E8;">(response)</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">selectImageCallback</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">response</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (response.didCancel) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      Alert.</span><span style="color:#B392F0;">alert</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;提示&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;用户取消了选择！&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (response.error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      Alert.</span><span style="color:#B392F0;">alert</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;ImagePicker发生错误：&quot;</span><span style="color:#E1E4E8;">, response.error);</span></span>
<span class="line"><span style="color:#E1E4E8;">    } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">source</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> { uri: response.uri };</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// You can also display the image using data:</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// let source = { uri: &#39;data:image/jpeg;base64,&#39; + response.data };</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.</span><span style="color:#B392F0;">onChange</span><span style="color:#E1E4E8;">(source);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">remove</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">index</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    Alert.</span><span style="color:#B392F0;">alert</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;提示&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;确认移除这张图？&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      [</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span></span>
<span class="line"><span style="color:#E1E4E8;">          text: </span><span style="color:#9ECBFF;">&quot;确认&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">onPress</span><span style="color:#E1E4E8;">: () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">newFiles</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.files;</span></span>
<span class="line"><span style="color:#E1E4E8;">            newFiles.</span><span style="color:#B392F0;">splice</span><span style="color:#E1E4E8;">(index, </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.</span><span style="color:#B392F0;">onChange</span><span style="color:#E1E4E8;">(newFiles);</span></span>
<span class="line"><span style="color:#E1E4E8;">          },</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        { text: </span><span style="color:#9ECBFF;">&quot;取消&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">onPress</span><span style="color:#E1E4E8;">: () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {}, style: </span><span style="color:#9ECBFF;">&quot;cancel&quot;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">      ],</span></span>
<span class="line"><span style="color:#E1E4E8;">      { cancelable: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">render</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">View</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{ flexDirection: </span><span style="color:#9ECBFF;">&quot;row&quot;</span><span style="color:#E1E4E8;"> }}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.files.</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">file</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">index</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#79B8FF;">TouchableOpacity</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onPress</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">remove</span><span style="color:#E1E4E8;">(index)}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">              &lt;</span><span style="color:#79B8FF;">Image</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">resizeMode</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#9ECBFF;">&quot;cover&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{</span></span>
<span class="line"><span style="color:#E1E4E8;">                  width: </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                  height: </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                  marginLeft: index </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                  marginBottom: </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                }}</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">source</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{ uri: file.url }}</span></span>
<span class="line"><span style="color:#E1E4E8;">              /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;/</span><span style="color:#79B8FF;">TouchableOpacity</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          );</span></span>
<span class="line"><span style="color:#E1E4E8;">        })}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">TouchableOpacity</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onPress</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">selectImage</span><span style="color:#E1E4E8;">()}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          {</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.selectable </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#79B8FF;">View</span></span>
<span class="line"><span style="color:#E1E4E8;">              </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{[</span></span>
<span class="line"><span style="color:#E1E4E8;">                styles.frame,</span></span>
<span class="line"><span style="color:#E1E4E8;">                { marginLeft: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.props.files.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">              ]}</span></span>
<span class="line"><span style="color:#E1E4E8;">            &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">              &lt;</span><span style="color:#79B8FF;">Image</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">resizeMode</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#9ECBFF;">&quot;contain&quot;</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{{ width: </span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">, height: </span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;"> }}</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">source</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;../Assets/imgs/plus.png&quot;</span><span style="color:#E1E4E8;">)}</span></span>
<span class="line"><span style="color:#E1E4E8;">              /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;/</span><span style="color:#79B8FF;">View</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          )}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#79B8FF;">TouchableOpacity</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#79B8FF;">View</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React, { Component } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Alert, Image, TouchableOpacity, View } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react-native&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> ImagePicker </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react-native-image-picker&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 图片选择器参数设置</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">options</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  title: </span><span style="color:#032F62;">&quot;请选择图片来源&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  cancelButtonTitle: </span><span style="color:#032F62;">&quot;取消&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  takePhotoButtonTitle: </span><span style="color:#032F62;">&quot;拍照&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  chooseFromLibraryButtonTitle: </span><span style="color:#032F62;">&quot;相册图片&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  quality: </span><span style="color:#005CC5;">0.7</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  maxWidth: </span><span style="color:#005CC5;">800</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  maxHeight: </span><span style="color:#005CC5;">800</span><span style="color:#24292E;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 此参数用于照片是否存储照片到手机相册</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// storageOptions: {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//   skipBackup: true,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//   path: &#39;images&#39;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">styles</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  frame: {</span></span>
<span class="line"><span style="color:#24292E;">    borderTopWidth: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    borderTopColor: </span><span style="color:#032F62;">&quot;#707070&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    borderLeftWidth: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    borderLeftColor: </span><span style="color:#032F62;">&quot;#707070&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    borderRightWidth: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    borderRightColor: </span><span style="color:#032F62;">&quot;#707070&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    borderBottomWidth: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    borderBottomColor: </span><span style="color:#032F62;">&quot;#707070&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    justifyContent: </span><span style="color:#032F62;">&quot;center&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    alignItems: </span><span style="color:#032F62;">&quot;center&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    width: </span><span style="color:#005CC5;">80</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    height: </span><span style="color:#005CC5;">80</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyImagePicker</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Component</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">selectImage</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    ImagePicker.</span><span style="color:#6F42C1;">showImagePicker</span><span style="color:#24292E;">(options, (</span><span style="color:#E36209;">response</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">selectImageCallback</span><span style="color:#24292E;">(response)</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">selectImageCallback</span><span style="color:#24292E;">(</span><span style="color:#E36209;">response</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (response.didCancel) {</span></span>
<span class="line"><span style="color:#24292E;">      Alert.</span><span style="color:#6F42C1;">alert</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;提示&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;用户取消了选择！&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (response.error) {</span></span>
<span class="line"><span style="color:#24292E;">      Alert.</span><span style="color:#6F42C1;">alert</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;ImagePicker发生错误：&quot;</span><span style="color:#24292E;">, response.error);</span></span>
<span class="line"><span style="color:#24292E;">    } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">source</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> { uri: response.uri };</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// You can also display the image using data:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// let source = { uri: &#39;data:image/jpeg;base64,&#39; + response.data };</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.</span><span style="color:#6F42C1;">onChange</span><span style="color:#24292E;">(source);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">remove</span><span style="color:#24292E;">(</span><span style="color:#E36209;">index</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    Alert.</span><span style="color:#6F42C1;">alert</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;提示&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;确认移除这张图？&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      [</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          text: </span><span style="color:#032F62;">&quot;确认&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">onPress</span><span style="color:#24292E;">: () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">newFiles</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.files;</span></span>
<span class="line"><span style="color:#24292E;">            newFiles.</span><span style="color:#6F42C1;">splice</span><span style="color:#24292E;">(index, </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.</span><span style="color:#6F42C1;">onChange</span><span style="color:#24292E;">(newFiles);</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        { text: </span><span style="color:#032F62;">&quot;取消&quot;</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">onPress</span><span style="color:#24292E;">: () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {}, style: </span><span style="color:#032F62;">&quot;cancel&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">      ],</span></span>
<span class="line"><span style="color:#24292E;">      { cancelable: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">View</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{ flexDirection: </span><span style="color:#032F62;">&quot;row&quot;</span><span style="color:#24292E;"> }}&gt;</span></span>
<span class="line"><span style="color:#24292E;">        {</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.files.</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">file</span><span style="color:#24292E;">, </span><span style="color:#E36209;">index</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">            &lt;</span><span style="color:#005CC5;">TouchableOpacity</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onPress</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">remove</span><span style="color:#24292E;">(index)}&gt;</span></span>
<span class="line"><span style="color:#24292E;">              &lt;</span><span style="color:#005CC5;">Image</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">resizeMode</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#032F62;">&quot;cover&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{</span></span>
<span class="line"><span style="color:#24292E;">                  width: </span><span style="color:#005CC5;">80</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                  height: </span><span style="color:#005CC5;">80</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                  marginLeft: index </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                  marginBottom: </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                }}</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">source</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{ uri: file.url }}</span></span>
<span class="line"><span style="color:#24292E;">              /&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;/</span><span style="color:#005CC5;">TouchableOpacity</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          );</span></span>
<span class="line"><span style="color:#24292E;">        })}</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">TouchableOpacity</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onPress</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">selectImage</span><span style="color:#24292E;">()}&gt;</span></span>
<span class="line"><span style="color:#24292E;">          {</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.selectable </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">            &lt;</span><span style="color:#005CC5;">View</span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{[</span></span>
<span class="line"><span style="color:#24292E;">                styles.frame,</span></span>
<span class="line"><span style="color:#24292E;">                { marginLeft: </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.props.files.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">              ]}</span></span>
<span class="line"><span style="color:#24292E;">            &gt;</span></span>
<span class="line"><span style="color:#24292E;">              &lt;</span><span style="color:#005CC5;">Image</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">resizeMode</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#032F62;">&quot;contain&quot;</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{{ width: </span><span style="color:#005CC5;">50</span><span style="color:#24292E;">, height: </span><span style="color:#005CC5;">50</span><span style="color:#24292E;"> }}</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">source</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;../Assets/imgs/plus.png&quot;</span><span style="color:#24292E;">)}</span></span>
<span class="line"><span style="color:#24292E;">              /&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;/</span><span style="color:#005CC5;">View</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          )}</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#005CC5;">TouchableOpacity</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#005CC5;">View</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br></div></div><h2 id="react-native-android-全面屏手机-底部留有一大块黑屏" tabindex="-1">react-native Android 全面屏手机 底部留有一大块黑屏 <a class="header-anchor" href="#react-native-android-全面屏手机-底部留有一大块黑屏" aria-label="Permalink to &quot;react-native Android 全面屏手机 底部留有一大块黑屏&quot;">​</a></h2><p>解决方案：在 <code>AndroidManifest.xml</code> 中 配置</p><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">meta-data</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">android:name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;android.max_aspect&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">android:value</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;2.1&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">meta-data</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">android:name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;android.max_aspect&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">android:value</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;2.1&quot;</span><span style="color:#24292E;"> /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="could-not-find-com-android-tools-build-aapt2-3-2-0-alpha14-4748712" tabindex="-1">Could not find com.android.tools.build:aapt2:3.2.0-alpha14-4748712 <a class="header-anchor" href="#could-not-find-com-android-tools-build-aapt2-3-2-0-alpha14-4748712" aria-label="Permalink to &quot;Could not find com.android.tools.build:aapt2:3.2.0-alpha14-4748712&quot;">​</a></h2><p>在最上级的 <code>builde.gralde</code> 增加谷歌库 解决问题</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">allprojects {</span></span>
<span class="line"><span style="color:#e1e4e8;">    repositories {</span></span>
<span class="line"><span style="color:#e1e4e8;">        google()</span></span>
<span class="line"><span style="color:#e1e4e8;">        jcenter()</span></span>
<span class="line"><span style="color:#e1e4e8;">    }</span></span>
<span class="line"><span style="color:#e1e4e8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">allprojects {</span></span>
<span class="line"><span style="color:#24292e;">    repositories {</span></span>
<span class="line"><span style="color:#24292e;">        google()</span></span>
<span class="line"><span style="color:#24292e;">        jcenter()</span></span>
<span class="line"><span style="color:#24292e;">    }</span></span>
<span class="line"><span style="color:#24292e;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="为-r-n-配置-typescript-开发环境" tabindex="-1">为 R-N 配置 TypeScript 开发环境 <a class="header-anchor" href="#为-r-n-配置-typescript-开发环境" aria-label="Permalink to &quot;为 R-N 配置 TypeScript 开发环境&quot;">​</a></h2><p>typescript 是 javascript 的超集，在 javascript 的基础上添加了可选的静态类型，非常适合团队开，这次我们尝试使用 typescript 来开发 react-native 应用。 搭建 react-native 开发环境</p><p>安装 yarn 和 react-native 命令行工具</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">yarn</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">react-native-cli</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span><span style="color:#24292E;"> </span><span style="color:#032F62;">yarn</span><span style="color:#24292E;"> </span><span style="color:#032F62;">react-native-cli</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Yarn 是 Facebook 提供的替代 npm 的工具，可以加速 node 模块的下载。React Native 的命令行工具用于执行创建、初始化、更新项目、运行打包服务（packager）等任务。</p><p>React Native 目前需要 Xcode 7.0 或更高版本。你可以通过 App Store 或是到 Apple 开发者官网上下载。这一步骤会同时安装 Xcode IDE 和 Xcode 的命令行工具。</p><p>虽然一般来说命令行工具都是默认安装了，但你最好还是启动 Xcode，并在 Xcode | Preferences | Locations 菜单中检查一下是否装有某个版本的 Command Line Tools。Xcode 的命令行工具中也包含一些必须的工具，比如 git 等。 搭建 typescript 开发环境</p><p>先安装 typescript</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">typescript</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span><span style="color:#24292E;"> </span><span style="color:#032F62;">typescript</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>接下来安装 typings typings 是 typescript 的依赖管理器，如果你使用 sublime text 或者 vscode，会非常方便的补全代码</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">typings</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span><span style="color:#24292E;"> </span><span style="color:#032F62;">typings</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>typings install 安装缓慢：追加参数 <code>--registry=https://registry.npm.taobao.org</code> 解决</p><p>使用 react-native 命令行工具初始化 react-native 项目</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">react-native</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ReactNativeApp</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">react-native</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ReactNativeApp</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>等待片刻后，进入刚刚新建的项目，创建一个名为&quot;tsconfig.json&quot; 的文件。tsconfig.json 是一个 typescript 项目的配置文件，可以通过读取它来设置 ts 编译器的编译参数 内容如下：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;compilerOptions&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;target&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;es6&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;allowJs&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;jsx&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;outDir&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;./dist&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;sourceMap&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;noImplicitAny&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;include&quot;</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;typings/**/*.d.ts&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;src/**/*.ts&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;src/**/*.tsx&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;exclude&quot;</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;node_modules&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;compilerOptions&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;target&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;es6&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;allowJs&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;jsx&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;outDir&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;./dist&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;sourceMap&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;noImplicitAny&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;include&quot;</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&quot;typings/**/*.d.ts&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;src/**/*.ts&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;src/**/*.tsx&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;exclude&quot;</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&quot;node_modules&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>在项目下新建一个目录&quot;src&quot;，typescripe 源代码就放在这里</p><p>现在安装 typings 依赖</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">typings</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">npm~react</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--save</span></span>
<span class="line"><span style="color:#B392F0;">typings</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">dt~react-native</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--globals</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--save</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">typings</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">npm~react</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--save</span></span>
<span class="line"><span style="color:#6F42C1;">typings</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">dt~react-native</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--globals</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--save</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>编写 Hello world</p><p>在 src 目录下新建 myview.tsx，内容如下</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> React </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Text } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react-native&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * Hello</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Hello</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">React</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Component</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">render</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#79B8FF;">Text</span><span style="color:#E1E4E8;">&gt;Hello world!&lt;/</span><span style="color:#79B8FF;">Text</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> React </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Text } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react-native&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * Hello</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Hello</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">React</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Component</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#005CC5;">Text</span><span style="color:#24292E;">&gt;Hello world!&lt;/</span><span style="color:#005CC5;">Text</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>返回根目录，编译刚刚写好的 tsx 文件</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">tsc</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">tsc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>修改 index.ios.js</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React, { Component } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Hello </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;./dist/myview&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { AppRegistry, StyleSheet, Text, View } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react-native&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ReactNativeApp</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Component</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">render</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">View</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">style</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{styles.container}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">Hello</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#79B8FF;">View</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">styles</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> StyleSheet.</span><span style="color:#B392F0;">create</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  container: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    flex: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    justifyContent: </span><span style="color:#9ECBFF;">&quot;center&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    alignItems: </span><span style="color:#9ECBFF;">&quot;center&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    backgroundColor: </span><span style="color:#9ECBFF;">&quot;#F5FCFF&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">AppRegistry.</span><span style="color:#B392F0;">registerComponent</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;ReactNativeApp&quot;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> ReactNativeApp);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React, { Component } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Hello </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;./dist/myview&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { AppRegistry, StyleSheet, Text, View } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react-native&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ReactNativeApp</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Component</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">View</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">style</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{styles.container}&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">Hello</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#005CC5;">View</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">styles</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> StyleSheet.</span><span style="color:#6F42C1;">create</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  container: {</span></span>
<span class="line"><span style="color:#24292E;">    flex: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    justifyContent: </span><span style="color:#032F62;">&quot;center&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    alignItems: </span><span style="color:#032F62;">&quot;center&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    backgroundColor: </span><span style="color:#032F62;">&quot;#F5FCFF&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">AppRegistry.</span><span style="color:#6F42C1;">registerComponent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;ReactNativeApp&quot;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> ReactNativeApp);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>运行 run-ios 试试效果</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">react-native</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run-ios</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">react-native</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run-ios</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="gradle-dsl-method-not-found" tabindex="-1">Gradle DSL method not found <a class="header-anchor" href="#gradle-dsl-method-not-found" aria-label="Permalink to &quot;Gradle DSL method not found&quot;">​</a></h2><p>错误提示：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">Gradle</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">DSL</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">method</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">not</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">found:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;compileOnly()&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">or</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">Gradle</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">DSL</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">method</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">not</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">found:</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;implementation()&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">Gradle</span><span style="color:#24292E;"> </span><span style="color:#032F62;">DSL</span><span style="color:#24292E;"> </span><span style="color:#032F62;">method</span><span style="color:#24292E;"> </span><span style="color:#032F62;">not</span><span style="color:#24292E;"> </span><span style="color:#032F62;">found:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;compileOnly()&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">or</span><span style="color:#24292E;"> </span><span style="color:#032F62;">Gradle</span><span style="color:#24292E;"> </span><span style="color:#032F62;">DSL</span><span style="color:#24292E;"> </span><span style="color:#032F62;">method</span><span style="color:#24292E;"> </span><span style="color:#032F62;">not</span><span style="color:#24292E;"> </span><span style="color:#032F62;">found:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;implementation()&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>解决方式有两种：</p><ul><li>升级 gradle 版本</li><li>把对应的方法更改成当前 gradle 中的方法。比如，<code>compileOnly()</code>和<code>implementation()</code> 都可以换成<code>compile()</code></li></ul><h2 id="发布后运行闪退的问题" tabindex="-1">发布后运行闪退的问题 <a class="header-anchor" href="#发布后运行闪退的问题" aria-label="Permalink to &quot;发布后运行闪退的问题&quot;">​</a></h2><p>大概率是 RN 的包没有打进 APK，运行下面代码：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">react-native</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bundle</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--platform</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">android</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--dev</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--entry-file</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">index.js</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--bundle-output</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">android/app/src/main/assets/index.android.bundle</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--assets-dest</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">android/app/src/main/res/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">react-native</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bundle</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--platform</span><span style="color:#24292E;"> </span><span style="color:#032F62;">android</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--dev</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--entry-file</span><span style="color:#24292E;"> </span><span style="color:#032F62;">index.js</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">--bundle-output</span><span style="color:#24292E;"> </span><span style="color:#032F62;">android/app/src/main/assets/index.android.bundle</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">--assets-dest</span><span style="color:#24292E;"> </span><span style="color:#032F62;">android/app/src/main/res/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-a3c25e27 data-v-5f0b39f6><div class="edit-info" data-v-5f0b39f6><div class="last-updated" data-v-5f0b39f6><p class="VPLastUpdated" data-v-5f0b39f6 data-v-d326f0bd>最后编辑时间: <time data-v-d326f0bd>2020-05-17</time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-4064354f data-v-e4279f1c><div class="container" data-v-e4279f1c><p class="message" data-v-e4279f1c>Version 4.0-framework-1.0.0-rc.13</p><p class="copyright" data-v-e4279f1c>Copyright © 2014-present Wolfx 🐺</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_backend_docker-note-3.md\":\"ade71cdd\",\"docs_backend_close-notice-in-php.md\":\"47953b0f\",\"docs_backend_set-ff-dns-cache.md\":\"fa935505\",\"docs_backend_change-pip3-default-source.md\":\"e5f0d8ad\",\"docs_backend_frp-guide.md\":\"ea235cb7\",\"docs_backend_accelerate-build-gradle-net-speed-in-china.md\":\"260589dd\",\"docs_backend_gitlab-500.md\":\"de3f1de4\",\"docs_backend_how-to-change-tomcat-log-default-encode.md\":\"d5d79738\",\"docs_backend_gitlab-mail.md\":\"2537f708\",\"docs_backend_how-to-hide-tomcat-window.md\":\"4a6fbc07\",\"docs_backend_docker-nuxt.md\":\"e3e9813e\",\"docs_backend_docker-note-2.md\":\"ef0d0913\",\"docs_backend_ch-bugs-in-pd-reverse-project.md\":\"c87fa2bc\",\"docs_frontend_canvas_fabric.md\":\"dfeb7933\",\"docs_backend_jenkins-guide.md\":\"c488eef7\",\"docs_backend_spark-note.md\":\"be4df264\",\"docs_database_es-note-01.md\":\"7ef9bedc\",\"docs_frontend_html_html5-m3u8.md\":\"4bfed759\",\"docs_frontend_css_webkit-font-smoothing.md\":\"0ee25da9\",\"docs_backend_redis-remote-access.md\":\"896bd7e7\",\"docs_frontend_3d_blender-03-modeling.md\":\"17bec3eb\",\"docs_backend_rust-env-note.md\":\"131d27a9\",\"docs_backend_py-pyautogui.md\":\"c9ac1fe6\",\"docs_frontend_html_disable-video-full-screen-on-ios.md\":\"21d46965\",\"docs_frontend_html_html5-tel.md\":\"c9524b96\",\"docs_backend_docker-note.md\":\"584029a0\",\"docs_database_mysql-export.md\":\"39c6fb81\",\"docs_database_how-to-access-mysql-remotely.md\":\"fd2e6f3f\",\"docs_frontend_css_css-bfc.md\":\"50423d6e\",\"docs_frontend_3d_blender-02-modify.md\":\"ddc1a0e0\",\"docs_frontend_html_htmlencode-and-htmldecode.md\":\"b57ca015\",\"docs_backend_hadoop-note.md\":\"fb1b6c39\",\"docs_frontend_html_html-viewport.md\":\"e65a57fa\",\"docs_frontend_html_disable-chrome-autocomplete.md\":\"2ea37a29\",\"docs_frontend_javascript_js-get-img-base64.md\":\"3eb6e667\",\"docs_frontend_javascript_document-activeelement.md\":\"8e459c3e\",\"docs_frontend_html_html-link-rel.md\":\"d7d6a370\",\"docs_frontend_canvas_d3-simple-custom-bar.md\":\"ea88846a\",\"docs_frontend_html_operations-of-frames.md\":\"2676fa01\",\"docs_frontend_javascript_js-word-counter.md\":\"1088e776\",\"docs_database_mysql-sql-adv-guide.md\":\"c84d99ef\",\"docs_frontend_javascript_js-merge-region.md\":\"a28a00b4\",\"docs_frontend_javascript_js-event-popstate.md\":\"6fa631f2\",\"docs_frontend_javascript_js-chgcase.md\":\"ac6388d1\",\"docs_backend_nginx-note.md\":\"131bc774\",\"docs_frontend_css_css-text-overflow.md\":\"d9719837\",\"docs_frontend_javascript_es6-arraybuffer.md\":\"ac1353b0\",\"docs_frontend_javascript_js-chinese-num-upper-case.md\":\"db4188da\",\"docs_os_win7-0x000006d9-error.md\":\"b5858f33\",\"docs_os_fix-uwp.md\":\"a2d7a8fa\",\"docs_nodejs_nodejs-spider-for-gb2312.md\":\"6448e46a\",\"docs_nodejs_nodejs-md5-support-chinese.md\":\"2e04487e\",\"docs_nodejs_puppeteer-start-guide.md\":\"15dbc425\",\"docs_os_download-full-website-by-using-wget.md\":\"f529b729\",\"docs_os_win-remove-old-driver.md\":\"c537a027\",\"docs_os_centos-6-to-7.md\":\"500b03a6\",\"docs_os_zip-unreadable-code-on-linux.md\":\"6d691c98\",\"index.md\":\"b1a478b7\",\"docs_other_use-redirector-plugin.md\":\"d6bd0afc\",\"docs_os_how-to-watch-the-file-running-state-on-linux.md\":\"20f5e031\",\"docs_frontend_css_css-nth-child.md\":\"b64b034c\",\"docs_nodejs_nodejs-exec-with-tail-exe.md\":\"591c43ab\",\"docs_other_useful-git-cmds.md\":\"265a9da9\",\"docs_frontend_canvas_canvas-note2.md\":\"e3485a6b\",\"docs_frontend_css_custom-scrollbar.md\":\"f76e8d3a\",\"docs_nodejs_bin-in-nodejs.md\":\"f809876b\",\"pages_about.md\":\"cf0f2d68\",\"docs_frontend_javascript_js-conv.md\":\"41d7ed42\",\"docs_os_remote-desktop-error-on-win.md\":\"36b6f896\",\"docs_frontend_hybird_cordova-dev-note-01.md\":\"6e2cb3c8\",\"docs_other_aria2-cmds.md\":\"dfbdfd42\",\"docs_database_mongodb-note.md\":\"21712691\",\"docs_frontend_tool_webpack-multi-cores-optmise.md\":\"ca6a498e\",\"docs_frontend_mvvm_nuxt-build-note.md\":\"3a96040a\",\"docs_frontend_javascript_js-copy-to-clipboard.md\":\"7a979652\",\"docs_nodejs_node-pm2.md\":\"c6ced54f\",\"docs_os_linux-tar-backup.md\":\"9f480793\",\"docs_frontend_tool_personal-npm-packages.md\":\"1678a536\",\"docs_other_webstorm-conf-log4js.md\":\"f054c77b\",\"docs_os_install-services-on-linux.md\":\"cff7cb16\",\"docs_frontend_javascript_fe-js-image-compress.md\":\"57d1e2c6\",\"docs_os_ubuntu-faq.md\":\"d0ca260d\",\"docs_os_powershell-note.md\":\"811f1e2d\",\"docs_os_deepin-linux-note.md\":\"1b7e291c\",\"docs_os_centos-7-faq.md\":\"c3fbcebd\",\"docs_frontend_3d_blender-01-basic.md\":\"238fb419\",\"docs_frontend_html_disable-iframe-reference-your-website.md\":\"8e3d4764\",\"docs_frontend_mvvm_global-component-of-react-and-vue.md\":\"7ac79d52\",\"docs_frontend_javascript_nodejs-aop.md\":\"90e8bb2b\",\"docs_frontend_javascript_reload-replace-and-href.md\":\"00d98279\",\"docs_frontend_javascript_regexps-for-you.md\":\"45f0dd8a\",\"docs_frontend_canvas_laya-compile.md\":\"c438ea30\",\"docs_frontend_javascript_createjs-note.md\":\"c78eb390\",\"docs_backend_docker-note-4.md\":\"e83dfce8\",\"docs_frontend_hybird_use-async-await-in-weapps.md\":\"e83065a5\",\"docs_frontend_javascript_remove-repeat-when-array-item-is-object.md\":\"2b3142da\",\"docs_frontend_html_the-width-in-browser.md\":\"4f6f394b\",\"docs_frontend_hybird_react-navigation-note.md\":\"689f4681\",\"docs_frontend_javascript_table-colspan-convert.md\":\"076c3e01\",\"docs_frontend_javascript_load-js-async.md\":\"af202ed1\",\"docs_frontend_hybird_cordova-dev-note-08.md\":\"c948e194\",\"docs_frontend_javascript_7-useful-funs-in-seajs.md\":\"b133e77a\",\"docs_frontend_css_disable-copy-using-css.md\":\"18c12041\",\"docs_nodejs_node-static-file-server.md\":\"0f0ed539\",\"docs_frontend_hybird_cordova-dev-note-03.md\":\"23e9e18a\",\"docs_frontend_javascript_js-dependency-injection.md\":\"9c7fc51c\",\"docs_os_ssh-login-without-password.md\":\"6535323f\",\"docs_frontend_javascript_js-params.md\":\"bcd20425\",\"docs_frontend_hybird_replace-electron.md\":\"d4430387\",\"docs_nodejs_nodejs-http-proxy.md\":\"0b7dd8b2\",\"docs_frontend_tool_remove-console.md\":\"44dcdf94\",\"docs_frontend_html_html-head.md\":\"1b8dae19\",\"docs_os_centos-8-faq.md\":\"66a9b387\",\"docs_frontend_mvvm_react-custom-img.md\":\"0309f985\",\"docs_os_checkinstall-note.md\":\"710a2b82\",\"docs_frontend_canvas_phaser-ce-note.md\":\"517dfb59\",\"docs_nodejs_watch-port-by-nodejs.md\":\"9f0e4a9b\",\"docs_frontend_hybird_cordova-dev-note-02.md\":\"91d82c80\",\"docs_frontend_css_mobile-css-compatible.md\":\"038b1e46\",\"docs_os_arch-linux-faq-wiki.md\":\"5d1beb92\",\"docs_frontend_javascript_js-geo-distance.md\":\"cdba1cc4\",\"docs_frontend_hybird_ios-cert.md\":\"6f9f7a6e\",\"docs_frontend_tool_support-ajax-on-fs-in-chrome.md\":\"051f5f16\",\"docs_nodejs_webpack-umd-pkg.md\":\"1095fdd2\",\"docs_frontend_hybird_cordova-dev-note-07.md\":\"f85486f9\",\"docs_frontend_jquery_jquery-qrcode-chinese-problem.md\":\"6093312b\",\"docs_frontend_javascript_js-random-funcs.md\":\"1e7a0e70\",\"docs_frontend_hybird_cordova-dev-note-06.md\":\"5dda1380\",\"docs_frontend_javascript_js-check-is-img-exists.md\":\"f5c25ac1\",\"docs_os_pxe-guide.md\":\"250fe6e1\",\"docs_nodejs_nodejs-nvm.md\":\"cd0db1ec\",\"docs_os_how-to-watch-port-on-win.md\":\"63e515c8\",\"docs_os_manjaro-optimize.md\":\"9abf9278\",\"docs_nodejs_node-schedule.md\":\"d352103e\",\"docs_os_linux-del-file-by-date.md\":\"01ff3ecc\",\"docs_index.md\":\"19d833d9\",\"docs_os_centos-disk-extend.md\":\"3531e2c2\",\"docs_os_linux-vpn.md\":\"84a58abb\",\"docs_other_cloc.md\":\"35a69a36\",\"docs_frontend_javascript_js-route-algorithm.md\":\"88d88a65\",\"docs_frontend_mvvm_some-optimize-after-create-react-app.md\":\"69a49c90\",\"docs_backend_qt-cpp-note.md\":\"a0acf751\",\"docs_frontend_mvvm_vue2-editor-note.md\":\"da5cfb0e\",\"docs_os_macos-faq.md\":\"98578b53\",\"docs_os_install-pip-on-linux.md\":\"c247bda6\",\"docs_frontend_javascript_js-closure.md\":\"850c12c0\",\"docs_frontend_tool_node-pkg-manager-note.md\":\"dff7c9eb\",\"docs_frontend_hybird_cordova-dev-note-05.md\":\"9ed295bd\",\"docs_frontend_canvas_canvas-note.md\":\"afd08bf0\",\"docs_backend_py-yolox.md\":\"e6a60b18\",\"docs_frontend_css_ios-keyboard-scroll-bug.md\":\"d5d4c59a\",\"docs_frontend_javascript_the-diff-of-similar-objects-in-js.md\":\"10b3e25c\",\"docs_os_iptables-proxy.md\":\"b9444f5b\",\"docs_frontend_mvvm_vue2-to-vue3-tips.md\":\"1522aa6a\",\"docs_nodejs_html5-live-video.md\":\"3438c1d3\",\"docs_frontend_javascript_gen-uuid-by-js.md\":\"b469a47e\",\"docs_nodejs_node-cli-framework.md\":\"5a57a4c8\",\"docs_nodejs_nodejs-read-file-list.md\":\"c9ab905d\",\"docs_frontend_html_html5-file-api.md\":\"4d705e6d\",\"docs_frontend_javascript_gps-coordinate-transofrm.md\":\"97c22c3b\",\"docs_frontend_hybird_build-rn-dev-env.md\":\"359de698\",\"docs_frontend_tool_gulp-frequently-plugins.md\":\"d5b51b0e\",\"docs_frontend_hybird_h5plus-and-mui-faq.md\":\"2cf47cd8\",\"docs_frontend_javascript_js-compare-ver.md\":\"954d4834\",\"docs_frontend_canvas_d3-map.md\":\"5d8d5f07\",\"docs_frontend_tool_vscode-config-template.md\":\"05fcdef3\",\"docs_os_you-have-n-methods-to-kill-process-on-linux.md\":\"84587ef1\",\"docs_os_linux-traceroute.md\":\"bb32e096\",\"docs_frontend_hybird_flutter-note.md\":\"d88551f5\",\"docs_nodejs_nodejs-blockchain.md\":\"43c5a529\",\"docs_frontend_javascript_web-worker.md\":\"2b70d114\",\"docs_frontend_hybird_android-q-note.md\":\"04ef793b\",\"docs_other_git-guide.md\":\"77515bed\",\"docs_os_linux-cmds.md\":\"404ad8a7\",\"docs_frontend_hybird_cordova-dev-note-04.md\":\"fc4934a6\",\"docs_frontend_javascript_js-rxjs-note.md\":\"b06ac525\",\"docs_frontend_canvas_egret-note.md\":\"d2b3f4cf\",\"docs_frontend_hybird_react-native-tips.md\":\"6a27d55e\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"Wolfx's Notebook\",\"description\":\"Wolfx's Notebook\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"Wolfx's Notebook\",\"darkModeSwitchLabel\":\"夜间模式\",\"sidebarMenuLabel\":\"目录\",\"outline\":\"deep\",\"outlineTitle\":\"大纲(Outline)\",\"returnToTopLabel\":\"返回顶部\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Notes\",\"link\":\"/docs/\"},{\"text\":\"About\",\"link\":\"/pages/about\"}],\"sidebar\":{\"/docs/\":[{\"text\":\"Git Guide\",\"link\":\"/docs/other/git-guide\",\"date\":1694969424000},{\"text\":\"笔记：如何从 Windows 中删除旧设备驱动程序\",\"link\":\"/docs/os/win-remove-old-driver\",\"date\":1694191824000},{\"text\":\"代替 Electron 的几种方案\",\"link\":\"/docs/frontend/hybird/replace-electron\",\"date\":1693913520000},{\"text\":\"使用 YOLOX 进行目标检测训练\",\"link\":\"/docs/backend/py-yolox\",\"date\":1690113600000},{\"text\":\"使用 Python 构建UI自动化脚本\",\"link\":\"/docs/backend/py-pyautogui\",\"date\":1690113600000},{\"text\":\"Vue2 升级 Vue3 注意点\",\"link\":\"/docs/frontend/mvvm/vue2-to-vue3-tips\",\"date\":1682959824000},{\"text\":\"Fabric.js 补充笔记\",\"link\":\"/docs/frontend/canvas/fabric\",\"date\":1669282200000},{\"text\":\"修复UWP应用在启动页闪退的问题\",\"link\":\"/docs/os/fix-uwp\",\"date\":1667753424000},{\"text\":\"Canvas 事件系统的思考\",\"link\":\"/docs/frontend/canvas/canvas-note2\",\"date\":1658335824000},{\"text\":\"魔改 Laya 编译脚本实现兼容常规 NPM 包\",\"link\":\"/docs/frontend/canvas/laya-compile\",\"date\":1616668560000},{\"text\":\"记录两种内网linux上网的方式\",\"link\":\"/docs/os/iptables-proxy\",\"date\":1615305720000},{\"text\":\"Rust 环境搭建笔记\",\"link\":\"/docs/backend/rust-env-note\",\"date\":1609761024000},{\"text\":\"iOS App 证书申请流程\",\"link\":\"/docs/frontend/hybird/ios-cert\",\"date\":1605891000000},{\"text\":\"Blender 笔记03: 建模篇\",\"link\":\"/docs/frontend/3d/blender-03-modeling\",\"date\":1603731000000},{\"text\":\"Blender 笔记02: 修改器\",\"link\":\"/docs/frontend/3d/blender-02-modify\",\"date\":1603126200000},{\"text\":\"Blender 笔记01: 基本操作和编辑模式\",\"link\":\"/docs/frontend/3d/blender-01-basic\",\"date\":1602521400000},{\"text\":\"解决GitLab删除或迁移项目报500\",\"link\":\"/docs/backend/gitlab-500\",\"date\":1602521400000},{\"text\":\"Linux 按时间批量删除文件（删除30天前文件）\",\"link\":\"/docs/os/linux-del-file-by-date\",\"date\":1598979024000},{\"text\":\"生产环境全局移除console\",\"link\":\"/docs/frontend/tool/remove-console\",\"date\":1597361520000},{\"text\":\"nuxt 构建相关笔记\",\"link\":\"/docs/frontend/mvvm/nuxt-build-note\",\"date\":1597361520000},{\"text\":\"mysqldump 导出提示 Couldn't execute SELECT COLUMN_NAME...\",\"link\":\"/docs/database/mysql-export\",\"date\":1597361520000},{\"text\":\"Elasticsearch 笔记\",\"link\":\"/docs/database/es-note-01\",\"date\":1597361520000},{\"text\":\"Flutter 学习笔记\",\"link\":\"/docs/frontend/hybird/flutter-note\",\"date\":1597067940000},{\"text\":\"NodeJS 处理二进制\",\"link\":\"/docs/nodejs/bin-in-nodejs\",\"date\":1594227024000},{\"text\":\"用 frp 暴露内网服务\",\"link\":\"/docs/backend/frp-guide\",\"date\":1593622224000},{\"text\":\"CentOS 8 FAQ\",\"link\":\"/docs/os/centos-8-faq\",\"date\":1592687400000},{\"text\":\"Egret 游戏引擎学习笔记\",\"link\":\"/docs/frontend/canvas/egret-note\",\"date\":1592645400000},{\"text\":\"Spark 学习日记（初探）\",\"link\":\"/docs/backend/spark-note\",\"date\":1592326224000},{\"text\":\"hadoop 学习日记（初探）\",\"link\":\"/docs/backend/hadoop-note\",\"date\":1592326224000},{\"text\":\"NodeJS 一行命令搭建静态文件服务器\",\"link\":\"/docs/nodejs/node-static-file-server\",\"date\":1589734224000},{\"text\":\"Docker 笔记(常用模板)\",\"link\":\"/docs/backend/docker-note-4\",\"date\":1589734224000},{\"text\":\"Docker开启Remote API 访问 2375端口\",\"link\":\"/docs/backend/docker-note-3\",\"date\":1589734224000},{\"text\":\"Docker 笔记(构建)\",\"link\":\"/docs/backend/docker-note-2\",\"date\":1589734224000},{\"text\":\"React Native 开发笔记（长期更新）\",\"link\":\"/docs/frontend/hybird/react-native-tips\",\"date\":1589726700000},{\"text\":\"记一个路径遍历算法（JS）\",\"link\":\"/docs/frontend/javascript/js-route-algorithm\",\"date\":1587401424000},{\"text\":\"记一个 Table 跨行转换算法\",\"link\":\"/docs/frontend/javascript/table-colspan-convert\",\"date\":1587142224000},{\"text\":\"CentOS 磁盘扩容\",\"link\":\"/docs/os/centos-disk-extend\",\"date\":1586553000000},{\"text\":\"Jenkins 问题汇总\",\"link\":\"/docs/backend/jenkins-guide\",\"date\":1586551800000},{\"text\":\"公司内 vscode 统一配置规范\",\"link\":\"/docs/frontend/tool/vscode-config-template\",\"date\":1583427024000},{\"text\":\"Linux VPN Server 异地组网\",\"link\":\"/docs/os/linux-vpn\",\"date\":1578258600000},{\"text\":\"用 d3.js 做一个地图迁徙图\",\"link\":\"/docs/frontend/canvas/d3-map\",\"date\":1575651024000},{\"text\":\"坐标系转换算法与投影算法\",\"link\":\"/docs/frontend/javascript/gps-coordinate-transofrm\",\"date\":1574873424000},{\"text\":\"Docker 打包 NuxtJS\",\"link\":\"/docs/backend/docker-nuxt\",\"date\":1573059024000},{\"text\":\"GitLab 配置邮件通知\",\"link\":\"/docs/backend/gitlab-mail\",\"date\":1572540624000},{\"text\":\"JavaScript UMD 插件编写规范(修订)\",\"link\":\"/docs/nodejs/webpack-umd-pkg\",\"date\":1570871220000},{\"text\":\"deepin linux 使用与运维日记（长期更新）\",\"link\":\"/docs/os/deepin-linux-note\",\"date\":1569603024000},{\"text\":\"个人 NPM 包索引帖\",\"link\":\"/docs/frontend/tool/personal-npm-packages\",\"date\":1568806920000},{\"text\":\"HTML5 播放 RTSP/RTMP 方案\",\"link\":\"/docs/nodejs/html5-live-video\",\"date\":1567356624000},{\"text\":\"WebStorm 针对 log4js 日志格式的高亮配置\",\"link\":\"/docs/other/webstorm-conf-log4js\",\"date\":1566406224000},{\"text\":\"优雅地统计代码行数\",\"link\":\"/docs/other/cloc\",\"date\":1566387624000},{\"text\":\"Phaser-CE 游戏引擎学习笔记\",\"link\":\"/docs/frontend/canvas/phaser-ce-note\",\"date\":1563183000000},{\"text\":\"JavaScript 前端图片压缩方案，支持方向识别和修正\",\"link\":\"/docs/frontend/javascript/fe-js-image-compress\",\"date\":1559667000000},{\"text\":\"macOS 常用笔记\",\"link\":\"/docs/os/macos-faq\",\"date\":1559321424000},{\"text\":\"针对 WebPack 多核利用率低的现状的优化\",\"link\":\"/docs/frontend/tool/webpack-multi-cores-optmise\",\"date\":1559215980000},{\"text\":\"Cordova 开发日记 08：与原生 Android 交互\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-08\",\"date\":1559059200000},{\"text\":\"Android 问题笔记【持续更新】\",\"link\":\"/docs/frontend/hybird/android-q-note\",\"date\":1558697520000},{\"text\":\"踩坑：iOS 微信浏览器关闭键盘时页面不回弹\",\"link\":\"/docs/frontend/css/ios-keyboard-scroll-bug\",\"date\":1558111824000},{\"text\":\"2 种 NodeJS 包管理工具的仓库和缓存配置笔记\",\"link\":\"/docs/frontend/tool/node-pkg-manager-note\",\"date\":1557826260000},{\"text\":\"浏览器中那些容易混淆的宽高属性（MDN）\",\"link\":\"/docs/frontend/html/the-width-in-browser\",\"date\":1557786900000},{\"text\":\"用 javascript 统计字数，计数问题\",\"link\":\"/docs/frontend/javascript/js-word-counter\",\"date\":1557769260000},{\"text\":\"NodeJS AOP 实践\",\"link\":\"/docs/frontend/javascript/nodejs-aop\",\"date\":1557500760000},{\"text\":\"Linux traceroute 命令排查网络状况\",\"link\":\"/docs/os/linux-traceroute\",\"date\":1542819024000},{\"text\":\"Linux CheckInstall 命令使用指南\",\"link\":\"/docs/os/checkinstall-note\",\"date\":1540910700000},{\"text\":\"aria2 常用命令\",\"link\":\"/docs/other/aria2-cmds\",\"date\":1540824300000},{\"text\":\"QT（C++）自学日记（长期更新）\",\"link\":\"/docs/backend/qt-cpp-note\",\"date\":1538412624000},{\"text\":\"CSS nth-child 详解\",\"link\":\"/docs/frontend/css/css-nth-child\",\"date\":1537030224000},{\"text\":\"JS 用巧妙的方式实现复制内容到剪贴板\",\"link\":\"/docs/frontend/javascript/js-copy-to-clipboard\",\"date\":1536180624000},{\"text\":\"react 和 vue 全局组件的实现方式\",\"link\":\"/docs/frontend/mvvm/global-component-of-react-and-vue\",\"date\":1536166224000},{\"text\":\"使用 vue2-editor 遇到的问题\",\"link\":\"/docs/frontend/mvvm/vue2-editor-note\",\"date\":1535907024000},{\"text\":\"mongodb 使用笔记\",\"link\":\"/docs/database/mongodb-note\",\"date\":1535215824000},{\"text\":\"移动端 CSS 适配笔记\",\"link\":\"/docs/frontend/css/mobile-css-compatible\",\"date\":1533228624000},{\"text\":\"用 nodejs 爬虫获取一个 gb2312 编码的网站的 2 个坑\",\"link\":\"/docs/nodejs/nodejs-spider-for-gb2312\",\"date\":1532969424000},{\"text\":\"常用正则校验整理\",\"link\":\"/docs/frontend/javascript/regexps-for-you\",\"date\":1531155024000},{\"text\":\"CSS 的结界 BFC\",\"link\":\"/docs/frontend/css/css-bfc\",\"date\":1526245800000},{\"text\":\"CentOS 7 FAQ\",\"link\":\"/docs/os/centos-7-faq\",\"date\":1526159400000},{\"text\":\"记一个 CentOS 6 升 7\",\"link\":\"/docs/os/centos-6-to-7\",\"date\":1526159400000},{\"text\":\"27 行 nodejs 实现请求转发\",\"link\":\"/docs/nodejs/nodejs-http-proxy\",\"date\":1525986600000},{\"text\":\"区块链学习：nodejs 实现一个基本区块链\",\"link\":\"/docs/nodejs/nodejs-blockchain\",\"date\":1525727400000},{\"text\":\"nodejs 递归读取目录下所有文件的路径\",\"link\":\"/docs/nodejs/nodejs-read-file-list\",\"date\":1525381800000},{\"text\":\"用 NodeJS 写 CLI\",\"link\":\"/docs/nodejs/node-cli-framework\",\"date\":1525366224000},{\"text\":\"自定义浏览器滚动条的样式\",\"link\":\"/docs/frontend/css/custom-scrollbar\",\"date\":1525199412000},{\"text\":\"修改火狐默认的 DNS 缓存时间\",\"link\":\"/docs/backend/set-ff-dns-cache\",\"date\":1522842024000},{\"text\":\"MySQL 的一些常用 SQL 集合\",\"link\":\"/docs/database/mysql-sql-adv-guide\",\"date\":1521805224000},{\"text\":\"使用 react 脚手架 create-react-app 创建项目后的几个优化\",\"link\":\"/docs/frontend/mvvm/some-optimize-after-create-react-app\",\"date\":1520852900000},{\"text\":\"JS 监听微信、支付宝等移动 app 及浏览器的返回、后退、上一页按钮的事件方法\",\"link\":\"/docs/frontend/javascript/js-event-popstate\",\"date\":1520700624000},{\"text\":\"Google Puppeteer 入门\",\"link\":\"/docs/nodejs/puppeteer-start-guide\",\"date\":1520355024000},{\"text\":\"简单实现异步加载 JavaScript\",\"link\":\"/docs/frontend/javascript/load-js-async\",\"date\":1520355024000},{\"text\":\"NodeJS NVM 使用笔记\",\"link\":\"/docs/nodejs/nodejs-nvm\",\"date\":1518022224000},{\"text\":\"利用 JS 实现的根据经纬度计算地球上两点之间的距离\",\"link\":\"/docs/frontend/javascript/the-diff-of-similar-objects-in-js\",\"date\":1517503824000},{\"text\":\"JavaScript 二进制数组（应用）\",\"link\":\"/docs/frontend/javascript/es6-arraybuffer\",\"date\":1517503824000},{\"text\":\"利用 JS 实现的根据经纬度计算地球上两点之间的距离\",\"link\":\"/docs/frontend/javascript/js-geo-distance\",\"date\":1517331024000},{\"text\":\"Redis 开启远程访问\",\"link\":\"/docs/backend/redis-remote-access\",\"date\":1516812624000},{\"text\":\"JS 全角半角转换\",\"link\":\"/docs/frontend/javascript/js-chgcase\",\"date\":1516726224000},{\"text\":\"JS 金额大写转换\",\"link\":\"/docs/frontend/javascript/js-chinese-num-upper-case\",\"date\":1516639824000},{\"text\":\"CSS3 text-overflow 字符串截取\",\"link\":\"/docs/frontend/css/css-text-overflow\",\"date\":1516639824000},{\"text\":\"Docker 笔记(部署)\",\"link\":\"/docs/backend/docker-note\",\"date\":1516553424000},{\"text\":\"对象元素的数组去重实现\",\"link\":\"/docs/frontend/javascript/remove-repeat-when-array-item-is-object\",\"date\":1516467024000},{\"text\":\"让页面的字体变得更清晰（css 实现）\",\"link\":\"/docs/frontend/css/webkit-font-smoothing\",\"date\":1516380624000},{\"text\":\"图解 JavaScript 的参数传递\",\"link\":\"/docs/frontend/javascript/js-params\",\"date\":1516121424000},{\"text\":\"初识 JavaScript 依赖注入\",\"link\":\"/docs/frontend/javascript/js-dependency-injection\",\"date\":1516035024000},{\"text\":\"用 d3.js 做一个简单的柱状\",\"link\":\"/docs/frontend/canvas/d3-simple-custom-bar\",\"date\":1515775824000},{\"text\":\"Canvas 笔记\",\"link\":\"/docs/frontend/canvas/canvas-note\",\"date\":1515603024000},{\"text\":\"JS 生成 UUID/GUID\",\"link\":\"/docs/frontend/javascript/gen-uuid-by-js\",\"date\":1514566224000},{\"text\":\"通俗的方式理解 RxJS\",\"link\":\"/docs/frontend/javascript/js-rxjs-note\",\"date\":1513183824000},{\"text\":\"Manjaro 安装后的一些优化（待添加）\",\"link\":\"/docs/os/manjaro-optimize\",\"date\":1511196624000},{\"text\":\"如何在微信小程序中使用 ES7 特性 async/await\",\"link\":\"/docs/frontend/hybird/use-async-await-in-weapps\",\"date\":1510678224000},{\"text\":\"利用 PXE 远程启动 ISO\",\"link\":\"/docs/os/pxe-guide\",\"date\":1508950224000},{\"text\":\"React-Navigation 使用笔记\",\"link\":\"/docs/frontend/hybird/react-navigation-note\",\"date\":1508950224000},{\"text\":\"SSH 免密登录\",\"link\":\"/docs/os/ssh-login-without-password\",\"date\":1508518224000},{\"text\":\"Windows 远程桌面报错：“由于没有远程桌面授权服务器可以提供许可证”\",\"link\":\"/docs/os/remote-desktop-error-on-win\",\"date\":1508518224000},{\"text\":\"React-Native 搭建开发环境\",\"link\":\"/docs/frontend/hybird/build-rn-dev-env\",\"date\":1507827024000},{\"text\":\"H5Plus/MUI FAQ\",\"link\":\"/docs/frontend/hybird/h5plus-and-mui-faq\",\"date\":1507640640000},{\"text\":\"如何隐藏 Tomcat 命令窗口\",\"link\":\"/docs/backend/how-to-hide-tomcat-window\",\"date\":1505731884000},{\"text\":\"Linux 使用自带的 tar 实现增量备份\",\"link\":\"/docs/os/linux-tar-backup\",\"date\":1505062224000},{\"text\":\"Linux 常用（通用）命令整理\",\"link\":\"/docs/os/linux-cmds\",\"date\":1505062224000},{\"text\":\"node.js pm2 的使用\",\"link\":\"/docs/nodejs/node-pm2\",\"date\":1502484600000},{\"text\":\"使用 Redirector 插件解决 googleapis 公共库加载的问题\",\"link\":\"/docs/other/use-redirector-plugin\",\"date\":1502362284000},{\"text\":\"Nginx 笔记\",\"link\":\"/docs/backend/nginx-note\",\"date\":1500807084000},{\"text\":\"修改 Tomcat 应用日志默认编码格式\",\"link\":\"/docs/backend/how-to-change-tomcat-log-default-encode\",\"date\":1500634284000},{\"text\":\"NodeJS 利用 tail 命令，动态读取日志\",\"link\":\"/docs/nodejs/nodejs-exec-with-tail-exe\",\"date\":1500288684000},{\"text\":\"NodeJS 判断端口是否被占用\",\"link\":\"/docs/nodejs/watch-port-by-nodejs\",\"date\":1499856684000},{\"text\":\"加速 build.gradle 的下载速度\",\"link\":\"/docs/backend/accelerate-build-gradle-net-speed-in-china\",\"date\":1499273424000},{\"text\":\"ArchLinux 实用 wiki 汇总\",\"link\":\"/docs/os/arch-linux-faq-wiki\",\"date\":1498841424000},{\"text\":\"Ubuntu（基于 elementary）问题汇总\",\"link\":\"/docs/os/ubuntu-faq\",\"date\":1498755024000},{\"text\":\"很有用的 Git 命令\",\"link\":\"/docs/other/useful-git-cmds\",\"date\":1498582224000},{\"text\":\"React 图片获取失败时能显示指定的默认图片\",\"link\":\"/docs/frontend/mvvm/react-custom-img\",\"date\":1478019024000},{\"text\":\"如何让 video 标签支持 hls/m3u8 视频流直播\",\"link\":\"/docs/frontend/html/html5-m3u8\",\"date\":1476809424000},{\"text\":\"Gulp 常用插件及其使用\",\"link\":\"/docs/frontend/tool/gulp-frequently-plugins\",\"date\":1476723024000},{\"text\":\"Linux 查看进程“打开”的文件或文件对应的进程及网络状态\",\"link\":\"/docs/os/how-to-watch-the-file-running-state-on-linux\",\"date\":1476463824000},{\"text\":\"Windows 上如何查看端口占用情况\",\"link\":\"/docs/os/how-to-watch-port-on-win\",\"date\":1476377424000},{\"text\":\"pip3 怎样修改默认源\",\"link\":\"/docs/backend/change-pip3-default-source\",\"date\":1476291024000},{\"text\":\"PHP 如何关闭 notice 级别的错误提示\",\"link\":\"/docs/backend/close-notice-in-php\",\"date\":1475599824000},{\"text\":\"CreateJS 笔记\",\"link\":\"/docs/frontend/javascript/createjs-note\",\"date\":1475513424000},{\"text\":\"JavaScript 合并区间的算法\",\"link\":\"/docs/frontend/javascript/js-merge-region\",\"date\":1475340624000},{\"text\":\"一些关于 Viewport 与 device-width 的东西\",\"link\":\"/docs/frontend/html/html-viewport\",\"date\":1475167824000},{\"text\":\"如何优雅地比较版本号\",\"link\":\"/docs/frontend/javascript/js-compare-ver\",\"date\":1475081424000},{\"text\":\"Linux 中 Kill 进程的 N 种方法\",\"link\":\"/docs/os/you-have-n-methods-to-kill-process-on-linux\",\"date\":1474995024000},{\"text\":\"解决 jquery.qrcode 中文识别问题\",\"link\":\"/docs/frontend/jquery/jquery-qrcode-chinese-problem\",\"date\":1474908624000},{\"text\":\"Linux 中 pip 安装步骤与使用详解\",\"link\":\"/docs/os/install-pip-on-linux\",\"date\":1474822224000},{\"text\":\"location.reload 与 location.replace 与 location.href\",\"link\":\"/docs/frontend/javascript/reload-replace-and-href\",\"date\":1474649424000},{\"text\":\"禁止别人以 iframe 加载你的页面\",\"link\":\"/docs/frontend/html/disable-iframe-reference-your-website\",\"date\":1474476624000},{\"text\":\"JS 获取图片的 BASE64\",\"link\":\"/docs/frontend/javascript/js-get-img-base64\",\"date\":1474390224000},{\"text\":\"JS 随机算法合集\",\"link\":\"/docs/frontend/javascript/js-random-funcs\",\"date\":1474131024000},{\"text\":\"javascript 深入理解 js 闭包\",\"link\":\"/docs/frontend/javascript/js-closure\",\"date\":1473958224000},{\"text\":\"利用 document.activeElement 获取焦点元素\",\"link\":\"/docs/frontend/javascript/document-activeelement\",\"date\":1473871824000},{\"text\":\"HTML5 Web Worker 的使用\",\"link\":\"/docs/frontend/javascript/web-worker\",\"date\":1473612624000},{\"text\":\"JS 另类方法高效实现 htmlencode() 与 htmldecode() 函数\",\"link\":\"/docs/frontend/html/htmlencode-and-htmldecode\",\"date\":1473526224000},{\"text\":\"HTML5 File API 实现带有进度提示的文件上传\",\"link\":\"/docs/frontend/html/html5-file-api\",\"date\":1473180624000},{\"text\":\"link 标签中 rel=* 的作用\",\"link\":\"/docs/frontend/html/html-link-rel\",\"date\":1473094224000},{\"text\":\"用 linux 下常用命令 wget 进行整站下载（递归下载至本地）\",\"link\":\"/docs/os/download-full-website-by-using-wget\",\"date\":1472921424000},{\"text\":\"让您的 Chrome 浏览器允许本地环境支持 Ajax\",\"link\":\"/docs/frontend/tool/support-ajax-on-fs-in-chrome\",\"date\":1472835024000},{\"text\":\"如何禁止 (表单) 用户名、密码自动填充\",\"link\":\"/docs/frontend/html/disable-chrome-autocomplete\",\"date\":1472835024000},{\"text\":\"如何禁止 iPhone Safari video 标签视频自动全屏？\",\"link\":\"/docs/frontend/html/disable-video-full-screen-on-ios\",\"date\":1472748624000},{\"text\":\"WAP/HTML5 手机拨号链接 & 发送短信\",\"link\":\"/docs/frontend/html/html5-tel\",\"date\":1472489424000},{\"text\":\"Linux zip 解压文件名乱码解决方法\",\"link\":\"/docs/os/zip-unreadable-code-on-linux\",\"date\":1471884624000},{\"text\":\"Linux 常用服务端环境配置攻略\",\"link\":\"/docs/os/install-services-on-linux\",\"date\":1471711824000},{\"text\":\"Node.js md5 中文支持\",\"link\":\"/docs/nodejs/nodejs-md5-support-chinese\",\"date\":1471107024000},{\"text\":\"node.js 定时任务：node-schedule 的使用\",\"link\":\"/docs/nodejs/node-schedule\",\"date\":1470934224000},{\"text\":\"Cordova 开发日记 07：cordova-plugin-baidu-geolocation 定位偏差问题\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-07\",\"date\":1470070224000},{\"text\":\"Cordova 开发日记 06：处理网络缓慢被墙的问题\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-06\",\"date\":1469379024000},{\"text\":\"Cordova 开发日记 05：白名单的配置和说明 Whitelist\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-05\",\"date\":1469292624000},{\"text\":\"Cordova 开发日记 04：常用插件与使用\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-04\",\"date\":1469206224000},{\"text\":\"Cordova 开发日记 03：如何生成安卓 apk-release 版\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-03\",\"date\":1469119824000},{\"text\":\"Cordova 开发日记 02：navigation.app 和 event\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-02\",\"date\":1469033424000},{\"text\":\"Cordova 开发日记 01：环境部署\",\"link\":\"/docs/frontend/hybird/cordova-dev-note-01\",\"date\":1468947024000},{\"text\":\"通过 CSS 让 html 网页中的内容不可选\",\"link\":\"/docs/frontend/css/disable-copy-using-css\",\"date\":1467478224000},{\"text\":\"远程访问 Linux 上 MySQL 出错解决方案\",\"link\":\"/docs/database/how-to-access-mysql-remotely\",\"date\":1449939024000},{\"text\":\"JS 进制转换\",\"link\":\"/docs/frontend/javascript/js-conv\",\"date\":1437411024000},{\"text\":\"JS 判断图片是否存在 兼容多浏览器\",\"link\":\"/docs/frontend/javascript/js-check-is-img-exists\",\"date\":1437411024000},{\"text\":\"HTML head 头标签笔记\",\"link\":\"/docs/frontend/html/html-head\",\"date\":1437411024000},{\"text\":\"win7 打印机共享出现 0x000006d9 错误的解决方法\",\"link\":\"/docs/os/win7-0x000006d9-error\",\"date\":1436547024000},{\"text\":\"seajs 最常用 7 个方法\",\"link\":\"/docs/frontend/javascript/7-useful-funs-in-seajs\",\"date\":1424364624000},{\"text\":\"PowerShell 笔记\",\"link\":\"/docs/os/powershell-note\",\"date\":1421071980000},{\"text\":\"对 frameset、iframe、frame 的操作\",\"link\":\"/docs/frontend/html/operations-of-frames\",\"date\":1420371624000},{\"text\":\"脚本解决 PowerDesigner 逆向工程生成 PDM 时中文注释问题\",\"link\":\"/docs/backend/ch-bugs-in-pd-reverse-project\",\"date\":1405942824000}]},\"search\":{\"provider\":\"local\",\"options\":{\"miniSearch\":{\"options\":{\"fields\":[\"title\"]}}}},\"footer\":{\"message\":\"Version 4.0-framework-1.0.0-rc.13\",\"copyright\":\"Copyright © 2014-present Wolfx 🐺\"},\"recommend\":{\"DocsHome\":[{\"name\":\"Vue2 升级 Vue3 注意点\",\"link\":\"frontend/mvvm/vue2-to-vue3-tips\"},{\"name\":\"Cordova 开发日记\",\"link\":\"frontend/hybird/cordova-dev-note-01\"},{\"name\":\"React Native 开发笔记（长期更新）\",\"link\":\"frontend/hybird/react-native-tips\"},{\"name\":\"Egret 游戏引擎学习笔记\",\"link\":\"frontend/canvas/egret-note\"},{\"name\":\"Phaser-CE 游戏引擎学习笔记\",\"link\":\"frontend/canvas/phaser-ce-note\"},{\"name\":\"iOS App 证书申请流程\",\"link\":\"frontend/hybird/ios-cert\"},{\"name\":\"Blender 学习笔记\",\"link\":\"frontend/3d/blender-01-basic\"}],\"docker-note\":[{\"name\":\"Docker 笔记(部署)\",\"link\":\"docker-note\"},{\"name\":\"Docker 笔记(构建)\",\"link\":\"docker-note-2\"},{\"name\":\"Docker 开启 Remote API 访问 2375 端口\",\"link\":\"docker-note-3\"},{\"name\":\"Docker 笔记(常用模板)\",\"link\":\"docker-note-4\"},{\"name\":\"Docker 打包 NuxtJS\",\"link\":\"docker-nuxt\"}],\"cordova-dev-note\":[{\"name\":\"Cordova 开发日记 01：环境部署\",\"link\":\"cordova-dev-note-01\"},{\"name\":\"Cordova 开发日记 02：navigation.app 和 event\",\"link\":\"cordova-dev-note-02\"},{\"name\":\"Cordova 开发日记 03：如何生成安卓 apk-release 版\",\"link\":\"cordova-dev-note-03\"},{\"name\":\"Cordova 开发日记 04：常用插件与使用\",\"link\":\"cordova-dev-note-04\"},{\"name\":\"Cordova 开发日记 05：白名单的配置和说明 Whitelist\",\"link\":\"cordova-dev-note-05\"},{\"name\":\"Cordova 开发日记 06：处理网络缓慢被墙的问题\",\"link\":\"cordova-dev-note-06\"},{\"name\":\"Cordova 开发日记 07：cordova-plugin-baidu-geolocation 定位偏差问题\",\"link\":\"cordova-dev-note-07\"},{\"name\":\"Cordova 开发日记 08：与原生 Android 交互\",\"link\":\"cordova-dev-note-08\"}],\"CentOS\":[{\"name\":\"记一个 CentOS 6 升 7\",\"link\":\"centos-6-to-7\"},{\"name\":\"CentOS 7 FAQ\",\"link\":\"centos-7-faq\"},{\"name\":\"CentOS 8 FAQ\",\"link\":\"centos-8-faq\"},{\"name\":\"CentOS 磁盘扩容\",\"link\":\"centos-disk-extend\"}],\"linux-cmd\":[{\"name\":\"Linux 常用（通用）命令整理\",\"link\":\"linux-cmds\"},{\"name\":\"Linux traceroute 命令排查网络状况\",\"link\":\"linux-traceroute\"}],\"blender\":[{\"name\":\"Blender 笔记01: 基本操作和编辑模式\",\"link\":\"blender-01-basic\"},{\"name\":\"Blender 笔记02: 修改器\",\"link\":\"blender-02-modify\"},{\"name\":\"Blender 笔记03: 建模篇\",\"link\":\"blender-03-modeling\"}],\"canvas\":[{\"name\":\"Canvas 笔记\",\"link\":\"canvas-note\"},{\"name\":\"Canvas 事件系统的思考\",\"link\":\"canvas-note2\"},{\"name\":\"Fabric.js 补充笔记\",\"link\":\"fabric\"}],\"React-Native\":[{\"name\":\"React Native 开发笔记\",\"link\":\"react-native-tips\"},{\"name\":\"React-Navigation 使用笔记\",\"link\":\"react-navigation-note\"}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>