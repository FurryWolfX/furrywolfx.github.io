<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>坐标系转换算法与投影算法 | Legend Of WolfX</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <script src="/warning.js"></script>
    <meta name="description" content="

火星坐标是国家测绘局为了国家安全在原始坐标的基础上进行偏移得到的坐标，基本国内的电子地图、导航设备都是采用的这一坐标系或在这一坐标的基础上进行二次加密得到的。
火星坐标的真实名称应该是 GCJ-02 坐标。基本上所有的国内的电子地图采用的都是火星坐标系甚至 Google 地图中国部分都特意为中国政府做了偏移。

百度坐标

火星坐标是在国际标准坐标 WGS-84 上进行的一次加密，由于国内 ...">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    
    <link rel="preload" href="/assets/css/0.styles.bc3aed26.css" as="style"><link rel="preload" href="/assets/js/app.1da0bb69.js" as="script"><link rel="preload" href="/assets/js/14.55e4c550.js" as="script"><link rel="preload" href="/assets/js/7.84f6b2a8.js" as="script"><link rel="preload" href="/assets/js/77.30598a8c.js" as="script"><link rel="prefetch" href="/assets/js/10.5705640b.js"><link rel="prefetch" href="/assets/js/100.2d4d9e7d.js"><link rel="prefetch" href="/assets/js/101.f63a89bb.js"><link rel="prefetch" href="/assets/js/102.c939cad6.js"><link rel="prefetch" href="/assets/js/103.e87a1952.js"><link rel="prefetch" href="/assets/js/104.e613c484.js"><link rel="prefetch" href="/assets/js/105.13322646.js"><link rel="prefetch" href="/assets/js/106.0b5207e5.js"><link rel="prefetch" href="/assets/js/107.a1c332ed.js"><link rel="prefetch" href="/assets/js/108.c414da2f.js"><link rel="prefetch" href="/assets/js/109.8f83e939.js"><link rel="prefetch" href="/assets/js/11.45b718df.js"><link rel="prefetch" href="/assets/js/110.6e8b7546.js"><link rel="prefetch" href="/assets/js/111.47ddfaea.js"><link rel="prefetch" href="/assets/js/112.b43fd0a3.js"><link rel="prefetch" href="/assets/js/113.adfb2c3f.js"><link rel="prefetch" href="/assets/js/114.ceb439a8.js"><link rel="prefetch" href="/assets/js/115.7338874a.js"><link rel="prefetch" href="/assets/js/116.084363c7.js"><link rel="prefetch" href="/assets/js/117.c479ea70.js"><link rel="prefetch" href="/assets/js/118.740418fa.js"><link rel="prefetch" href="/assets/js/119.7977d3a4.js"><link rel="prefetch" href="/assets/js/12.52e6b565.js"><link rel="prefetch" href="/assets/js/120.bf8a6cc1.js"><link rel="prefetch" href="/assets/js/121.7f4e2649.js"><link rel="prefetch" href="/assets/js/122.892416f9.js"><link rel="prefetch" href="/assets/js/123.6f659ecf.js"><link rel="prefetch" href="/assets/js/124.e73898a1.js"><link rel="prefetch" href="/assets/js/125.c883bf63.js"><link rel="prefetch" href="/assets/js/126.eaf1e632.js"><link rel="prefetch" href="/assets/js/127.c3383c38.js"><link rel="prefetch" href="/assets/js/128.09c5fd68.js"><link rel="prefetch" href="/assets/js/129.5da002f2.js"><link rel="prefetch" href="/assets/js/13.2d8ff702.js"><link rel="prefetch" href="/assets/js/130.009adfbc.js"><link rel="prefetch" href="/assets/js/131.ed2e07f2.js"><link rel="prefetch" href="/assets/js/132.85c71e26.js"><link rel="prefetch" href="/assets/js/133.6bf319f6.js"><link rel="prefetch" href="/assets/js/134.91dadb77.js"><link rel="prefetch" href="/assets/js/135.5ced86b0.js"><link rel="prefetch" href="/assets/js/136.d1943bf5.js"><link rel="prefetch" href="/assets/js/137.d712710c.js"><link rel="prefetch" href="/assets/js/138.8621c889.js"><link rel="prefetch" href="/assets/js/139.7c6e757e.js"><link rel="prefetch" href="/assets/js/140.713b765b.js"><link rel="prefetch" href="/assets/js/141.b8426937.js"><link rel="prefetch" href="/assets/js/142.4140c467.js"><link rel="prefetch" href="/assets/js/143.5720dd6a.js"><link rel="prefetch" href="/assets/js/144.5b2afd9d.js"><link rel="prefetch" href="/assets/js/145.fab879c4.js"><link rel="prefetch" href="/assets/js/146.e518355c.js"><link rel="prefetch" href="/assets/js/147.aca6d356.js"><link rel="prefetch" href="/assets/js/148.9a7784e5.js"><link rel="prefetch" href="/assets/js/149.47385d5b.js"><link rel="prefetch" href="/assets/js/15.cbf6ad4a.js"><link rel="prefetch" href="/assets/js/150.59354d20.js"><link rel="prefetch" href="/assets/js/151.160dfb19.js"><link rel="prefetch" href="/assets/js/152.3468e19f.js"><link rel="prefetch" href="/assets/js/153.b4b91d42.js"><link rel="prefetch" href="/assets/js/154.7a92a4cd.js"><link rel="prefetch" href="/assets/js/155.504e7237.js"><link rel="prefetch" href="/assets/js/156.4b2fd82d.js"><link rel="prefetch" href="/assets/js/157.e0c1fce1.js"><link rel="prefetch" href="/assets/js/158.e9e96399.js"><link rel="prefetch" href="/assets/js/159.a828861d.js"><link rel="prefetch" href="/assets/js/16.14d57789.js"><link rel="prefetch" href="/assets/js/160.f9a3384b.js"><link rel="prefetch" href="/assets/js/161.3db0d003.js"><link rel="prefetch" href="/assets/js/162.4adb9cd5.js"><link rel="prefetch" href="/assets/js/163.4e497f08.js"><link rel="prefetch" href="/assets/js/164.61857252.js"><link rel="prefetch" href="/assets/js/165.607930a2.js"><link rel="prefetch" href="/assets/js/166.94ac84d2.js"><link rel="prefetch" href="/assets/js/167.5a2af554.js"><link rel="prefetch" href="/assets/js/168.c72baabc.js"><link rel="prefetch" href="/assets/js/169.a6afeb03.js"><link rel="prefetch" href="/assets/js/17.747906fb.js"><link rel="prefetch" href="/assets/js/170.1cec3ae7.js"><link rel="prefetch" href="/assets/js/171.f61f0bc5.js"><link rel="prefetch" href="/assets/js/172.38588344.js"><link rel="prefetch" href="/assets/js/173.4d97e8fd.js"><link rel="prefetch" href="/assets/js/174.0537bcc9.js"><link rel="prefetch" href="/assets/js/175.465e29e0.js"><link rel="prefetch" href="/assets/js/176.9d386c25.js"><link rel="prefetch" href="/assets/js/177.dbe53764.js"><link rel="prefetch" href="/assets/js/178.b2883b56.js"><link rel="prefetch" href="/assets/js/179.acb4961f.js"><link rel="prefetch" href="/assets/js/18.40a8d0d2.js"><link rel="prefetch" href="/assets/js/180.aaad2c2c.js"><link rel="prefetch" href="/assets/js/181.439040e4.js"><link rel="prefetch" href="/assets/js/182.85f38b4d.js"><link rel="prefetch" href="/assets/js/183.593806cf.js"><link rel="prefetch" href="/assets/js/184.42bc8c2f.js"><link rel="prefetch" href="/assets/js/185.9606126b.js"><link rel="prefetch" href="/assets/js/186.8ac37809.js"><link rel="prefetch" href="/assets/js/187.aadb7ee1.js"><link rel="prefetch" href="/assets/js/188.0e551305.js"><link rel="prefetch" href="/assets/js/189.efde0ed0.js"><link rel="prefetch" href="/assets/js/19.323323fe.js"><link rel="prefetch" href="/assets/js/190.eb299bed.js"><link rel="prefetch" href="/assets/js/191.c7155e3f.js"><link rel="prefetch" href="/assets/js/192.47ea9532.js"><link rel="prefetch" href="/assets/js/193.dd76fbb7.js"><link rel="prefetch" href="/assets/js/194.268b45ff.js"><link rel="prefetch" href="/assets/js/195.3b4859d3.js"><link rel="prefetch" href="/assets/js/196.bbf544cb.js"><link rel="prefetch" href="/assets/js/197.9a206eea.js"><link rel="prefetch" href="/assets/js/198.3cda3f6b.js"><link rel="prefetch" href="/assets/js/199.914d8feb.js"><link rel="prefetch" href="/assets/js/20.01c11e5d.js"><link rel="prefetch" href="/assets/js/200.d48df64f.js"><link rel="prefetch" href="/assets/js/201.9e1cab4a.js"><link rel="prefetch" href="/assets/js/202.1078a481.js"><link rel="prefetch" href="/assets/js/203.afd69b72.js"><link rel="prefetch" href="/assets/js/204.c9678a25.js"><link rel="prefetch" href="/assets/js/205.1eb51746.js"><link rel="prefetch" href="/assets/js/206.0ad0944a.js"><link rel="prefetch" href="/assets/js/207.ea100082.js"><link rel="prefetch" href="/assets/js/208.faacb980.js"><link rel="prefetch" href="/assets/js/209.61c93638.js"><link rel="prefetch" href="/assets/js/21.6c532828.js"><link rel="prefetch" href="/assets/js/210.5beea1d1.js"><link rel="prefetch" href="/assets/js/211.b7e288c0.js"><link rel="prefetch" href="/assets/js/212.76f985ec.js"><link rel="prefetch" href="/assets/js/213.b3e0249c.js"><link rel="prefetch" href="/assets/js/214.95f23932.js"><link rel="prefetch" href="/assets/js/215.82d98623.js"><link rel="prefetch" href="/assets/js/216.af951190.js"><link rel="prefetch" href="/assets/js/217.20f0231b.js"><link rel="prefetch" href="/assets/js/218.3ccdc462.js"><link rel="prefetch" href="/assets/js/22.1038e00c.js"><link rel="prefetch" href="/assets/js/23.1c93cbb8.js"><link rel="prefetch" href="/assets/js/24.f6db29c9.js"><link rel="prefetch" href="/assets/js/25.c8af1a26.js"><link rel="prefetch" href="/assets/js/26.2671fe16.js"><link rel="prefetch" href="/assets/js/27.70790a29.js"><link rel="prefetch" href="/assets/js/28.16cb6531.js"><link rel="prefetch" href="/assets/js/29.a5667c90.js"><link rel="prefetch" href="/assets/js/3.004e578d.js"><link rel="prefetch" href="/assets/js/30.b2b4a71e.js"><link rel="prefetch" href="/assets/js/31.b98c1637.js"><link rel="prefetch" href="/assets/js/32.09fe6a62.js"><link rel="prefetch" href="/assets/js/33.b449fdc8.js"><link rel="prefetch" href="/assets/js/34.caabbdde.js"><link rel="prefetch" href="/assets/js/35.2fc3469f.js"><link rel="prefetch" href="/assets/js/36.c32f595b.js"><link rel="prefetch" href="/assets/js/37.5336f1f2.js"><link rel="prefetch" href="/assets/js/38.5f6134ef.js"><link rel="prefetch" href="/assets/js/39.1fa405e9.js"><link rel="prefetch" href="/assets/js/4.983e1af9.js"><link rel="prefetch" href="/assets/js/40.01e58999.js"><link rel="prefetch" href="/assets/js/41.87ee5a6e.js"><link rel="prefetch" href="/assets/js/42.dc0bc6ff.js"><link rel="prefetch" href="/assets/js/43.8afe1fbd.js"><link rel="prefetch" href="/assets/js/44.dd42bcb3.js"><link rel="prefetch" href="/assets/js/45.89bec802.js"><link rel="prefetch" href="/assets/js/46.d89df8af.js"><link rel="prefetch" href="/assets/js/47.252b6136.js"><link rel="prefetch" href="/assets/js/48.9d1bb3b5.js"><link rel="prefetch" href="/assets/js/49.903ae125.js"><link rel="prefetch" href="/assets/js/5.01b03d8b.js"><link rel="prefetch" href="/assets/js/50.df4d83a9.js"><link rel="prefetch" href="/assets/js/51.da553037.js"><link rel="prefetch" href="/assets/js/52.a2461360.js"><link rel="prefetch" href="/assets/js/53.9fb017ae.js"><link rel="prefetch" href="/assets/js/54.d14f55cf.js"><link rel="prefetch" href="/assets/js/55.f0d0480c.js"><link rel="prefetch" href="/assets/js/56.2e8e0123.js"><link rel="prefetch" href="/assets/js/57.652cb71c.js"><link rel="prefetch" href="/assets/js/58.84152000.js"><link rel="prefetch" href="/assets/js/59.9bdbe8f7.js"><link rel="prefetch" href="/assets/js/6.17f05b35.js"><link rel="prefetch" href="/assets/js/60.b6dab2bd.js"><link rel="prefetch" href="/assets/js/61.a534cf3d.js"><link rel="prefetch" href="/assets/js/62.136519bc.js"><link rel="prefetch" href="/assets/js/63.e90ff090.js"><link rel="prefetch" href="/assets/js/64.8cd98701.js"><link rel="prefetch" href="/assets/js/65.c2884dbc.js"><link rel="prefetch" href="/assets/js/66.9784539a.js"><link rel="prefetch" href="/assets/js/67.77c03cd9.js"><link rel="prefetch" href="/assets/js/68.4c2cc0fb.js"><link rel="prefetch" href="/assets/js/69.f69635d4.js"><link rel="prefetch" href="/assets/js/70.d710e533.js"><link rel="prefetch" href="/assets/js/71.4ae26767.js"><link rel="prefetch" href="/assets/js/72.cf9fed14.js"><link rel="prefetch" href="/assets/js/73.c2cf15b4.js"><link rel="prefetch" href="/assets/js/74.64eade6c.js"><link rel="prefetch" href="/assets/js/75.ce36f4ae.js"><link rel="prefetch" href="/assets/js/76.2a33c53b.js"><link rel="prefetch" href="/assets/js/78.13ea9b24.js"><link rel="prefetch" href="/assets/js/79.513e9542.js"><link rel="prefetch" href="/assets/js/8.391bc43b.js"><link rel="prefetch" href="/assets/js/80.24a46d34.js"><link rel="prefetch" href="/assets/js/81.d501b813.js"><link rel="prefetch" href="/assets/js/82.f77baa5a.js"><link rel="prefetch" href="/assets/js/83.91e67b27.js"><link rel="prefetch" href="/assets/js/84.ba3475bb.js"><link rel="prefetch" href="/assets/js/85.e8257972.js"><link rel="prefetch" href="/assets/js/86.5c268be9.js"><link rel="prefetch" href="/assets/js/87.a14bfa50.js"><link rel="prefetch" href="/assets/js/88.8351780b.js"><link rel="prefetch" href="/assets/js/89.b80410f1.js"><link rel="prefetch" href="/assets/js/9.e55936b5.js"><link rel="prefetch" href="/assets/js/90.e4767763.js"><link rel="prefetch" href="/assets/js/91.4c365bab.js"><link rel="prefetch" href="/assets/js/92.16884dfa.js"><link rel="prefetch" href="/assets/js/93.11b1a584.js"><link rel="prefetch" href="/assets/js/94.a60282fc.js"><link rel="prefetch" href="/assets/js/95.b04abb7d.js"><link rel="prefetch" href="/assets/js/96.66e176dd.js"><link rel="prefetch" href="/assets/js/97.f8b0eadc.js"><link rel="prefetch" href="/assets/js/98.4bb86b04.js"><link rel="prefetch" href="/assets/js/99.7d438189.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.0d3d3514.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bc3aed26.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link"><span class="site-title" data-v-2a8e05ba>Legend Of WolfX</span></a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">
              Blog
            </a></li><li class="nav-item"><a href="/tag/" class="nav-link">
              Tags
            </a></li><li class="nav-item"><a href="/about/" class="nav-link">
              About
            </a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">Legend Of WolfX </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">Tags</a></li><li class="mobile-nav-item"><a href="/about/" class="nav-link">About</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        坐标系转换算法与投影算法
      </h1> <div class="post-meta"><!----> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2019-11-27T16:50:24.000Z">
      2019-11-28
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-25dfc3b6><a href="/tag/GIS" data-v-25dfc3b6> GIS </a></li><li class="post-tag" data-v-25dfc3b6><a href="/tag/JavaScript" data-v-25dfc3b6> JavaScript </a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h1 id="火星坐标"><a href="#火星坐标" class="header-anchor">#</a> 火星坐标</h1> <p>火星坐标是国家测绘局为了国家安全在原始坐标的基础上进行偏移得到的坐标，基本国内的电子地图、导航设备都是采用的这一坐标系或在这一坐标的基础上进行二次加密得到的。
火星坐标的真实名称应该是 GCJ-02 坐标。基本上所有的国内的电子地图采用的都是火星坐标系甚至 Google 地图中国部分都特意为中国政府做了偏移。</p> <h1 id="百度坐标"><a href="#百度坐标" class="header-anchor">#</a> 百度坐标</h1> <p>火星坐标是在国际标准坐标 WGS-84 上进行的一次加密，由于国内的电子地图都要至少使用火星坐标进行一次加密，百度直接就任性一些，直接自己又研究了一套加密算法，来了个
二次加密，这就是我们所熟知的百度坐标(BD-09)。</p> <h1 id="wgs-84-坐标"><a href="#wgs-84-坐标" class="header-anchor">#</a> WGS-84 坐标</h1> <p>WGS-84 坐标是一个国际的标准，一般卫星导航，原始的 GPS 设备中的数据都是采用这一坐标系。
国外的 Google 地图、OSM 等采用的都是这一坐标。</p> <h1 id="node-js-库推荐"><a href="#node-js-库推荐" class="header-anchor">#</a> Node.js 库推荐</h1> <p>一个提供了百度坐标（BD09）、国测局坐标（火星坐标，GCJ02）、和 WGS84 坐标系之间的转换的工具模块。</p> <p><a href="https://www.npmjs.com/package/coordtransform" target="_blank" rel="noopener noreferrer">coordtransform<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="墨卡托投影"><a href="#墨卡托投影" class="header-anchor">#</a> 墨卡托投影</h1> <p>墨卡托投影（Mercator Projection）— 等角正轴切圆柱投影</p> <p>由荷兰地图学家墨卡托（G. Mercator）于 1569 年创拟，为地图投影方法中影响最大的，又称正轴等角圆柱投影。</p> <p>假设地球被围在一中空的圆柱里，其基准纬线与圆柱相切（赤道）接触，然后再假想地球中心有一盏灯，把球面上的图形投影到圆柱体上，再把圆柱体展开，这就是一幅选定基准纬线上的“墨卡托投影”绘制出的地图。</p> <p>墨卡托投影特点：</p> <p>1、没有角度变形，由每一点向各方向的长度比相等；</p> <p>2、经纬线都是平行直线，且相交成直角；经线间隔相等，纬线间隔从基准纬线处向两极逐渐增大。</p> <p>3、长度和面积变形明显，但基准纬线处无变形，变形从基准纬线处向两极变形逐渐增大，但因为它具有各个方向均等扩大的特性，保持了方向和相互位置关系的正确。</p> <p>在地图上保持方向和角度的正确是墨卡托投影的优点，墨卡托投影地图常用作航海图和航空图，如果循着墨卡托投影图上两点间的直线航行，方向不变可以一直到达目的地，因此它对船舰在航行中定位、确定航向都具有有利条件，给航海者带来很大方便。</p> <p>百度地图和 Google Maps 使用的投影方法都是墨卡托投影。</p> <p><img src="https://imgs-1251264059.cos.ap-chengdu.myqcloud.com/e88abd64-9814-443c-a78f-da390341f60b.png" alt="墨卡托投影"></p> <h2 id="经纬度转墨卡托投影坐标"><a href="#经纬度转墨卡托投影坐标" class="header-anchor">#</a> 经纬度转墨卡托投影坐标</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/*
WGS84经纬度转墨卡托投影坐标，貌似1px相当于1m
平面坐标x = 经度*20037508.34/180
平面坐标y = log（tan（（90+纬度）*PI/360））/（PI/180）*20037508.34/180
*/</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">lonlatToMercator</span><span class="token punctuation">(</span><span class="token parameter">lon<span class="token punctuation">,</span> lat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">(</span>lon <span class="token operator">*</span> <span class="token number">20037508.34</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> y <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">tan</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">90</span> <span class="token operator">+</span> lat<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">360</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  y <span class="token operator">=</span> <span class="token punctuation">(</span>y <span class="token operator">*</span> <span class="token number">20037508.34</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
墨卡托投影坐标转WGS84经纬度坐标
经度 = 平面坐标x/20037508.34*180
纬度 = 180/(PI*(2*atan(exp(平面坐标y/20037508.34*180*PI/180))-PI/2)
*/</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">mercatorToLonlat</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> lon <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">/</span> <span class="token number">20037508.34</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">180</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> lat <span class="token operator">=</span> <span class="token punctuation">(</span>y <span class="token operator">/</span> <span class="token number">20037508.34</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">180</span><span class="token punctuation">;</span>
  lat <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">180</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">atan</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">exp</span><span class="token punctuation">(</span><span class="token punctuation">(</span>lat <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> lon<span class="token punctuation">,</span> lat <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h1 id="utm-投影"><a href="#utm-投影" class="header-anchor">#</a> UTM 投影</h1> <p>UTM 投影全称为“通用横轴墨卡托投影”(UNIVERSAL TRANSVERSE MERCATOR PROJECTION)，是一种“等角横轴割圆柱投影”，椭圆柱割地球于南纬 80 度、北纬 84 度两条等高圈，投影后两条相割的经线上没有变形，而中央经线上长度比 0.9996。
UTM 投影是为了全球战争需要创建的，美国于 1948 年完成这种通用投影系统的计算。
与高斯-克吕格投影相似，该投影角度没有变形，中央经线为直线，且为投影的对称轴，中央经线的比例因子取 0.9996 是为了保证离中央经线左右约 180km 处有两条不失真的标准经线。
UTM 投影分带方法与高斯-克吕格投影相似，将北纬 84 度至南纬 80 度之间按经度分为 60 个带,每带 6 度.从西经 180 度起算,两条标准经线距中央经线为 180KM 左右,中央经线比例系数为 0.9996.</p> <h1 id="高斯-克吕格投影"><a href="#高斯-克吕格投影" class="header-anchor">#</a> 高斯-克吕格投影</h1> <p>高斯-克吕格投影（Gauss - Kruger projection）——等角横轴切椭圆柱投影</p> <p>由德国数学家、物理学家、天文学家高斯于 19 世纪 20 年代拟定，后经德国大地测量学家克吕格于 1912 年对投影公式加以补充，故称为高斯-克吕格投影。</p> <p>高斯-克吕格投影即等角横切椭圆柱投影。假想用一个椭圆柱横切于地球椭球体的某一经线上，这条与圆柱面相切的经线，称中央经线。以中央经线为投影的对称轴，将东西各 3° 或 1°30′的两条子午线所夹经差 6° 或 3° 的带状地区按数学法则、投影法则投影到圆柱面上，再展开成平面，即高斯-克吕格投影，简称高斯投影。这个狭长的带状的经纬线网叫做高斯-克吕格投影带。</p> <p>高斯-克吕格投影特点：</p> <p>1、中央子午线是直线，其长度不变形；其他子午线是凹向中央子午线的弧线，并以中央子午线为对称轴；</p> <p>2、赤道线是直线，但有长度变形；其他纬线为凸向赤道的弧线，并以赤道为对称轴；</p> <p>3、经线和纬线投影后仍然保持正交；</p> <p>4、离开中央子午线越远，变形越大。</p> <p>若采用分带投影的方法，可使投影边缘的变形不致过大。我国各种大、中比例尺地形图采用了不同的高斯-克吕格投影带。其中大于 1:1 万的地形图采用 3° 带；1:2.5 万至 1:50 万的地形图采用 6° 带。</p> <h2 id="正算公式"><a href="#正算公式" class="header-anchor">#</a> 正算公式</h2> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">gaussBLtoXY</span><span class="token punctuation">(</span><span class="token keyword">double</span> longitude<span class="token punctuation">,</span><span class="token keyword">double</span> latitude<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> <span class="token class-name">ProjNo</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 带宽</span>
    <span class="token keyword">int</span> <span class="token class-name">ZoneWide</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

    <span class="token keyword">double</span> longitude1<span class="token punctuation">,</span> latitude1<span class="token punctuation">,</span> longitude0<span class="token punctuation">,</span> X0<span class="token punctuation">,</span> Y0<span class="token punctuation">,</span> xval<span class="token punctuation">,</span> yval<span class="token punctuation">;</span>
    <span class="token keyword">double</span> a<span class="token punctuation">,</span> f<span class="token punctuation">,</span> e2<span class="token punctuation">,</span> ee<span class="token punctuation">,</span> NN<span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">C</span><span class="token punctuation">,</span> <span class="token class-name">A</span><span class="token punctuation">,</span> <span class="token class-name">M</span><span class="token punctuation">,</span> iPI<span class="token punctuation">;</span>

    <span class="token comment">// 3.1415926535898/180.0;</span>
    iPI <span class="token operator">=</span> <span class="token number">0.0174532925199433</span><span class="token punctuation">;</span>

    <span class="token comment">// 54年北京坐标系参数</span>
    a <span class="token operator">=</span> <span class="token number">6378245.0</span><span class="token punctuation">;</span>
    f <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">298.3</span><span class="token punctuation">;</span>

    <span class="token comment">// 80年西安坐标系参数</span>
    <span class="token comment">// a=6378140.0;</span>
    <span class="token comment">// f=1/298.257;</span>

    <span class="token class-name">ProjNo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>longitude <span class="token operator">/</span> <span class="token class-name">ZoneWide</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    longitude0 <span class="token operator">=</span> <span class="token class-name">ProjNo</span> <span class="token operator">*</span> <span class="token class-name">ZoneWide</span> <span class="token operator">+</span> <span class="token class-name">ZoneWide</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
    longitude0 <span class="token operator">=</span> longitude0 <span class="token operator">*</span> iPI<span class="token punctuation">;</span>

    <span class="token comment">// 经度转换为弧度</span>
    longitude1 <span class="token operator">=</span> longitude <span class="token operator">*</span> iPI<span class="token punctuation">;</span>

    <span class="token comment">// 纬度转换为弧度</span>
    latitude1 <span class="token operator">=</span> latitude <span class="token operator">*</span> iPI<span class="token punctuation">;</span>

    e2 <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> f <span class="token operator">-</span> f <span class="token operator">*</span> f<span class="token punctuation">;</span>
    ee <span class="token operator">=</span> e2 <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">-</span> e2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    NN <span class="token operator">=</span> a <span class="token operator">/</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">-</span> e2 <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>latitude1<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>latitude1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">T</span> <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">tan</span><span class="token punctuation">(</span>latitude1<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">tan</span><span class="token punctuation">(</span>latitude1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">C</span> <span class="token operator">=</span> ee <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>latitude1<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>latitude1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">A</span> <span class="token operator">=</span> <span class="token punctuation">(</span>longitude1 <span class="token operator">-</span> longitude0<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>latitude1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">M</span> <span class="token operator">=</span> a <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e2 <span class="token operator">/</span> <span class="token number">4</span> <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">/</span> <span class="token number">64</span> <span class="token operator">-</span> <span class="token number">5</span> <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">/</span> <span class="token number">256</span><span class="token punctuation">)</span> <span class="token operator">*</span> latitude1 <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> e2 <span class="token operator">/</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">/</span> <span class="token number">32</span> <span class="token operator">+</span> <span class="token number">45</span> <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> latitude1<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">/</span> <span class="token number">256</span> <span class="token operator">+</span> <span class="token number">45</span> <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> latitude1<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">35</span> <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">/</span> <span class="token number">3072</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">6</span> <span class="token operator">*</span> latitude1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    xval <span class="token operator">=</span> NN <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token class-name">A</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token class-name">T</span> <span class="token operator">+</span> <span class="token class-name">C</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">/</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">-</span> <span class="token number">18</span> <span class="token operator">*</span> <span class="token class-name">T</span> <span class="token operator">+</span> <span class="token class-name">T</span> <span class="token operator">*</span> <span class="token class-name">T</span> <span class="token operator">+</span> <span class="token number">72</span> <span class="token operator">*</span> <span class="token class-name">C</span> <span class="token operator">-</span> <span class="token number">58</span> <span class="token operator">*</span> ee<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">/</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    yval <span class="token operator">=</span> <span class="token class-name">M</span> <span class="token operator">+</span> NN <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">tan</span><span class="token punctuation">(</span>latitude1<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">-</span> <span class="token class-name">T</span> <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token class-name">C</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token class-name">C</span> <span class="token operator">*</span> <span class="token class-name">C</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">/</span> <span class="token number">24</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">61</span> <span class="token operator">-</span> <span class="token number">58</span> <span class="token operator">*</span> <span class="token class-name">T</span> <span class="token operator">+</span> <span class="token class-name">T</span> <span class="token operator">*</span> <span class="token class-name">T</span> <span class="token operator">+</span> <span class="token number">600</span> <span class="token operator">*</span> <span class="token class-name">C</span> <span class="token operator">-</span> <span class="token number">330</span> <span class="token operator">*</span> ee<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">*</span> <span class="token class-name">A</span> <span class="token operator">/</span> <span class="token number">720</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    X0 <span class="token operator">=</span> <span class="token number">1000000</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token class-name">ProjNo</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">500000</span><span class="token punctuation">;</span>
    Y0 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    xval <span class="token operator">=</span> xval <span class="token operator">+</span> X0<span class="token punctuation">;</span>
    yval <span class="token operator">=</span> yval <span class="token operator">+</span> Y0<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> xval<span class="token punctuation">,</span> yval <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h2 id="反算公式"><a href="#反算公式" class="header-anchor">#</a> 反算公式</h2> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">gaussXYtoBL</span><span class="token punctuation">(</span><span class="token keyword">double</span> <span class="token class-name">X</span><span class="token punctuation">,</span><span class="token keyword">double</span> <span class="token class-name">Y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> <span class="token class-name">ProjNo</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token class-name">ZoneWide</span><span class="token punctuation">;</span> <span class="token comment">// //带宽</span>
    <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> output <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">double</span> longitude1<span class="token punctuation">,</span> latitude1<span class="token punctuation">,</span> longitude0<span class="token punctuation">,</span> X0<span class="token punctuation">,</span> Y0<span class="token punctuation">,</span> xval<span class="token punctuation">,</span> yval<span class="token punctuation">;</span><span class="token comment">// latitude0,</span>
    <span class="token keyword">double</span> e1<span class="token punctuation">,</span> e2<span class="token punctuation">,</span> f<span class="token punctuation">,</span> a<span class="token punctuation">,</span> ee<span class="token punctuation">,</span> NN<span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">C</span><span class="token punctuation">,</span> <span class="token class-name">M</span><span class="token punctuation">,</span> <span class="token class-name">D</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">,</span> u<span class="token punctuation">,</span> fai<span class="token punctuation">,</span> iPI<span class="token punctuation">;</span>
    iPI <span class="token operator">=</span> <span class="token number">0.0174532925199433</span><span class="token punctuation">;</span> <span class="token comment">// //3.1415926535898/180.0;</span>
    a <span class="token operator">=</span> <span class="token number">6378245.0</span><span class="token punctuation">;</span> f <span class="token operator">=</span> <span class="token number">1.0</span><span class="token operator">/</span><span class="token number">298.3</span><span class="token punctuation">;</span> <span class="token comment">//54年北京坐标系参数</span>
    <span class="token comment">//a = 6378140.0;</span>
    <span class="token comment">//f = 1 / 298.257; // 80年西安坐标系参数</span>
    <span class="token comment">// 54年北京坐标系参数</span>

    <span class="token class-name">ZoneWide</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">// //6度带宽</span>
    <span class="token class-name">ProjNo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token class-name">X</span> <span class="token operator">/</span> <span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 查找带号</span>
    longitude0 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ProjNo</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">ZoneWide</span> <span class="token operator">+</span> <span class="token class-name">ZoneWide</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
    longitude0 <span class="token operator">=</span> longitude0 <span class="token operator">*</span> iPI<span class="token punctuation">;</span> <span class="token comment">// 中央经线</span>

    X0 <span class="token operator">=</span> <span class="token class-name">ProjNo</span> <span class="token operator">*</span> <span class="token number">1000000</span> <span class="token operator">+</span> <span class="token number">500000</span><span class="token punctuation">;</span>
    Y0 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    xval <span class="token operator">=</span> <span class="token class-name">X</span> <span class="token operator">-</span> X0<span class="token punctuation">;</span>
    yval <span class="token operator">=</span> <span class="token class-name">Y</span> <span class="token operator">-</span> Y0<span class="token punctuation">;</span> <span class="token comment">// 带内大地坐标</span>
    e2 <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> f <span class="token operator">-</span> f <span class="token operator">*</span> f<span class="token punctuation">;</span>
    e1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">-</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">+</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ee <span class="token operator">=</span> e2 <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">M</span> <span class="token operator">=</span> yval<span class="token punctuation">;</span>
    u <span class="token operator">=</span> <span class="token class-name">M</span> <span class="token operator">/</span> <span class="token punctuation">(</span>a <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e2 <span class="token operator">/</span> <span class="token number">4</span> <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">/</span> <span class="token number">64</span> <span class="token operator">-</span> <span class="token number">5</span> <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">*</span> e2 <span class="token operator">/</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fai <span class="token operator">=</span> u <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> e1 <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">27</span> <span class="token operator">*</span> e1 <span class="token operator">*</span> e1 <span class="token operator">*</span> e1 <span class="token operator">/</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> u<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">21</span> <span class="token operator">*</span> e1 <span class="token operator">*</span> e1 <span class="token operator">/</span> <span class="token number">16</span> <span class="token operator">-</span> <span class="token number">55</span> <span class="token operator">*</span> e1 <span class="token operator">*</span> e1 <span class="token operator">*</span> e1 <span class="token operator">*</span> e1 <span class="token operator">/</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> u<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">151</span> <span class="token operator">*</span> e1 <span class="token operator">*</span> e1 <span class="token operator">*</span> e1 <span class="token operator">/</span> <span class="token number">96</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">6</span> <span class="token operator">*</span> u<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1097</span> <span class="token operator">*</span> e1 <span class="token operator">*</span> e1 <span class="token operator">*</span> e1 <span class="token operator">*</span> e1 <span class="token operator">/</span> <span class="token number">512</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">8</span> <span class="token operator">*</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">C</span> <span class="token operator">=</span> ee <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">T</span> <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">tan</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">tan</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span><span class="token punctuation">;</span>
    NN <span class="token operator">=</span> a <span class="token operator">/</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">-</span> e2 <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">R</span> <span class="token operator">=</span> a <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e2<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e2 <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e2 <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e2 <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">D</span> <span class="token operator">=</span> xval <span class="token operator">/</span> NN<span class="token punctuation">;</span>
    <span class="token comment">// 计算经度(Longitude) 纬度(Latitude)</span>
    longitude1 <span class="token operator">=</span> longitude0 <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">D</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token class-name">T</span> <span class="token operator">+</span> <span class="token class-name">C</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">/</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token class-name">C</span> <span class="token operator">+</span> <span class="token number">28</span> <span class="token operator">*</span> <span class="token class-name">T</span> <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token class-name">C</span> <span class="token operator">*</span> <span class="token class-name">C</span> <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">*</span> ee <span class="token operator">+</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token class-name">T</span> <span class="token operator">*</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">/</span> <span class="token number">120</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span><span class="token punctuation">;</span>
    latitude1 <span class="token operator">=</span> fai <span class="token operator">-</span> <span class="token punctuation">(</span>NN <span class="token operator">*</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">tan</span><span class="token punctuation">(</span>fai<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token class-name">R</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token class-name">T</span> <span class="token operator">+</span> <span class="token number">10</span> <span class="token operator">*</span> <span class="token class-name">C</span> <span class="token operator">-</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token class-name">C</span> <span class="token operator">*</span> <span class="token class-name">C</span> <span class="token operator">-</span> <span class="token number">9</span> <span class="token operator">*</span> ee<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">/</span> <span class="token number">24</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">61</span> <span class="token operator">+</span> <span class="token number">90</span> <span class="token operator">*</span> <span class="token class-name">T</span> <span class="token operator">+</span> <span class="token number">298</span> <span class="token operator">*</span> <span class="token class-name">C</span> <span class="token operator">+</span> <span class="token number">45</span> <span class="token operator">*</span> <span class="token class-name">T</span> <span class="token operator">*</span> <span class="token class-name">T</span> <span class="token operator">-</span> <span class="token number">256</span> <span class="token operator">*</span> ee <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token class-name">C</span> <span class="token operator">*</span> <span class="token class-name">C</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">*</span> <span class="token class-name">D</span> <span class="token operator">/</span> <span class="token number">720</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 转换为度 DD</span>
    output<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> longitude1 <span class="token operator">/</span> iPI<span class="token punctuation">;</span>
    output<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> latitude1 <span class="token operator">/</span> iPI<span class="token punctuation">;</span>
    <span class="token keyword">return</span> output<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h1 id="兰伯特等角圆锥投影"><a href="#兰伯特等角圆锥投影" class="header-anchor">#</a> 兰伯特等角圆锥投影</h1> <p>兰伯特等角圆锥投影也称兰勃脱正形圆锥投影，该投影的微分圆投影后仍为圆形。经线为辐射直线，纬线为同心圆圆弧。指定两条标准纬度线 Q1，Q2，在这两条纬度线上没有长度变形,即 M=N=1。此种投影也叫等角割圆锥投影，可用来编制中，小比例尺地图。等角圆锥投影有广泛的应用，特别适宜于作为中纬度处沿纬度线伸展的制图区域之投影，投影后经线为辐射直线,纬度线为同心圆圆弧。我国的分省图，即为两条标准纬度线为 Q1=25 度，Q2=45 度的兰伯特等角圆锥投影。1962 年以后，百万分一地图采用了等角圆锥投影(南纬度 80 度，北纬度 84 度)，极区附近，采用等角方位投影(极球面投影)。</p> <p>地图分幅为:</p> <p>纬度 60 以下，纬度差 4 经差 6 度分幅</p> <p>纬度 60-76，纬度差 4 经差 12 度分幅</p> <p>纬度 76-84，纬度差 4 经差 24 度分幅</p> <p>纬度 84-88，纬度差 4 经差 36 度分幅</p> <p>88-90 仍为一幅图</p> <p>每幅图内两条标准纬线的纬度:</p> <p>Q1=QS+40 分 (南纬度) Q2=QN-40 分(北纬度)</p> <p>投影后经线是辐射直线，东西图幅可完全拼接，南北图幅有裂隙。</p> <p>我国采用等角割圆锥，Q1=PHIS+35 分 Q2=PHIN-35 分</p> <p>好文要顶 关注我 收藏该文</p> <h1 id="高斯-克吕格投影与-utm-投影的异同"><a href="#高斯-克吕格投影与-utm-投影的异同" class="header-anchor">#</a> 高斯-克吕格投影与 UTM 投影的异同</h1> <p>高斯-克吕格投影与 UTM 投影都是横轴墨卡托投影的变种，目前一些国外的软件或国外进口仪器的配套软件往往不支持高斯-克吕格投影，但支持 UTM 投影，因此常有把 UTM 投影当作高斯-克吕格投影的现象。</p> <p>从投影几何方式看，高斯-克吕格投影是“等角横切椭圆柱投影”，投影后中央经线保持长度不变，即比例系数为 1；UTM 投影是“等角横轴割圆柱投影”，圆柱割地球于南纬 80 度、北纬 84 度两条等高圈，投影后两条割线上没有变形，中央经线上长度比 0.9996。</p> <p>从计算结果看，两者主要差别在比例因子上，高斯-克吕格投影中央经线上的比例系数为 1，UTM 投影为 0.9996，高斯-克吕格投影与 UTM 投影可近似采用 X[UTM]=0.9996*X[高斯]，Y[UTM]=0.9996*Y[高斯]，进行坐标转换（注意：如坐标纵轴西移了 500000 米，转换时必须将 Y 值减去 500000 乘上比例因子后再加 500000）。</p> <table><thead><tr><th></th> <th>输入坐标（度）</th> <th>高斯投影（米）</th> <th>UTM 投影（米）</th> <th>Xutm=0.9996*X 高斯 / Yutm=0.9996*Y 高斯</th></tr></thead> <tbody><tr><td>纬度值（X）</td> <td>32</td> <td>3543600.9</td> <td>3542183.5</td> <td>3543600.9*0.9996≈3542183.5</td></tr> <tr><td>经度值（Y）</td> <td>121</td> <td>21310996.8</td> <td>311072.4</td> <td>（310996.8-500000）*0.9996+500000≈311072.4</td></tr></tbody></table> <p>从分带方式看，两者的分带起点不同，高斯-克吕格投影自 0 度子午线起每隔经差 6 度自西向东分带，第 1 带的中央经度为 3°；UTM 投影自西经 180° 起每隔经差 6 度自西向东分带，第 1 带的中央经度为-177°，因此高斯-克吕格投影的第 1 带是 UTM 的第 31 带。</p> <p>此外，两投影的东伪偏移（False Easting）都是 500 公里，高斯-克吕格投影北伪偏移（False_Northing）为零，UTM 北半球投影北伪偏移（False Northing）为零，南半球则为 10000 公里。</p></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h1 active"><a href="#火星坐标" title="火星坐标">火星坐标</a></div><div class="vuepress-toc-item vuepress-toc-h1"><a href="#百度坐标" title="百度坐标">百度坐标</a></div><div class="vuepress-toc-item vuepress-toc-h1"><a href="#wgs-84-坐标" title="WGS-84 坐标">WGS-84 坐标</a></div><div class="vuepress-toc-item vuepress-toc-h1"><a href="#node-js-库推荐" title="Node.js 库推荐">Node.js 库推荐</a></div><div class="vuepress-toc-item vuepress-toc-h1"><a href="#墨卡托投影" title="墨卡托投影">墨卡托投影</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#经纬度转墨卡托投影坐标" title="经纬度转墨卡托投影坐标">经纬度转墨卡托投影坐标</a></div><div class="vuepress-toc-item vuepress-toc-h1"><a href="#utm-投影" title="UTM 投影">UTM 投影</a></div><div class="vuepress-toc-item vuepress-toc-h1"><a href="#高斯-克吕格投影" title="高斯-克吕格投影">高斯-克吕格投影</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#正算公式" title="正算公式">正算公式</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#反算公式" title="反算公式">反算公式</a></div><div class="vuepress-toc-item vuepress-toc-h1"><a href="#兰伯特等角圆锥投影" title="兰伯特等角圆锥投影">兰伯特等角圆锥投影</a></div><div class="vuepress-toc-item vuepress-toc-h1"><a href="#高斯-克吕格投影与-utm-投影的异同" title="高斯-克吕格投影与 UTM 投影的异同">高斯-克吕格投影与 UTM 投影的异同</a></div></div> <div id="blog-adv" data-v-206924b9><iframe src="" frameborder="0" width="640" height="200" class="adv-iframe" data-v-206924b9></iframe></div></div></div> <footer class="footer" data-v-4ee6079d><div class="footer-right-wrap" data-v-4ee6079d><ul class="copyright" data-v-4ee6079d><li class="copyright-item" data-v-4ee6079d><a href="/" class="nav-link" data-v-4ee6079d>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1da0bb69.js" defer></script><script src="/assets/js/14.55e4c550.js" defer></script><script src="/assets/js/7.84f6b2a8.js" defer></script><script src="/assets/js/77.30598a8c.js" defer></script>
  </body>
</html>
