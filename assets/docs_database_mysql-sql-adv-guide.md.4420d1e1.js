import{_ as s,o as a,c as n,V as l}from"./chunks/framework.4acca30d.js";const F=JSON.parse('{"title":"MySQL 的一些常用 SQL 集合","description":"","frontmatter":{"title":"MySQL 的一些常用 SQL 集合","catalog":true,"date":"2018-03-23T11:40:24.000Z","subtitle":null,"header-img":null,"tags":["MySQL"]},"headers":[],"relativePath":"docs/database/mysql-sql-adv-guide.md","filePath":"docs/database/mysql-sql-adv-guide.md"}'),p={name:"docs/database/mysql-sql-adv-guide.md"},e=l(`<h1 id="mysql-的一些常用-sql-集合" tabindex="-1">MySQL 的一些常用 SQL 集合 <a class="header-anchor" href="#mysql-的一些常用-sql-集合" aria-label="Permalink to &quot;MySQL 的一些常用 SQL 集合&quot;">​</a></h1><h2 id="简单描述表结构-字段类型" tabindex="-1">简单描述表结构，字段类型 <a class="header-anchor" href="#简单描述表结构-字段类型" aria-label="Permalink to &quot;简单描述表结构，字段类型&quot;">​</a></h2><p>显示表结构，字段类型，主键，是否为空等属性，但不显示外键。</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">desc</span><span style="color:#A6ACCD;"> tabl_name;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="查询数据库的外键关系" tabindex="-1">查询数据库的外键关系 <a class="header-anchor" href="#查询数据库的外键关系" aria-label="Permalink to &quot;查询数据库的外键关系&quot;">​</a></h2><p>你可以通过 <code>INFORMATION_SCHEMA.KEY_COLUMN_USAGE</code> 表来查看。</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> INFORMATION_SCHEMA.KEY_COLUMN_USAGE </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> REFERENCED_TABLE_NAME </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">t_stu</span><span style="color:#89DDFF;">&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="查询表中列的注释信息" tabindex="-1">查询表中列的注释信息 <a class="header-anchor" href="#查询表中列的注释信息" aria-label="Permalink to &quot;查询表中列的注释信息&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> information_schema.columns</span></span>
<span class="line"><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> table_schema </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">db</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">-- 表所在数据库</span></span>
<span class="line"><span style="color:#F78C6C;">and</span><span style="color:#A6ACCD;"> table_name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tablename</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> ; </span><span style="color:#676E95;font-style:italic;">-- 你要查的表</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="只查询列名和注释" tabindex="-1">只查询列名和注释 <a class="header-anchor" href="#只查询列名和注释" aria-label="Permalink to &quot;只查询列名和注释&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> column_name, column_comment </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> information_schema.columns </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> table_schema </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">db</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">and</span><span style="color:#A6ACCD;"> table_name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tablename</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> ;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="查看表的注释" tabindex="-1">查看表的注释 <a class="header-anchor" href="#查看表的注释" aria-label="Permalink to &quot;查看表的注释&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> table_name,table_comment </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> information_schema.tables </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> table_schema </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">db</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">and</span><span style="color:#A6ACCD;"> table_name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tablename</span><span style="color:#89DDFF;">&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="查看表生成的-ddl" tabindex="-1">查看表生成的 DDL <a class="header-anchor" href="#查看表生成的-ddl" aria-label="Permalink to &quot;查看表生成的 DDL&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">show </span><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> table_name;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="复制数据" tabindex="-1">复制数据 <a class="header-anchor" href="#复制数据" aria-label="Permalink to &quot;复制数据&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> table1 </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="机器授权" tabindex="-1">机器授权 <a class="header-anchor" href="#机器授权" aria-label="Permalink to &quot;机器授权&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">grant</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">.</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">reader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> identified </span><span style="color:#F78C6C;">by</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">123456</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">WITH</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">GRANT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">OPTION</span></span>
<span class="line"><span style="color:#A6ACCD;">flush privileges</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="查询当前这周的数据" tabindex="-1">查询当前这周的数据 <a class="header-anchor" href="#查询当前这周的数据" aria-label="Permalink to &quot;查询当前这周的数据&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,submittime </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> enterprise </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> YEARWEEK(</span><span style="color:#F78C6C;">date_format</span><span style="color:#A6ACCD;">(submittime,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y-%m-%d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)) </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> YEARWEEK(</span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="查询上周的数据" tabindex="-1">查询上周的数据 <a class="header-anchor" href="#查询上周的数据" aria-label="Permalink to &quot;查询上周的数据&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,submittime </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> enterprise </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> YEARWEEK(</span><span style="color:#F78C6C;">date_format</span><span style="color:#A6ACCD;">(submittime,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y-%m-%d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)) </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> YEARWEEK(</span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="查询当前月份的数据" tabindex="-1">查询当前月份的数据 <a class="header-anchor" href="#查询当前月份的数据" aria-label="Permalink to &quot;查询当前月份的数据&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,submittime </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> enterprise </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">date_format</span><span style="color:#A6ACCD;">(submittime,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y-%m</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">date_format</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y-%m</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="查询距离当前现在-6-个月的数据" tabindex="-1">查询距离当前现在 6 个月的数据 <a class="header-anchor" href="#查询距离当前现在-6-个月的数据" aria-label="Permalink to &quot;查询距离当前现在 6 个月的数据&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,submittime </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> enterprise </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> submittime </span><span style="color:#F78C6C;">between</span><span style="color:#A6ACCD;"> date_sub(</span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">,interval </span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">month</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="查询上个月的数据" tabindex="-1">查询上个月的数据 <a class="header-anchor" href="#查询上个月的数据" aria-label="Permalink to &quot;查询上个月的数据&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,submittime </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> enterprise </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">date_format</span><span style="color:#A6ACCD;">(submittime,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y-%m</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">date_format</span><span style="color:#A6ACCD;">(DATE_SUB(curdate</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">, INTERVAL </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">MONTH</span><span style="color:#A6ACCD;">),</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y-%m</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">user</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">DATE_FORMAT</span><span style="color:#A6ACCD;">(pudate,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y%m</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">DATE_FORMAT</span><span style="color:#A6ACCD;">(CURDATE</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y%m</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> user </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> WEEKOFYEAR(FROM_UNIXTIME(pudate,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%y-%m-%d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)) </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> WEEKOFYEAR(</span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> user</span></span>
<span class="line"><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MONTH</span><span style="color:#A6ACCD;">(FROM_UNIXTIME(pudate,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%y-%m-%d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)) </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MONTH</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> [user]</span></span>
<span class="line"><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">YEAR</span><span style="color:#A6ACCD;">(FROM_UNIXTIME(pudate,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%y-%m-%d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)) </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">YEAR</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#F78C6C;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MONTH</span><span style="color:#A6ACCD;">(FROM_UNIXTIME(pudate,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%y-%m-%d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)) </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MONTH</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">now</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> [user]</span></span>
<span class="line"><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> pudate </span><span style="color:#F78C6C;">between</span><span style="color:#A6ACCD;"> 上月最后一天</span></span>
<span class="line"><span style="color:#F78C6C;">and</span><span style="color:#A6ACCD;"> 下月第一天</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="获取前一天时间的方法" tabindex="-1">获取前一天时间的方法 <a class="header-anchor" href="#获取前一天时间的方法" aria-label="Permalink to &quot;获取前一天时间的方法&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> DATE_SUB(current_date，INTERVAL </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">DAY</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> DATE_SUB(curdate</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">, INTERVAL </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">DAY</span><span style="color:#A6ACCD;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">mysql&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">date_sub</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">curdate</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">,interval 1 day</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#FFCB6B;">+------------------------------------+</span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">date_sub(curdate(</span><span style="color:#A6ACCD;">),interval 1 day) |</span></span>
<span class="line"><span style="color:#FFCB6B;">+------------------------------------+</span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">2006-06-19</span><span style="color:#A6ACCD;">                         </span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#FFCB6B;">+------------------------------------+</span></span>
<span class="line"><span style="color:#FFCB6B;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">row</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> (0.09 </span><span style="color:#C3E88D;">sec</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">mysql&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">date_sub</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">&#39;2006-06-04&#39;</span><span style="color:#FFCB6B;">,interval</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">day</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#FFCB6B;">+---------------------------------------+</span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">date_sub(</span><span style="color:#FFCB6B;">&#39;2006-06-04&#39;</span><span style="color:#FFCB6B;">,interval</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">day</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#FFCB6B;">+---------------------------------------+</span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">2006-06-03</span><span style="color:#A6ACCD;">                            </span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#FFCB6B;">+---------------------------------------+</span></span>
<span class="line"><span style="color:#FFCB6B;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">row</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> (0.00 </span><span style="color:#C3E88D;">sec</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="替换部分字段内容" tabindex="-1">替换部分字段内容 <a class="header-anchor" href="#替换部分字段内容" aria-label="Permalink to &quot;替换部分字段内容&quot;">​</a></h2><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">UPDATE</span><span style="color:#A6ACCD;"> imicro_messages </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> ms_content </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">REPLACE</span><span style="color:#A6ACCD;">(ms_content, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt;/span&gt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,34),o=[e];function r(t,c,C,y,i,D){return a(),n("div",null,o)}const d=s(p,[["render",r]]);export{F as __pageData,d as default};
