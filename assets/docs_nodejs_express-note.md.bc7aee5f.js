import{_ as s,o as a,c as n,V as l}from"./chunks/framework.4acca30d.js";const u=JSON.parse('{"title":"Express 笔记","description":"","frontmatter":{"title":"Express 笔记","catalog":true,"date":"2018-02-08T16:50:24.000Z","subtitle":null,"header-img":null,"tags":["JavaScript","NodeJS"]},"headers":[],"relativePath":"docs/nodejs/express-note.md","filePath":"docs/nodejs/express-note.md"}'),e={name:"docs/nodejs/express-note.md"},o=l(`<h1 id="express-笔记" tabindex="-1">Express 笔记 <a class="header-anchor" href="#express-笔记" aria-label="Permalink to &quot;Express 笔记&quot;">​</a></h1><h2 id="拦截跳转-登录为例" tabindex="-1">拦截跳转（登录为例） <a class="header-anchor" href="#拦截跳转-登录为例" aria-label="Permalink to &quot;拦截跳转（登录为例）&quot;">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 登录拦截器</span></span>
<span class="line"><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">req</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">next</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">originalUrl</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/login</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">session</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">user</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">redirect</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/login</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">next</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>经过测试，成功了</p><h2 id="bodyparser" tabindex="-1">bodyParser <a class="header-anchor" href="#bodyparser" aria-label="Permalink to &quot;bodyParser&quot;">​</a></h2><p>urlencoded 中设置 extended 为 true 和 false 的区别：</p><p>如果设置为 false，那么对 urlencoded 的数据的解析采用 querystring 库。 如果设置为 true，那么采用 qs 库，允许将富对象和数组编码为 url 编码格式，允许使用 url 编码的 json 体验。有关更多信息，请参阅 qs 库。 默认值为 true，但是不赞成使用默认值。</p><h2 id="multer-文件上传" tabindex="-1">multer 文件上传 <a class="header-anchor" href="#multer-文件上传" aria-label="Permalink to &quot;multer 文件上传&quot;">​</a></h2><p><a href="./nodejs-multer.html">multer 笔记</a></p>`,9),p=[o];function r(t,c,i,y,F,D){return a(),n("div",null,p)}const A=s(e,[["render",r]]);export{u as __pageData,A as default};
