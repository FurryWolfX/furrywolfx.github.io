(window.webpackJsonp=window.webpackJsonp||[]).push([[217],{468:function(s,t,a){"use strict";a.r(t);var e=a(5),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("在 Mac 下，Rust 的环境有两种方式，一种是通过官网的命令安装 rustup，就会安装好 rustc 和 cargo 等工具。还有一种方式是通过 brew 安装。")]),s._v(" "),a("p",[s._v("如果通过 brew 安装，执行如下命令：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("brew "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" rust\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("上面的方式安装后不能使用 rustup 工具来管理版本，所以不推荐。")]),s._v(" "),a("p",[s._v("如果想用 brew 安装，那就直接安装 rustup 工具：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("brew "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" rustup-init\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后执行：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("rustup-init\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("即可安装好 rust 环境及相关工具链。")]),s._v(" "),a("p",[s._v("不过这样安装，要升级 rustup 不能这样子升级：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("rustup self update\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("上面命令是无效的，brew 接管了 rustup 的更新及卸载。需要卸载 rust 环境可以使用官网的命令安装 rustup 卸载。")]),s._v(" "),a("p",[s._v("安装 Rust 之前，可以设置 ustc 的代理来提高下载速度：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RUSTUP_DIST_SERVER")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://mirrors.ustc.edu.cn/rust-static\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RUSTUP_UPDATE_ROOT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://mirrors.ustc.edu.cn/rust-static/rustup\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("安装完成后设置 Crates 镜像（编辑 $HOME/.cargo/config）：")]),s._v(" "),a("div",{staticClass:"language-ini line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ini"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[source.crates-io]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("registry")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(' "https://github.com/rust-lang/crates.io-index"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("replace-with")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" 'ustc'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[source.ustc]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("registry")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(' "git://mirrors.ustc.edu.cn/crates.io-index"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("Rust crates.io换国内镜像源")]),s._v(" "),a("p",[s._v("进入当前用户的 .cargo 目录 cd ~/.cargo")]),s._v(" "),a("p",[s._v("新建名字叫 config 的文件")]),s._v(" "),a("p",[s._v("编辑 config 文件写入")]),s._v(" "),a("div",{staticClass:"language-ini line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-ini"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[source.crates-io]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("registry")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(' "https://github.com/rust-lang/crates.io-index"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("replace-with")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" 'ustc'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[source.ustc]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("registry")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(' "git://mirrors.ustc.edu.cn/crates.io-index"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);