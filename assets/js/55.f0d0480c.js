(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{307:function(s,a,t){"use strict";t.r(a);var n=t(5),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"安装部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装部署"}},[s._v("#")]),s._v(" 安装部署")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g cordova\ncordova create MyApp\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" MyApp\ncordova platform "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" browser\ncordova run browser\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("blockquote",[t("p",[s._v("上面的 browser 可以是其他平台 (android/ios 等)")])]),s._v(" "),t("p",[s._v("我目前使用的是 android 平台，系统是 ubuntu")]),s._v(" "),t("p",[s._v("以下几个问题注意以下：")]),s._v(" "),t("ol",[t("li",[s._v("编译安卓 app 需要 oracle jdk, 不能用系统自带的 openjdk")]),s._v(" "),t("li",[s._v("保证 android sdk 已经配置到环境变量")]),s._v(" "),t("li",[s._v("保证 adb 正确链接设备")])]),s._v(" "),t("blockquote",[t("p",[s._v("adb 的配置可以参考这篇文章："),t("a",{attrs:{href:"http://www.linuxidc.com/Linux/2013-01/77625.htm",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.linuxidc.com/Linux/2013-01/77625.htm"),t("OutboundLink")],1)])]),s._v(" "),t("h1",{attrs:{id:"跨域请求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#跨域请求"}},[s._v("#")]),s._v(" 跨域请求")]),s._v(" "),t("p",[s._v("众所周知，浏览器为了安全，默认的请求是没法跨域的，在 cordova 中需要额外设置")]),s._v(" "),t("p",[s._v("这里要用到一个插件：cordova-plugin-whitelist")]),s._v(" "),t("p",[s._v("官方地址："),t("a",{attrs:{href:"http://cordova.apache.org/docs/en/latest/reference/cordova-plugin-whitelist/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://cordova.apache.org/docs/en/latest/reference/cordova-plugin-whitelist/index.html"),t("OutboundLink")],1)]),s._v(" "),t("h1",{attrs:{id:"视图架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图架构"}},[s._v("#")]),s._v(" 视图架构")]),s._v(" "),t("p",[s._v("因为 cordova 是单 webview 模式，所以视图架构直接影响 app 的体验。")]),s._v(" "),t("p",[s._v("推荐框架是 react.js, 性能高，jsx 配合 webpack 非常适合单页面应用的开发。(react-native 在这里不做介绍，有兴趣的可以看看，和 cordova 各有优势)")]),s._v(" "),t("p",[s._v("关于 jQuery/zepto, 并不是不能引，某些方法还是超级实用的，但是不要用他们来做 dom 操作，效率非常低。")]),s._v(" "),t("h1",{attrs:{id:"一些问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一些问题"}},[s._v("#")]),s._v(" 一些问题")]),s._v(" "),t("p",[s._v("某些手机存在 300ms 点击延迟，这个建议使用 fastclick.js 解决")]),s._v(" "),t("p",[t("strong",[s._v("还有一些坑稍后会补充。..")])]),s._v(" "),t("h1",{attrs:{id:"调试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调试"}},[s._v("#")]),s._v(" 调试")]),s._v(" "),t("p",[s._v("推荐 ripple")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g ripple-emulator\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" appDir\nripple emulate\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("真机调试：\n我写成了一个 bash 脚本")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home/wolfx/project/cordova/roadkeeper\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("arg")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$arg")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" -b "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    cordova build android\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("arg")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$arg")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    adb "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -r /home/wolfx/project/cordova/roadkeeper/platforms/android/build/outputs/apk/android-armv7-debug.apk\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("p",[s._v("也可以直接")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("cordova run android\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);